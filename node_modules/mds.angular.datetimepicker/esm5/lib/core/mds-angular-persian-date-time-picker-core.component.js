/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, Input, Output, EventEmitter } from '@angular/core';
import { trigger, state, style, animate, transition } from '@angular/animations';
import { Mds } from 'mds.persian.datetime';
var PersianDateTime = Mds.PersianDateTime;
var PersianDayOfWeek = Mds.PersianDayOfWeek;
var GregorianDayOfWeek = Mds.GregorianDayOfWeek;
import { MdsDatetimePickerResourcesService } from '../service/mds-datetime-picker-resources.service';
import { MdsDatetimePickerUtility } from '../classes/mds-datetime-picker.utility';
import { TemplateTypeEnum } from '../classes/enums';
var MdsAngularPersianDateTimePickerCoreComponent = /** @class */ (function () {
    function MdsAngularPersianDateTimePickerCoreComponent(resourcesService) {
        this.resourcesService = resourcesService;
        this.templateType = TemplateTypeEnum.bootstrap;
        this.initialValue = '';
        this._persianChar = true;
        this._isPersian = true;
        this.rangeSelector = false;
        this.timePicker = false;
        /**
          * فرمت پیش فرض 1393/09/14   13:49:40
          * yyyy: سال چهار رقمی
          * yy: سال دو رقمی
          * MMMM: نام فارسی ماه
          * MM: عدد دو رقمی ماه
          * M: عدد یک رقمی ماه
          * dddd: نام فارسی روز هفته
          * dd: عدد دو رقمی روز ماه
          * d: عدد یک رقمی روز ماه
          * HH: ساعت دو رقمی با فرمت 00 تا 24
          * H: ساعت یک رقمی با فرمت 0 تا 24
          * hh: ساعت دو رقمی با فرمت 00 تا 12
          * h: ساعت یک رقمی با فرمت 0 تا 12
          * mm: عدد دو رقمی دقیقه
          * m: عدد یک رقمی دقیقه
          * ss: ثانیه دو رقمی
          * s: ثانیه یک رقمی
          * fff: میلی ثانیه 3 رقمی
          * ff: میلی ثانیه 2 رقمی
          * f: میلی ثانیه یک رقمی
          * tt: ب.ظ یا ق.ظ
          * t: حرف اول از ب.ظ یا ق.ظ
          **/
        this.format = '';
        this.dateChanged = new EventEmitter();
        this.rangeDateChanged = new EventEmitter();
        this.daysAnimationStateName = 'visible';
        this.monthOrYearSelectorVisibilityStateName = 'hidden';
        this.monthSelectorVisibilityStateName = 'hidden';
        this.yearSelectorVisibilityStateName = 'hidden';
        // تاریخی که برای نمایش تقویم استفاده می شود
        this._dateTime = null;
        this._persianDateTime = null;
        // روز انتخاب شده
        this._selectedDateTime = null;
        this._selectedPersianDateTime = null;
        // روز شروع انتخاب شده در رنج سلکتور
        this._selectedStartDateTime = null;
        this._selectedPersianStartDateTime = null;
        // روز پایانی انتخاب شده در رنج سلکتور
        this._selectedEndDateTime = null;
        this._selectedPersianEndDateTime = null;
        this._resources = null;
        this._year = 0;
        this._yearString = '';
        this._month = 0;
        this._monthName = '';
        this._monthNames = [];
        this._hour = 0;
        this._hourString = '';
        this._minute = 0;
        this._minuteString = '';
        this._second = 0;
        this._secondString = '';
        this._weekdayNames = [];
        this._IMdsAngularDateTimePickerDate = null;
        this._selectedRangeDatesObject = null;
    }
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        if (this.rangeSelector)
            this.timePicker = false;
        if (!this.isPersian)
            this.persianChar = false;
        if (this.initialValue != '') {
            if (this.rangeSelector) {
                try {
                    if (this.isPersian) {
                        /** @type {?} */
                        var ranges = MdsDatetimePickerUtility.getPersianDateRanges(this.initialValue);
                        this.setSelectedRangePersianDateTimes(ranges);
                    }
                    else {
                        /** @type {?} */
                        var ranges = MdsDatetimePickerUtility.getDateRanges(this.initialValue);
                        this.setSelectedRangeDateTimes(ranges);
                    }
                    this.dateTime = this.selectedStartDateTime;
                }
                catch (e) {
                    console.error('value is in wrong format, when rangeSelector is true you should write value like "1396/03/01 - 1396/03/15" or "2017/3/9 - 2017/3/10"', e);
                    this.setSelectedRangeDateTimes(null);
                    this.dateTime = null;
                }
            }
            else {
                try {
                    if (this.isPersian)
                        this.dateTime = PersianDateTime.parse(this.initialValue).toDate();
                    else
                        this.dateTime = new Date(Date.parse(this.initialValue));
                }
                catch (e) {
                    console.error('value is in wrong format, you should write value like "1396/03/01  11:30:27" or "2017/09/03  11:30:00", you can remove time', e);
                    this.dateTime = null;
                }
            }
        }
        else {
            this.dateTime = null;
        }
        this.updateYearsList();
        this.updateMonthDays();
        if (this.initialValue != '') {
            if (this.rangeSelector)
                this.fireRangeChangeEvent();
            else
                this.fireChangeEvent();
        }
    };
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "persianChar", {
        get: /**
         * @return {?}
         */
        function () {
            return this._persianChar;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (this._persianChar == value)
                return;
            this._persianChar = value;
            this._yearString = '';
            this.resetMonthDaysWithContent();
        },
        enumerable: true,
        configurable: true
    });
    ;
    ;
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "isPersian", {
        get: /**
         * @return {?}
         */
        function () {
            return this._isPersian;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._isPersian = value;
            this._monthName = '';
            this._monthNames = [];
            this._weekdayNames = [];
            this._resources = null;
            this._yearString = '';
            if (this.dateTime != null) {
                this.updateYearsList();
                this.updateMonthDays();
            }
        },
        enumerable: true,
        configurable: true
    });
    ;
    ;
    /**
     * @param {?} dateString
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.splitStartEndDateString = /**
     * @param {?} dateString
     * @return {?}
     */
    function (dateString) {
        return dateString.split(' - ');
    };
    /**
     * @param {?} dateTimes
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.setSelectedRangeDateTimes = /**
     * @param {?} dateTimes
     * @return {?}
     */
    function (dateTimes) {
        dateTimes = dateTimes == null || dateTimes.length < 2 ? [null, null] : dateTimes;
        this.selectedStartDateTime = dateTimes[0];
        this.selectedEndDateTime = dateTimes[1];
    };
    /**
     * @param {?} persianDateTimes
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.setSelectedRangePersianDateTimes = /**
     * @param {?} persianDateTimes
     * @return {?}
     */
    function (persianDateTimes) {
        /** @type {?} */
        var ranges = [
            persianDateTimes[0] == null ? null : persianDateTimes[0].toDate(),
            persianDateTimes[1] == null ? null : persianDateTimes[1].toDate()
        ];
        this.setSelectedRangeDateTimes(ranges);
    };
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "persianStartDayOfMonth", {
        get: /**
         * @return {?}
         */
        function () {
            return this.persianDateTime.startDayOfMonthDayOfWeek;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "gregorianStartDayOfMonth", {
        get: /**
         * @return {?}
         */
        function () {
            return (/** @type {?} */ (new Date(this.dateTime.getFullYear(), this.dateTime.getMonth(), 1).getDay()));
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} dateTime
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.clearTime = /**
     * @param {?} dateTime
     * @return {?}
     */
    function (dateTime) {
        if (dateTime == null)
            return;
        dateTime.setHours(0, 0, 0, 0);
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.getDateTimeFormat = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var format = this.format;
        if (format.trim() == '') {
            format = 'yyyy/MM/dd';
            if (this.timePicker && !this.rangeSelector)
                format += '   hh:mm:ss';
        }
        else if (this.rangeSelector || !this.timePicker)
            format = format.replace(/t*|f*|s*|m*|h*|H*/, '');
        return format;
    };
    /**
     * @param {?} dateTime
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.setDateTimeByDate = /**
     * @param {?} dateTime
     * @return {?}
     */
    function (dateTime) {
        this.dateTime = this.selectedDateTime = dateTime;
        this.selectedStartDateTime = !dateTime ? null : new Date(dateTime);
    };
    /**
     * @param {?} startDateTime
     * @param {?} endDateTime
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.setDateTimeRangesByDate = /**
     * @param {?} startDateTime
     * @param {?} endDateTime
     * @return {?}
     */
    function (startDateTime, endDateTime) {
        this.dateTime = this.selectedDateTime = startDateTime;
        this.selectedStartDateTime = startDateTime == null ? null : new Date(startDateTime);
        this.selectedEndDateTime = endDateTime == null ? null : new Date(endDateTime);
    };
    /**
     * @param {?} dateTimeString
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.setDateTimeByString = /**
     * @param {?} dateTimeString
     * @return {?}
     */
    function (dateTimeString) {
        try {
            if (dateTimeString == '') {
                this.clearDateTimePicker();
                return;
            }
            if (this.isPersian) {
                if (this.rangeSelector) {
                    /** @type {?} */
                    var startAndEndDateArray = this.splitStartEndDateString(dateTimeString);
                    this.dateTime = this.selectedStartDateTime = PersianDateTime.parse(startAndEndDateArray[0]).toDate();
                    this.selectedEndDateTime = PersianDateTime.parse(startAndEndDateArray[1]).toDate();
                    if (this.selectedStartDateTime > this.selectedEndDateTime)
                        throw new Error('Start date must be less than end date');
                }
                else
                    this.dateTime = this.selectedDateTime = PersianDateTime.parse(dateTimeString).toDate();
            }
            else {
                if (this.rangeSelector) {
                    /** @type {?} */
                    var startAndEndDateArray = this.splitStartEndDateString(dateTimeString);
                    this.dateTime = this.selectedStartDateTime = new Date(Date.parse(startAndEndDateArray[0]));
                    this.selectedEndDateTime = new Date(Date.parse(startAndEndDateArray[1]));
                    if (this.selectedStartDateTime > this.selectedEndDateTime)
                        throw new Error('Start date must be less than end date');
                }
                else
                    this.dateTime = this.selectedDateTime = new Date(Date.parse(dateTimeString));
            }
            if (this.rangeSelector)
                this.fireRangeChangeEvent();
            else
                this.fireChangeEvent();
            this.updateMonthDays();
        }
        catch (e) {
            this.clearDateTimePicker();
            throw new Error(e);
        }
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.clearDateTimePicker = /**
     * @return {?}
     */
    function () {
        this.dateTime = null;
        this.selectedDateTime = this.selectedStartDateTime = this.selectedEndDateTime = null;
        this.resetToFalseRangeParametersInMonthDays();
        if (this.rangeSelector)
            this.fireRangeChangeEvent();
        else
            this.fireChangeEvent();
        this.updateMonthDays();
    };
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "getSelectedDate", {
        get: /**
         * @return {?}
         */
        function () {
            return this.getSelectedDateObject;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "getSelectedRangeDates", {
        get: /**
         * @return {?}
         */
        function () {
            return this.getSelectedRangeDatesObject;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "dateTime", {
        get: /**
         * @return {?}
         */
        function () {
            return this._dateTime;
        },
        set: /**
         * @param {?} dateTime
         * @return {?}
         */
        function (dateTime) {
            this._dateTime = dateTime == null ? new Date() : new Date(dateTime);
            this._persianDateTime = null;
            this._year = this._month = 0;
            this._yearString = this._monthName = '';
            this._hour = this._minute = this._second = 0;
            this._hourString = this._minuteString = this._secondString = '';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "persianDateTime", {
        get: /**
         * @return {?}
         */
        function () {
            if (this.dateTime == null)
                return null;
            if (this._persianDateTime != null)
                return this._persianDateTime;
            this._persianDateTime = new PersianDateTime(this.dateTime);
            return this._persianDateTime;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "selectedDateTime", {
        get: /**
         * @return {?}
         */
        function () {
            return this._selectedDateTime;
        },
        set: /**
         * @param {?} dateTime
         * @return {?}
         */
        function (dateTime) {
            this._selectedDateTime = dateTime == null ? null : new Date(dateTime);
            this._IMdsAngularDateTimePickerDate = null;
            this._selectedPersianDateTime = null;
            if (this.rangeSelector || !this.timePicker)
                this.clearTime(dateTime);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "selectedPersianDateTime", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._selectedPersianDateTime != null)
                return this._selectedPersianDateTime;
            this._selectedPersianDateTime = new PersianDateTime(this.selectedDateTime);
            return this._selectedPersianDateTime;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "selectedStartDateTime", {
        get: /**
         * @return {?}
         */
        function () {
            return this._selectedStartDateTime;
        },
        set: /**
         * @param {?} dateTime
         * @return {?}
         */
        function (dateTime) {
            this._selectedStartDateTime = dateTime == null ? null : new Date(dateTime);
            this._selectedRangeDatesObject = null;
            this._selectedPersianStartDateTime = null;
            this.clearTime(dateTime);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "selectedPersianStartDateTime", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._selectedPersianStartDateTime != null)
                return this._selectedPersianStartDateTime;
            this._selectedPersianStartDateTime = new PersianDateTime(this.selectedStartDateTime);
            return this._selectedPersianStartDateTime;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "selectedEndDateTime", {
        get: /**
         * @return {?}
         */
        function () {
            return this._selectedEndDateTime;
        },
        set: /**
         * @param {?} dateTime
         * @return {?}
         */
        function (dateTime) {
            this._selectedEndDateTime = dateTime == null ? null : new Date(dateTime);
            this._selectedRangeDatesObject = null;
            this._selectedPersianEndDateTime = null;
            this.clearTime(dateTime);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "selectedPersianEndDateTime", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._selectedPersianEndDateTime != null)
                return this._selectedPersianEndDateTime;
            this._selectedPersianEndDateTime = new PersianDateTime(this.selectedEndDateTime);
            return this._selectedPersianEndDateTime;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "resources", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._resources != null)
                return this._resources;
            if (this.isPersian)
                this._resources = this.resourcesService.persianResources;
            else
                this._resources = this.resourcesService.englishResources;
            return this._resources;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "year", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._year > 0)
                return this._year;
            this._year = this.isPersian
                ? this.persianDateTime.year
                : this.dateTime.getFullYear();
            return this._year;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "yearString", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._yearString != '')
                return this._yearString;
            this._yearString = this.persianChar
                ? MdsDatetimePickerUtility.toPersianNumber(this.year.toString())
                : this.dateTime.getFullYear().toString();
            return this._yearString;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "month", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._month > 0)
                return this._month;
            this._month = this.isPersian
                ? PersianDateTime.getPersianMonthIndex(this.persianDateTime.monthName)
                : this.dateTime.getMonth();
            return this._month;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "monthName", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._monthName != '')
                return this._monthName;
            this._monthName = this.isPersian
                ? this.persianDateTime.monthName
                : PersianDateTime.getGregorianMonthNames[this.month];
            return this._monthName;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "monthNames", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._monthNames != null && this._monthNames.length > 0)
                return this._monthNames;
            if (this.isPersian) {
                /** @type {?} */
                var allPersianMonths = PersianDateTime.getPersianMonthNames;
                this._monthNames = [
                    allPersianMonths[2], allPersianMonths[1], allPersianMonths[0],
                    allPersianMonths[5], allPersianMonths[4], allPersianMonths[3],
                    allPersianMonths[8], allPersianMonths[7], allPersianMonths[6],
                    allPersianMonths[11], allPersianMonths[10], allPersianMonths[9]
                ];
            }
            else {
                this._monthNames = PersianDateTime.getGregorianMonthNames;
            }
            return this._monthNames;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "hour", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._hour > 0)
                return this._hour;
            this._hour = this.dateTime.getHours();
            return this._hour;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "hourString", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._hourString != '')
                return this._hourString;
            this._hourString = this.hour.toString();
            if (this.persianChar)
                this._hourString = MdsDatetimePickerUtility.toPersianNumber(this._hourString);
            return this._hourString;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "minute", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._minute > 0)
                return this._minute;
            this._minute = this.dateTime.getMinutes();
            return this._minute;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "minuteString", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._minuteString != '')
                return this._minuteString;
            this._minuteString = this.minute.toString();
            if (this.persianChar)
                this._minuteString = MdsDatetimePickerUtility.toPersianNumber(this._minuteString);
            return this._minuteString;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "second", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._second > 0)
                return this._second;
            this._second = this.dateTime.getSeconds();
            return this._second;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "secondString", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._secondString != '')
                return this._secondString;
            this._secondString = this.second.toString();
            if (this.persianChar)
                this._secondString = MdsDatetimePickerUtility.toPersianNumber(this._secondString);
            return this._secondString;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "weekdayNames", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._weekdayNames != null && this._weekdayNames.length > 0)
                return this._weekdayNames;
            if (this.isPersian) {
                // حروف اول نام های روز هفته شمسی
                /** @type {?} */
                var persianWeekDayNames = PersianDateTime.getPersianWeekdayNames;
                this._weekdayNames = [
                    persianWeekDayNames[6][0], persianWeekDayNames[5][0], persianWeekDayNames[4][0],
                    persianWeekDayNames[3][0], persianWeekDayNames[2][0], persianWeekDayNames[1][0],
                    persianWeekDayNames[0][0]
                ];
            }
            else {
                /** @type {?} */
                var gregorianWeekDayNames = PersianDateTime.getGregorianWeekdayNames;
                this._weekdayNames = [
                    gregorianWeekDayNames[1][0] + gregorianWeekDayNames[1][1],
                    gregorianWeekDayNames[2][0] + gregorianWeekDayNames[2][1],
                    gregorianWeekDayNames[3][0] + gregorianWeekDayNames[3][1],
                    gregorianWeekDayNames[4][0] + gregorianWeekDayNames[4][1],
                    gregorianWeekDayNames[5][0] + gregorianWeekDayNames[5][1],
                    gregorianWeekDayNames[6][0] + gregorianWeekDayNames[6][1],
                    gregorianWeekDayNames[0][0] + gregorianWeekDayNames[0][1]
                ];
            }
            return this._weekdayNames;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "getSelectedDateObject", {
        get: /**
         * @return {?}
         */
        function () {
            if (this.selectedDateTime == null)
                return null;
            if (this._IMdsAngularDateTimePickerDate != null)
                return this._IMdsAngularDateTimePickerDate;
            /** @type {?} */
            var format = this.getDateTimeFormat();
            if (this.isPersian) {
                this._IMdsAngularDateTimePickerDate = {
                    year: this.selectedPersianDateTime.year,
                    month: this.selectedPersianDateTime.month,
                    day: this.selectedPersianDateTime.day,
                    hour: this.selectedPersianDateTime.hour,
                    minute: this.selectedPersianDateTime.minute,
                    second: this.selectedPersianDateTime.second,
                    millisecond: this.selectedPersianDateTime.millisecond,
                    formatString: this.selectedPersianDateTime.toString(format),
                    utcDateTime: this.selectedDateTime
                };
            }
            else {
                this._IMdsAngularDateTimePickerDate = {
                    year: this.selectedDateTime.getFullYear(),
                    month: this.selectedDateTime.getMonth(),
                    day: this.selectedDateTime.getDate(),
                    hour: this.selectedDateTime.getHours(),
                    minute: this.selectedDateTime.getMinutes(),
                    second: this.selectedDateTime.getSeconds(),
                    millisecond: this.selectedDateTime.getMilliseconds(),
                    formatString: MdsDatetimePickerUtility.dateTimeToString(this.selectedDateTime, format),
                    utcDateTime: this.selectedDateTime
                };
            }
            if (this.persianChar)
                this._IMdsAngularDateTimePickerDate.formatString = MdsDatetimePickerUtility.toPersianNumber(this._IMdsAngularDateTimePickerDate.formatString);
            else
                this._IMdsAngularDateTimePickerDate.formatString = MdsDatetimePickerUtility.toEnglishString(this._IMdsAngularDateTimePickerDate.formatString);
            return this._IMdsAngularDateTimePickerDate;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "getSelectedDay", {
        get: /**
         * @return {?}
         */
        function () {
            if (this.getSelectedDateObject == null || this.rangeSelector)
                return 0;
            return this.getSelectedDateObject.day;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "getSelectedRangeDatesObject", {
        get: /**
         * @return {?}
         */
        function () {
            if (!this.rangeSelector || this.selectedStartDateTime == null && this.selectedEndDateTime == null)
                return null;
            if (this._selectedRangeDatesObject != null)
                return this._selectedRangeDatesObject;
            /** @type {?} */
            var format = this.getDateTimeFormat();
            /** @type {?} */
            var startDate;
            /** @type {?} */
            var endDate;
            if (this.isPersian) {
                startDate = {
                    year: this.selectedStartDateTime == null ? 0 : this.selectedPersianStartDateTime.year,
                    month: this.selectedStartDateTime == null ? 0 : this.selectedPersianStartDateTime.month,
                    day: this.selectedStartDateTime == null ? 0 : this.selectedPersianStartDateTime.day,
                    hour: 0,
                    minute: 0,
                    second: 0,
                    millisecond: 0,
                    formatString: this.selectedStartDateTime == null ? '' : this.selectedPersianStartDateTime.toString(format),
                    utcDateTime: this.selectedStartDateTime
                };
                endDate = {
                    year: this.selectedPersianEndDateTime == null ? 0 : this.selectedPersianEndDateTime.year,
                    month: this.selectedPersianEndDateTime == null ? 0 : this.selectedPersianEndDateTime.month,
                    day: this.selectedPersianEndDateTime == null ? 0 : this.selectedPersianEndDateTime.day,
                    hour: 0,
                    minute: 0,
                    second: 0,
                    millisecond: 0,
                    formatString: this.selectedPersianEndDateTime == null ? '' : this.selectedPersianEndDateTime.toString(format),
                    utcDateTime: this.selectedEndDateTime
                };
            }
            else {
                startDate = {
                    year: this.selectedStartDateTime == null ? 0 : this.selectedStartDateTime.getFullYear(),
                    month: this.selectedStartDateTime == null ? 0 : this.selectedStartDateTime.getMonth(),
                    day: this.selectedStartDateTime == null ? 0 : this.selectedStartDateTime.getDate(),
                    hour: 0,
                    minute: 0,
                    second: 0,
                    millisecond: 0,
                    formatString: this.selectedStartDateTime == null ? '' : MdsDatetimePickerUtility.dateTimeToString(this.selectedStartDateTime, format),
                    utcDateTime: this.selectedStartDateTime == null ? null : this.selectedStartDateTime
                };
                endDate = {
                    year: this.selectedEndDateTime == null ? 0 : this.selectedEndDateTime.getFullYear(),
                    month: this.selectedEndDateTime == null ? 0 : this.selectedEndDateTime.getMonth(),
                    day: this.selectedEndDateTime == null ? 0 : this.selectedEndDateTime.getDate(),
                    hour: 0,
                    minute: 0,
                    second: 0,
                    millisecond: 0,
                    formatString: this.selectedEndDateTime == null ? '' : MdsDatetimePickerUtility.dateTimeToString(this.selectedEndDateTime, format),
                    utcDateTime: this.selectedEndDateTime == null ? null : this.selectedEndDateTime
                };
            }
            this._selectedRangeDatesObject = {
                startDate: startDate,
                endDate: endDate
            };
            return this._selectedRangeDatesObject;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "isRejectButtonDisable", {
        get: /**
         * @return {?}
         */
        function () {
            return this.selectedStartDateTime == null && this.selectedEndDateTime == null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "isConfirmButtonDisable", {
        get: /**
         * @return {?}
         */
        function () {
            return this.selectedStartDateTime == null || this.selectedEndDateTime == null;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.updateYearsList = /**
     * @return {?}
     */
    function () {
        this.yearsToSelect = [];
        /** @type {?} */
        var selectedYear = this.year;
        for (var i = selectedYear - 37; i <= selectedYear + 37; i++) {
            if (this.persianChar)
                this.yearsToSelect.push(MdsDatetimePickerUtility.toPersianNumber(i.toString()));
            else
                this.yearsToSelect.push(i.toString());
        }
    };
    /**
     * @param {?} year
     * @param {?} month
     * @param {?} day
     * @param {?} disabled
     * @param {?} holiDay
     * @param {?} isToday
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.getDayObject = /**
     * @param {?} year
     * @param {?} month
     * @param {?} day
     * @param {?} disabled
     * @param {?} holiDay
     * @param {?} isToday
     * @return {?}
     */
    function (year, month, day, disabled, holiDay, isToday) {
        /** @type {?} */
        var isWithinDateRange = false;
        /** @type {?} */
        var isStartOrEndOfRange = false;
        if (this.rangeSelector && this.selectedStartDateTime != null) {
            /** @type {?} */
            var dateTime = this.isPersian
                ? PersianDateTime.fromPersianDate(year, month, day).toDate()
                : new Date(year, month, day);
            isWithinDateRange = dateTime >= this.selectedStartDateTime;
            if (this.selectedEndDateTime != null)
                isWithinDateRange = isWithinDateRange && dateTime <= this.selectedEndDateTime;
            isStartOrEndOfRange =
                (this.selectedStartDateTime != null && dateTime.getTime() == this.selectedStartDateTime.getTime()) ||
                    (this.selectedEndDateTime != null && dateTime.getTime() == this.selectedEndDateTime.getTime());
        }
        return {
            year: year,
            month: month,
            day: day,
            dayString: this.persianChar ? MdsDatetimePickerUtility.toPersianNumber(day.toString()) : day.toString(),
            disable: disabled,
            holiDay: holiDay,
            today: isToday,
            isWithinRange: isWithinDateRange,
            isStartOrEndOfRange: isStartOrEndOfRange
        };
    };
    Object.defineProperty(MdsAngularPersianDateTimePickerCoreComponent.prototype, "isRangeSelectorReady", {
        get: /**
         * @return {?}
         */
        function () {
            if (!this.rangeSelector)
                return false;
            if (this.selectedStartDateTime == null)
                return false; // هنوز روز شروع انتخاب نشده است
            if (this.selectedStartDateTime != null && this.selectedEndDateTime != null)
                return false; // رنج تاریخ انتخاب شده بود
            return true;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.updateMonthDays = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var days = [];
        /** @type {?} */
        var counter = 0;
        /** @type {?} */
        var year = 0;
        /** @type {?} */
        var month = 0;
        if (this.isPersian) {
            /** @type {?} */
            var persianDateTimeNow = PersianDateTime.now;
            /** @type {?} */
            var today = persianDateTimeNow.day;
            /** @type {?} */
            var isYearAndMonthInCurrentMonth = persianDateTimeNow.year == this.persianDateTime.year && persianDateTimeNow.month == this.persianDateTime.month;
            // روزهای ماه قبل
            if (this.persianStartDayOfMonth != PersianDayOfWeek.Saturday) {
                /** @type {?} */
                var previousPersianMonth = this.persianDateTime.addMonths(-1);
                year = previousPersianMonth.year;
                month = previousPersianMonth.month;
                for (var i = previousPersianMonth.getMonthDays - this.persianStartDayOfMonth + 1; i <= previousPersianMonth.getMonthDays; i++) {
                    counter++;
                    days.push(this.getDayObject(year, month, i, true, false, false));
                }
            }
            // روزهای ماه جاری
            year = this.persianDateTime.year;
            month = this.persianDateTime.month;
            for (var i = 1; i <= this.persianDateTime.getMonthDays; i++) {
                counter++;
                days.push(this.getDayObject(year, month, i, false, false, isYearAndMonthInCurrentMonth && i == today));
            }
            // روزهای ماه بعد
            /** @type {?} */
            var nextMonthPersianDateTime = this.persianDateTime.addMonths(1);
            year = nextMonthPersianDateTime.year;
            month = nextMonthPersianDateTime.month;
            for (var i = 1; counter <= (6 * 7) - 1; i++) {
                counter++;
                days.push(this.getDayObject(year, month, i, true, false, false));
            }
            // درست کردن راست به چپ بودن تقویم
            /** @type {?} */
            var temp = days.slice(0);
            for (var row = 0; row < 6; row++) {
                for (var column = 0; column < 7; column++) {
                    /** @type {?} */
                    var index1 = row * 7 + column;
                    /** @type {?} */
                    var index2 = Math.abs((row + 1) * 7 - (column + 1));
                    days[index1] = temp[index2];
                    if (column == 0)
                        days[index1].holiDay = true;
                }
            }
        }
        else {
            /** @type {?} */
            var dateTimeNow = new Date();
            /** @type {?} */
            var today = dateTimeNow.getDate();
            /** @type {?} */
            var isYearAndMonthInCurrentMonth = dateTimeNow.getMonth() == this.dateTime.getMonth() && dateTimeNow.getFullYear() == this.dateTime.getFullYear();
            // روزهای ماه قبل
            if (this.gregorianStartDayOfMonth != GregorianDayOfWeek.Saturday) {
                /** @type {?} */
                var dateTimeClone = new Date(this.dateTime);
                dateTimeClone.setMonth(this.dateTime.getMonth());
                year = dateTimeClone.getFullYear();
                month = dateTimeClone.getMonth();
                /** @type {?} */
                var previousMonthDays = new Date(dateTimeClone.getFullYear(), dateTimeClone.getMonth(), 0).getDate();
                for (var i = previousMonthDays - this.gregorianStartDayOfMonth + 1; i <= previousMonthDays; i++) {
                    counter++;
                    days.push(this.getDayObject(year, month - 1, i, true, false, false));
                }
            }
            // روزهای ماه جاری
            year = this.dateTime.getFullYear();
            month = this.dateTime.getMonth();
            /** @type {?} */
            var currentMonthDays = new Date(year, month, 0).getDate();
            for (var i = 1; i <= currentMonthDays; i++) {
                counter++;
                days.push(this.getDayObject(year, month, i, false, false, isYearAndMonthInCurrentMonth && i == today));
            }
            // روزهای ماه بعد
            /** @type {?} */
            var nextMonthDateTime = new Date(year, month + 1, 1);
            year = nextMonthDateTime.getFullYear();
            month = nextMonthDateTime.getMonth();
            for (var i = 1; counter <= (6 * 7) - 1; i++) {
                counter++;
                days.push(this.getDayObject(year, month, i, true, false, false));
            }
            // تعطیل کردن روزهای جمعه
            for (var row = 0; row < 6; row++) {
                for (var column = 0; column < 7; column++) {
                    /** @type {?} */
                    var index1 = row * 7 + column;
                    if (column == 0)
                        days[index1].holiDay = true;
                }
            }
        }
        this.daysInMonth = days;
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.fireChangeEvent = /**
     * @return {?}
     */
    function () {
        this.dateChanged.emit(this.getSelectedDateObject);
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.fireRangeChangeEvent = /**
     * @return {?}
     */
    function () {
        this.rangeDateChanged.emit(this.getSelectedRangeDatesObject);
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.resetToFalseRangeParametersInMonthDays = /**
     * @return {?}
     */
    function () {
        try {
            for (var _a = tslib_1.__values(this.daysInMonth), _b = _a.next(); !_b.done; _b = _a.next()) {
                var IMdsAngularDateTimePickerDay = _b.value;
                IMdsAngularDateTimePickerDay.isWithinRange = false;
                IMdsAngularDateTimePickerDay.isStartOrEndOfRange = false;
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
            }
            finally { if (e_1) throw e_1.error; }
        }
        var e_1, _c;
    };
    /**
     * ریست کردن تمامی اطلاعات روزهای ماه
     */
    /**
     * ریست کردن تمامی اطلاعات روزهای ماه
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.resetMonthDaysWithContent = /**
     * ریست کردن تمامی اطلاعات روزهای ماه
     * @return {?}
     */
    function () {
        if (this.daysInMonth == undefined)
            return;
        try {
            for (var _a = tslib_1.__values(this.daysInMonth), _b = _a.next(); !_b.done; _b = _a.next()) {
                var IMdsAngularDateTimePickerDay = _b.value;
                IMdsAngularDateTimePickerDay.isWithinRange = false;
                IMdsAngularDateTimePickerDay.isStartOrEndOfRange = false;
                IMdsAngularDateTimePickerDay.dayString = this.persianChar
                    ? MdsDatetimePickerUtility.toPersianNumber(IMdsAngularDateTimePickerDay.day.toString())
                    : IMdsAngularDateTimePickerDay.day.toString();
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
            }
            finally { if (e_2) throw e_2.error; }
        }
        var e_2, _c;
    };
    /**
     * مخفی کردن بلاک های انتخاب ماه و سال
     */
    /**
     * مخفی کردن بلاک های انتخاب ماه و سال
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.hideSelecMonthAndYearBlock = /**
     * مخفی کردن بلاک های انتخاب ماه و سال
     * @return {?}
     */
    function () {
        this.monthOrYearSelectorVisibilityStateName = 'hidden';
        this.monthSelectorVisibilityStateName = 'hidden';
        this.yearSelectorVisibilityStateName = 'hidden';
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.resetIncompleteRanges = /**
     * @return {?}
     */
    function () {
        if (this.selectedStartDateTime == null || this.selectedEndDateTime == null) {
            this.selectedStartDateTime = this.selectedEndDateTime = null;
            this._selectedPersianStartDateTime = this._selectedPersianEndDateTime = null;
            this.resetToFalseRangeParametersInMonthDays();
        }
    };
    /**
     * کلیک روی دکمه نام ماه در بالای پیکر برای انتخاب ماه
     */
    /**
     * کلیک روی دکمه نام ماه در بالای پیکر برای انتخاب ماه
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.monthButtonOnClick = /**
     * کلیک روی دکمه نام ماه در بالای پیکر برای انتخاب ماه
     * @return {?}
     */
    function () {
        this.monthOrYearSelectorVisibilityStateName = 'visible';
        this.monthSelectorVisibilityStateName = 'visible';
    };
    /**
     * کلیک روی دکمه سال در بالای پیکر برای انتخاب سال
     */
    /**
     * کلیک روی دکمه سال در بالای پیکر برای انتخاب سال
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.selectYearButtonOnClick = /**
     * کلیک روی دکمه سال در بالای پیکر برای انتخاب سال
     * @return {?}
     */
    function () {
        this.monthOrYearSelectorVisibilityStateName = 'visible';
        this.yearSelectorVisibilityStateName = 'visible';
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.monthsBlockVisibilityAnimationDone = /**
     * @return {?}
     */
    function () {
        this.updateMonthDays();
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.yearsBlockVisibilityAnimationDone = /**
     * @return {?}
     */
    function () {
        this.updateYearsList();
        this.updateMonthDays();
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.nextYearButtonOnClick = /**
     * @return {?}
     */
    function () {
        if (this.isPersian)
            this.dateTime = this.persianDateTime.addYears(1).toDate();
        else
            this.dateTime = new Date(this.dateTime.setFullYear(this.dateTime.getFullYear() + 1));
        this.updateMonthDays();
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.nextMonthButtonOnClick = /**
     * @return {?}
     */
    function () {
        if (this.isPersian)
            this.dateTime = this.persianDateTime.addMonths(1).toDate();
        else
            this.dateTime = new Date(this.dateTime.setMonth(this.dateTime.getMonth() + 1));
        this.updateMonthDays();
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.previousMonthButtonOnClick = /**
     * @return {?}
     */
    function () {
        if (this.isPersian)
            this.dateTime = this.persianDateTime.addMonths(-1).toDate();
        else
            this.dateTime = new Date(this.dateTime.setMonth(this.dateTime.getMonth() - 1));
        this.updateMonthDays();
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.previousYearButtonOnClick = /**
     * @return {?}
     */
    function () {
        if (this.isPersian)
            this.dateTime = this.persianDateTime.addYears(-1).toDate();
        else
            this.dateTime = new Date(this.dateTime.setFullYear(this.dateTime.getFullYear() - 1));
        this.updateMonthDays();
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.hourUpButtonOnClick = /**
     * @return {?}
     */
    function () {
        this.dateTime = new Date(this.dateTime.setHours(this.dateTime.getHours() + 1));
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.hourDownButtonOnClick = /**
     * @return {?}
     */
    function () {
        this.dateTime = new Date(this.dateTime.setHours(this.dateTime.getHours() - 1));
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.minuteUpButtonOnClick = /**
     * @return {?}
     */
    function () {
        this.dateTime = new Date(this.dateTime.setMinutes(this.dateTime.getMinutes() + 1));
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.minuteDownButtonOnClick = /**
     * @return {?}
     */
    function () {
        this.dateTime = new Date(this.dateTime.setMinutes(this.dateTime.getMinutes() - 1));
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.secondUpButtonOnClick = /**
     * @return {?}
     */
    function () {
        this.dateTime = new Date(this.dateTime.setSeconds(this.dateTime.getSeconds() + 1));
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.secondDownButtonOnClick = /**
     * @return {?}
     */
    function () {
        this.dateTime = new Date(this.dateTime.setSeconds(this.dateTime.getSeconds() - 1));
    };
    /**
     * انتخاب ماه از روی لیست ماه ها
     */
    /**
     * انتخاب ماه از روی لیست ماه ها
     * @param {?} selectedMonthName
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.monthOnClick = /**
     * انتخاب ماه از روی لیست ماه ها
     * @param {?} selectedMonthName
     * @return {?}
     */
    function (selectedMonthName) {
        /** @type {?} */
        var monthIndex = this.isPersian
            ? PersianDateTime.getPersianMonthIndex(selectedMonthName)
            : PersianDateTime.getGregorianMonthNameIndex(selectedMonthName);
        if (this.isPersian)
            this.dateTime = this.persianDateTime.setPersianMonth(monthIndex + 1).toDate();
        else {
            /** @type {?} */
            var dateTimeClone = new Date(this.dateTime);
            dateTimeClone.setMonth(monthIndex);
            this.dateTime = new Date(dateTimeClone);
        }
        this.hideSelecMonthAndYearBlock();
    };
    /**
     * انتخاب سال از روی لیست سال ها
     */
    /**
     * انتخاب سال از روی لیست سال ها
     * @param {?} selectedYear
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.yearOnClick = /**
     * انتخاب سال از روی لیست سال ها
     * @param {?} selectedYear
     * @return {?}
     */
    function (selectedYear) {
        /** @type {?} */
        var year = this.isPersian ? Number(MdsDatetimePickerUtility.toEnglishNumber(selectedYear)) : Number(selectedYear);
        if (this.isPersian)
            this.dateTime = this.persianDateTime.setPersianYear(year).toDate();
        else {
            /** @type {?} */
            var dateTimeClone = new Date(this.dateTime);
            dateTimeClone.setFullYear(year);
            this.dateTime = new Date(dateTimeClone);
        }
        this.hideSelecMonthAndYearBlock();
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.todayButtonOnClick = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var dateTimeNow = new Date();
        if (this.dateTime.getFullYear() != dateTimeNow.getFullYear() || this.dateTime.getMonth() != dateTimeNow.getMonth()) {
            this.dateTime = dateTimeNow;
            this.updateMonthDays();
        }
        else
            this.dateTime = dateTimeNow;
        this.selectedDateTime = dateTimeNow;
        if (!this.rangeSelector)
            this.fireChangeEvent();
    };
    /**
     * @param {?} dayObject
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.dayButtonOnClick = /**
     * @param {?} dayObject
     * @return {?}
     */
    function (dayObject) {
        // روی روزهای ماه های قبل یا بعد کلیک شده است
        if (dayObject.disable) {
            if (this.isPersian)
                this.dateTime = PersianDateTime.fromPersianDate(dayObject.year, dayObject.month, dayObject.day).toDate();
            else {
                /** @type {?} */
                var dateTimeClone = new Date(this.dateTime);
                dateTimeClone.setDate(dayObject.day);
                dateTimeClone.setMonth(dayObject.month);
                dateTimeClone.setFullYear(dayObject.year);
                this.dateTime = dateTimeClone;
            }
            this.updateMonthDays();
            return;
        }
        // نال کردن تاریخ های شروع و پایان برای انتخاب مجدد رنج تاریخ 
        // در صورتی که رنج گرفته شده بود
        if (this.rangeSelector && this.selectedStartDateTime != null && this.selectedEndDateTime != null) {
            this.selectedStartDateTime = null;
            this.selectedEndDateTime = null;
            this.resetToFalseRangeParametersInMonthDays();
        }
        // \\
        // روز انتخاب شده
        this.selectedDateTime = this.isPersian
            ? PersianDateTime.fromPersianDateTime(dayObject.year, dayObject.month, dayObject.day, this.hour, this.minute, this.second, 0).toDate()
            : new Date(dayObject.year, dayObject.month, dayObject.day, this.hour, this.minute, this.second);
        if (this.rangeSelector) {
            if (this.selectedStartDateTime == null || this.selectedStartDateTime >= this.selectedDateTime) {
                this.resetToFalseRangeParametersInMonthDays();
                this.selectedStartDateTime = this.selectedDateTime;
                dayObject.isStartOrEndOfRange = true;
            }
            else {
                this.selectedEndDateTime = this.selectedDateTime;
                dayObject.isStartOrEndOfRange = true;
            }
        }
        if (this.rangeSelector && this.selectedStartDateTime != null && this.selectedEndDateTime != null)
            this.fireRangeChangeEvent();
        else if (!this.rangeSelector)
            this.fireChangeEvent();
    };
    /**
     * @param {?} dayObject
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.dayButtonOnHover = /**
     * @param {?} dayObject
     * @return {?}
     */
    function (dayObject) {
        if (!this.isRangeSelectorReady)
            return;
        // تاریخ روزی که موس روی آن است
        /** @type {?} */
        var hoverCellDate = this.isPersian
            ? PersianDateTime.fromPersianDate(dayObject.year, dayObject.month, dayObject.day).toDate()
            : new Date(dayObject.year, dayObject.month, dayObject.day);
        try {
            for (var _a = tslib_1.__values(this.daysInMonth), _b = _a.next(); !_b.done; _b = _a.next()) {
                var IMdsAngularDateTimePickerDay = _b.value;
                /** @type {?} */
                var currentDate = this.isPersian
                    ? PersianDateTime.fromPersianDate(IMdsAngularDateTimePickerDay.year, IMdsAngularDateTimePickerDay.month, IMdsAngularDateTimePickerDay.day).toDate()
                    : new Date(IMdsAngularDateTimePickerDay.year, IMdsAngularDateTimePickerDay.month, IMdsAngularDateTimePickerDay.day);
                IMdsAngularDateTimePickerDay.isWithinRange = currentDate >= this.selectedStartDateTime && currentDate <= hoverCellDate;
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
            }
            finally { if (e_3) throw e_3.error; }
        }
        var e_3, _c;
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.rejectButtonOnClick = /**
     * @return {?}
     */
    function () {
        this.selectedDateTime = null;
        this.selectedStartDateTime = this.selectedEndDateTime = null;
        this.resetToFalseRangeParametersInMonthDays();
        this.fireRangeChangeEvent();
    };
    /**
     * @return {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.confirmButtonOnClick = /**
     * @return {?}
     */
    function () {
        if (this.selectedStartDateTime != null && this.selectedEndDateTime != null)
            this.fireRangeChangeEvent();
    };
    MdsAngularPersianDateTimePickerCoreComponent.decorators = [
        { type: Component, args: [{
                    selector: 'mds-datetime-picker-core',
                    template: "<ng-container class=\"mds-datetime-picker\">\r\n  <div class=\"mds-datepicker-years-months\" [@monthAndYearSelectorVisibility]=\"monthSelectorVisibilityStateName\" (@monthAndYearSelectorVisibility.done)=\"monthsBlockVisibilityAnimationDone()\">\r\n    <table class=\"table table-sm text-center\">\r\n      <tbody>\r\n        <tr *ngFor=\"let row of [1, 2, 3, 4]\">\r\n          <td *ngFor=\"let col of [1, 2, 3]\" (click)=\"monthOnClick(monthNames[(row - 1) * 3 + col - 1])\" class=\"cursor-pointer\" data-mds-persian-datetimepicker>\r\n            <div>{{monthNames[(row - 1) * 3 + col - 1]}}</div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <div class=\"mds-datepicker-years-months\" [@monthAndYearSelectorVisibility]=\"yearSelectorVisibilityStateName\" (@monthAndYearSelectorVisibility.done)=\"yearsBlockVisibilityAnimationDone()\">\r\n    <table class=\"table table-sm table-striped text-center\">\r\n      <tbody>\r\n        <tr *ngFor=\"let row of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]\">\r\n          <ng-container *ngFor=\"let col of [1, 2, 3, 4, 5]\">\r\n            <td *ngIf=\"yearsToSelect[(row - 1) * 5 + col - 1] as year\" (click)=\"yearOnClick(year)\" [ngClass]=\"{'warning1': year == yearString}\"\r\n              data-mds-persian-datetimepicker class=\"cursor-pointer\">\r\n              {{year}}\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <div>\r\n    <table class=\"table table-sm table-condensed text-center\">\r\n      <thead>\r\n        <tr class=\"gray1\" *ngIf=\"isPersian\">\r\n          <td colspan=\"100\">\r\n            <table class=\"table table-sm gray1\">\r\n              <tr>\r\n                <td title=\"{{resources.NextYear}}\" (click)=\"nextYearButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\" data-mds-persian-datetimepicker>&lt;&lt;</td>\r\n                <td title=\"{{resources.NextMonth}}\" (click)=\"nextMonthButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\" data-mds-persian-datetimepicker>&lt;</td>\r\n                <td (click)=\"selectYearButtonOnClick()\" class=\"cursor-pointer\" data-mds-persian-datetimepicker>{{yearString}}</td>\r\n                <td (click)=\"monthButtonOnClick()\" class=\"cursor-pointer\" data-mds-persian-datetimepicker>{{monthName}}</td>\r\n                <td title=\"{{resources.PreviousMonth}}\" (click)=\"previousMonthButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\" data-mds-persian-datetimepicker>&gt;</td>\r\n                <td title=\"{{resources.PreviousYear}}\" (click)=\"previousYearButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\" data-mds-persian-datetimepicker>&gt;&gt;</td>\r\n              </tr>\r\n            </table>\r\n          </td>\r\n        </tr>\r\n        <tr class=\"gray1\" *ngIf=\"!isPersian\">\r\n          <td colspan=\"100\">\r\n            <table class=\"table table-sm gray1\">\r\n              <tr>\r\n                <td title=\"{{resources.PreviousYear}}\" (click)=\"previousYearButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\" data-mds-persian-datetimepicker>&lt;&lt;</td>\r\n                <td title=\"{{resources.PreviousMonth}}\" (click)=\"previousMonthButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\"\r\n                  data-mds-persian-datetimepicker>&lt;</td>\r\n                <td (click)=\"monthButtonOnClick()\" class=\"cursor-pointer\" data-mds-persian-datetimepicker>{{monthName}}</td>\r\n                <td (click)=\"selectYearButtonOnClick()\" class=\"cursor-pointer\" data-mds-persian-datetimepicker>{{yearString}}</td>\r\n                <td title=\"{{resources.NextMonth}}\" (click)=\"nextMonthButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\" data-mds-persian-datetimepicker>&gt;</td>\r\n                <td title=\"{{resources.NextYear}}\" (click)=\"nextYearButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\" data-mds-persian-datetimepicker>&gt;&gt;</td>\r\n              </tr>\r\n            </table>\r\n          </td>\r\n        </tr>\r\n        <tr *ngIf=\"rangeSelector\">\r\n          <td colspan=\"2\"></td>\r\n          <td [ngClass]=\"{'text-muted': isRejectButtonDisable}\" title=\"{{resources.Reject}}\" (click)=\"rejectButtonOnClick()\" class=\"cursor-pointer font18\"\r\n            data-mds-persian-datetimepicker>&#215;</td>\r\n          <td></td>\r\n          <td [ngClass]=\"{'text-muted': isConfirmButtonDisable}\" title=\"{{resources.Confirm}}\" (click)=\"confirmButtonOnClick()\" class=\"cursor-pointer font18\"\r\n            data-mds-persian-datetimepicker>&#10003;</td>\r\n          <td colspan=\"2\"></td>\r\n        </tr>\r\n        <tr class=\"gray2\">\r\n          <td *ngFor=\"let dayName of weekdayNames; let i = index;\" [ngClass]=\"{'text-danger': i == 0}\">{{dayName}}</td>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let row of [1, 2, 3, 4, 5, 6]\">\r\n          <ng-container *ngFor=\"let col of [1, 2, 3, 4, 5, 6, 7]\">\r\n            <td *ngIf=\"daysInMonth[(row - 1) * 7 + col - 1] as dayObject\" data-mds-persian-datetimepicker [@daysStateName]=\"daysAnimationStateName\"\r\n              class=\"cursor-pointer\" [ngClass]=\"{'text-danger': dayObject.holiDay,\r\n                        'today': dayObject.today,\r\n                        'warning1': dayObject.day == getSelectedDay,\r\n                        'selected-range': dayObject.isWithinRange,\r\n                        'text-muted': dayObject.disable}\" (click)=\"dayButtonOnClick(dayObject)\" (mouseenter)=\"dayButtonOnHover(dayObject)\">\r\n              <span [ngClass]=\"{'selected-day': dayObject.isStartOrEndOfRange}\" data-mds-persian-datetimepicker>{{dayObject.dayString}}</span>\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n        <tr *ngIf=\"timePicker\">\r\n          <td colspan=\"2\"></td>\r\n          <td class=\"cursor-pointer\" (click)=\"hourUpButtonOnClick()\" data-mds-persian-datetimepicker>\u25B2</td>\r\n          <td class=\"cursor-pointer\" (click)=\"minuteUpButtonOnClick()\" data-mds-persian-datetimepicker>\u25B2</td>\r\n          <td class=\"cursor-pointer\" (click)=\"secondUpButtonOnClick()\" data-mds-persian-datetimepicker>\u25B2</td>\r\n          <td colspan=\"2\"></td>\r\n        </tr>\r\n        <tr *ngIf=\"timePicker\">\r\n          <td colspan=\"2\"></td>\r\n          <td>{{hourString}}</td>\r\n          <td>{{minuteString}}</td>\r\n          <td>{{secondString}}</td>\r\n          <td colspan=\"2\"></td>\r\n        </tr>\r\n        <tr *ngIf=\"timePicker\">\r\n          <td colspan=\"2\"></td>\r\n          <td class=\"cursor-pointer\" (click)=\"hourDownButtonOnClick()\" data-mds-persian-datetimepicker>\u25BC</td>\r\n          <td class=\"cursor-pointer\" (click)=\"minuteDownButtonOnClick()\" data-mds-persian-datetimepicker>\u25BC</td>\r\n          <td class=\"cursor-pointer\" (click)=\"secondDownButtonOnClick()\" data-mds-persian-datetimepicker>\u25BC</td>\r\n          <td colspan=\"2\"></td>\r\n        </tr>\r\n      </tbody>\r\n      <tfoot>\r\n        <tr>\r\n          <td class=\"cursor-pointer\" colspan=\"100\" (click)=\"todayButtonOnClick()\" data-mds-persian-datetimepicker> {{resources.Today}} </td>\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n  </div>\r\n</ng-container>",
                    animations: [
                        trigger('daysStateName', [
                            transition('void => *', [
                                style({ transform: 'rotateY(90deg)' }),
                                animate('200ms ease-in')
                            ])
                        ]),
                        trigger('monthAndYearSelectorVisibility', [
                            state('visible', style({ opacity: 1, transform: 'rotateY(0deg)' })),
                            state('hidden', style({ opacity: 0, transform: 'rotateY(90deg)' })),
                            transition('hidden => visible', [animate('0.2s ease-in')]),
                            transition('visible => hidden', [animate('0.2s ease-out')])
                        ])
                    ],
                    styles: [".mds-datetime-picker{direction:ltr}.mds-datepicker-years-months{width:100%;height:100%;position:absolute;left:0;top:0;background-color:#fff;overflow:hidden;overflow-y:auto;z-index:999;direction:ltr}.width100{width:100%}.minWidth30px{min-width:30px}.text-center{text-align:center}.selected-day{display:block;margin:0 auto;background:#c9e1ff}.text-muted{opacity:.4}.warning1{background-color:#ffe66d}.gray1{background-color:#e8e8e8}.gray2{background-color:#f8f8f8}.selected-range{background-color:#d9f2e6}.today{background-color:#b4e5fb}.text-danger{color:red}.disable{opacity:.5}hr{margin:1px 0}button{width:100%}.font18{font-size:18px}.cursor-pointer{cursor:pointer}.table{margin-bottom:0}.table td{vertical-align:middle}td.cursor-pointer:hover{background-color:#e0e0e0}.table-condensed>tbody>tr>td,.table-condensed>tbody>tr>th,.table-condensed>tfoot>tr>td,.table-condensed>tfoot>tr>th,.table-condensed>thead>tr>td,.table-condensed>thead>tr>th{padding:2px}.rotate90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.rotate-90{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}"]
                }] }
    ];
    MdsAngularPersianDateTimePickerCoreComponent.ctorParameters = function () { return [
        { type: MdsDatetimePickerResourcesService }
    ]; };
    MdsAngularPersianDateTimePickerCoreComponent.propDecorators = {
        templateType: [{ type: Input }],
        initialValue: [{ type: Input }],
        persianChar: [{ type: Input }],
        isPersian: [{ type: Input }],
        rangeSelector: [{ type: Input }],
        timePicker: [{ type: Input }],
        format: [{ type: Input }],
        dateChanged: [{ type: Output }],
        rangeDateChanged: [{ type: Output }]
    };
    return MdsAngularPersianDateTimePickerCoreComponent;
}());
export { MdsAngularPersianDateTimePickerCoreComponent };
if (false) {
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.templateType;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.initialValue;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._persianChar;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._isPersian;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.rangeSelector;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.timePicker;
    /**
     * فرمت پیش فرض 1393/09/14   13:49:40
     * yyyy: سال چهار رقمی
     * yy: سال دو رقمی
     * MMMM: نام فارسی ماه
     * MM: عدد دو رقمی ماه
     * M: عدد یک رقمی ماه
     * dddd: نام فارسی روز هفته
     * dd: عدد دو رقمی روز ماه
     * d: عدد یک رقمی روز ماه
     * HH: ساعت دو رقمی با فرمت 00 تا 24
     * H: ساعت یک رقمی با فرمت 0 تا 24
     * hh: ساعت دو رقمی با فرمت 00 تا 12
     * h: ساعت یک رقمی با فرمت 0 تا 12
     * mm: عدد دو رقمی دقیقه
     * m: عدد یک رقمی دقیقه
     * ss: ثانیه دو رقمی
     * s: ثانیه یک رقمی
     * fff: میلی ثانیه 3 رقمی
     * ff: میلی ثانیه 2 رقمی
     * f: میلی ثانیه یک رقمی
     * tt: ب.ظ یا ق.ظ
     * t: حرف اول از ب.ظ یا ق.ظ
     *
     * @type {?}
     */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.format;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.dateChanged;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.rangeDateChanged;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.daysAnimationStateName;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.monthOrYearSelectorVisibilityStateName;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.monthSelectorVisibilityStateName;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.yearSelectorVisibilityStateName;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.showMonthSelectorBlock;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.showYearsSelectorBlock;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._dateTime;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._persianDateTime;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._selectedDateTime;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._selectedPersianDateTime;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._selectedStartDateTime;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._selectedPersianStartDateTime;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._selectedEndDateTime;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._selectedPersianEndDateTime;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.yearsToSelect;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.daysInMonth;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._resources;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._year;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._yearString;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._month;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._monthName;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._monthNames;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._hour;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._hourString;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._minute;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._minuteString;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._second;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._secondString;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._weekdayNames;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._IMdsAngularDateTimePickerDate;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype._selectedRangeDatesObject;
    /** @type {?} */
    MdsAngularPersianDateTimePickerCoreComponent.prototype.resourcesService;
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWRzLWFuZ3VsYXItcGVyc2lhbi1kYXRlLXRpbWUtcGlja2VyLWNvcmUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vbWRzLmFuZ3VsYXIuZGF0ZXRpbWVwaWNrZXIvIiwic291cmNlcyI6WyJsaWIvY29yZS9tZHMtYW5ndWxhci1wZXJzaWFuLWRhdGUtdGltZS1waWNrZXItY29yZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQVUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQy9FLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDakYsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQzNDLElBQU8sZUFBZSxHQUFHLEdBQUcsQ0FBQyxlQUFlLENBQUM7QUFDN0MsSUFBTyxnQkFBZ0IsR0FBRyxHQUFHLENBQUMsZ0JBQWdCLENBQUM7QUFDL0MsSUFBTyxrQkFBa0IsR0FBRyxHQUFHLENBQUMsa0JBQWtCLENBQUM7QUFDbkQsT0FBTyxFQUFFLGlDQUFpQyxFQUFFLE1BQU0sa0RBQWtELENBQUM7QUFDckcsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sd0NBQXdDLENBQUM7QUFDbEYsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFHcEQ7SUF1QkUsc0RBQW9CLGdCQUFtRDtRQUFuRCxxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQW1DO1FBOEM5RCxpQkFBWSxHQUFxQixnQkFBZ0IsQ0FBQyxTQUFTLENBQUM7UUFDNUQsaUJBQVksR0FBRyxFQUFFLENBQUM7UUFZbkIsaUJBQVksR0FBWSxJQUFJLENBQUM7UUFrQjdCLGVBQVUsR0FBWSxJQUFJLENBQUM7UUFFMUIsa0JBQWEsR0FBRyxLQUFLLENBQUM7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SUFTMUIsbUVBQWdDOztJQVNoQyw4REFBMkI7O0lBUzNCLGtFQUErQjs7SUFTL0IsbUVBQWtDOztJQWlCbEMsNkRBQTBCOztJQU8xQixtRUFBaUM7O0lBUWpDLCtEQUE0Qjs7SUFPNUIscUVBQW1DOztJQVFuQywrREFBNEI7O0lBTzVCLHFFQUFtQzs7SUFRbkMscUVBQW9DOztJQTBCcEMsc0ZBQTZFOztJQTJDN0UsaUZBQTZFOztJQTlkakUsd0VBQTJEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT3V0cHV0LCBPbkluaXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyB0cmlnZ2VyLCBzdGF0ZSwgc3R5bGUsIGFuaW1hdGUsIHRyYW5zaXRpb24gfSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJztcclxuaW1wb3J0IHsgTWRzIH0gZnJvbSAnbWRzLnBlcnNpYW4uZGF0ZXRpbWUnO1xyXG5pbXBvcnQgUGVyc2lhbkRhdGVUaW1lID0gTWRzLlBlcnNpYW5EYXRlVGltZTtcclxuaW1wb3J0IFBlcnNpYW5EYXlPZldlZWsgPSBNZHMuUGVyc2lhbkRheU9mV2VlaztcclxuaW1wb3J0IEdyZWdvcmlhbkRheU9mV2VlayA9IE1kcy5HcmVnb3JpYW5EYXlPZldlZWs7XHJcbmltcG9ydCB7IE1kc0RhdGV0aW1lUGlja2VyUmVzb3VyY2VzU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2UvbWRzLWRhdGV0aW1lLXBpY2tlci1yZXNvdXJjZXMuc2VydmljZSc7XHJcbmltcG9ydCB7IE1kc0RhdGV0aW1lUGlja2VyVXRpbGl0eSB9IGZyb20gJy4uL2NsYXNzZXMvbWRzLWRhdGV0aW1lLXBpY2tlci51dGlsaXR5JztcclxuaW1wb3J0IHsgVGVtcGxhdGVUeXBlRW51bSB9IGZyb20gJy4uL2NsYXNzZXMvZW51bXMnO1xyXG5pbXBvcnQgeyBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF0ZSwgSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlclJhbmdlRGF0ZSwgSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheSB9IGZyb20gJy4uL2NsYXNzZXMvaW50ZXJmYWNlcyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ21kcy1kYXRldGltZS1waWNrZXItY29yZScsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL21kcy1hbmd1bGFyLXBlcnNpYW4tZGF0ZS10aW1lLXBpY2tlci1jb3JlLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9tZHMtYW5ndWxhci1wZXJzaWFuLWRhdGUtdGltZS1waWNrZXItY29yZS5jb21wb25lbnQuY3NzJ10sXHJcbiAgYW5pbWF0aW9uczogW1xyXG4gICAgdHJpZ2dlcignZGF5c1N0YXRlTmFtZScsXHJcbiAgICAgIFtcclxuICAgICAgICB0cmFuc2l0aW9uKCd2b2lkID0+IConLCBbXHJcbiAgICAgICAgICBzdHlsZSh7IHRyYW5zZm9ybTogJ3JvdGF0ZVkoOTBkZWcpJyB9KSxcclxuICAgICAgICAgIGFuaW1hdGUoJzIwMG1zIGVhc2UtaW4nKVxyXG4gICAgICAgIF0pXHJcbiAgICAgIF0pLFxyXG4gICAgdHJpZ2dlcignbW9udGhBbmRZZWFyU2VsZWN0b3JWaXNpYmlsaXR5JyxcclxuICAgICAgW1xyXG4gICAgICAgIHN0YXRlKCd2aXNpYmxlJywgc3R5bGUoeyBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICdyb3RhdGVZKDBkZWcpJyB9KSksXHJcbiAgICAgICAgc3RhdGUoJ2hpZGRlbicsIHN0eWxlKHsgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAncm90YXRlWSg5MGRlZyknIH0pKSxcclxuICAgICAgICB0cmFuc2l0aW9uKCdoaWRkZW4gPT4gdmlzaWJsZScsIFthbmltYXRlKCcwLjJzIGVhc2UtaW4nKV0pLFxyXG4gICAgICAgIHRyYW5zaXRpb24oJ3Zpc2libGUgPT4gaGlkZGVuJywgW2FuaW1hdGUoJzAuMnMgZWFzZS1vdXQnKV0pXHJcbiAgICAgIF0pXHJcbiAgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgTWRzQW5ndWxhclBlcnNpYW5EYXRlVGltZVBpY2tlckNvcmVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlc291cmNlc1NlcnZpY2U6IE1kc0RhdGV0aW1lUGlja2VyUmVzb3VyY2VzU2VydmljZSkgeyB9XHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICBpZiAodGhpcy5yYW5nZVNlbGVjdG9yKSB0aGlzLnRpbWVQaWNrZXIgPSBmYWxzZTtcclxuICAgIGlmICghdGhpcy5pc1BlcnNpYW4pIHRoaXMucGVyc2lhbkNoYXIgPSBmYWxzZTtcclxuICAgIGlmICh0aGlzLmluaXRpYWxWYWx1ZSAhPSAnJykge1xyXG4gICAgICBpZiAodGhpcy5yYW5nZVNlbGVjdG9yKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGlmICh0aGlzLmlzUGVyc2lhbikge1xyXG4gICAgICAgICAgICBjb25zdCByYW5nZXMgPSBNZHNEYXRldGltZVBpY2tlclV0aWxpdHkuZ2V0UGVyc2lhbkRhdGVSYW5nZXModGhpcy5pbml0aWFsVmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkUmFuZ2VQZXJzaWFuRGF0ZVRpbWVzKHJhbmdlcyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCByYW5nZXMgPSBNZHNEYXRldGltZVBpY2tlclV0aWxpdHkuZ2V0RGF0ZVJhbmdlcyh0aGlzLmluaXRpYWxWYWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRSYW5nZURhdGVUaW1lcyhyYW5nZXMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5kYXRlVGltZSA9IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3ZhbHVlIGlzIGluIHdyb25nIGZvcm1hdCwgd2hlbiByYW5nZVNlbGVjdG9yIGlzIHRydWUgeW91IHNob3VsZCB3cml0ZSB2YWx1ZSBsaWtlIFwiMTM5Ni8wMy8wMSAtIDEzOTYvMDMvMTVcIiBvciBcIjIwMTcvMy85IC0gMjAxNy8zLzEwXCInLCBlKTtcclxuICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRSYW5nZURhdGVUaW1lcyhudWxsKTtcclxuICAgICAgICAgIHRoaXMuZGF0ZVRpbWUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgaWYgKHRoaXMuaXNQZXJzaWFuKVxyXG4gICAgICAgICAgICB0aGlzLmRhdGVUaW1lID0gUGVyc2lhbkRhdGVUaW1lLnBhcnNlKHRoaXMuaW5pdGlhbFZhbHVlKS50b0RhdGUoKTtcclxuICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5kYXRlVGltZSA9IG5ldyBEYXRlKERhdGUucGFyc2UodGhpcy5pbml0aWFsVmFsdWUpKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCd2YWx1ZSBpcyBpbiB3cm9uZyBmb3JtYXQsIHlvdSBzaG91bGQgd3JpdGUgdmFsdWUgbGlrZSBcIjEzOTYvMDMvMDEgIDExOjMwOjI3XCIgb3IgXCIyMDE3LzA5LzAzICAxMTozMDowMFwiLCB5b3UgY2FuIHJlbW92ZSB0aW1lJywgZSk7XHJcbiAgICAgICAgICB0aGlzLmRhdGVUaW1lID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZGF0ZVRpbWUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVZZWFyc0xpc3QoKTtcclxuICAgIHRoaXMudXBkYXRlTW9udGhEYXlzKCk7XHJcblxyXG4gICAgaWYgKHRoaXMuaW5pdGlhbFZhbHVlICE9ICcnKSB7XHJcbiAgICAgIGlmICh0aGlzLnJhbmdlU2VsZWN0b3IpXHJcbiAgICAgICAgdGhpcy5maXJlUmFuZ2VDaGFuZ2VFdmVudCgpO1xyXG4gICAgICBlbHNlXHJcbiAgICAgICAgdGhpcy5maXJlQ2hhbmdlRXZlbnQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEBJbnB1dCgpIHRlbXBsYXRlVHlwZTogVGVtcGxhdGVUeXBlRW51bSA9IFRlbXBsYXRlVHlwZUVudW0uYm9vdHN0cmFwO1xyXG4gIEBJbnB1dCgpIGluaXRpYWxWYWx1ZSA9ICcnO1xyXG5cclxuICBASW5wdXQoKVxyXG4gIGdldCBwZXJzaWFuQ2hhcigpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9wZXJzaWFuQ2hhcjtcclxuICB9O1xyXG4gIHNldCBwZXJzaWFuQ2hhcih2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgaWYgKHRoaXMuX3BlcnNpYW5DaGFyID09IHZhbHVlKSByZXR1cm47XHJcbiAgICB0aGlzLl9wZXJzaWFuQ2hhciA9IHZhbHVlO1xyXG4gICAgdGhpcy5feWVhclN0cmluZyA9ICcnO1xyXG4gICAgdGhpcy5yZXNldE1vbnRoRGF5c1dpdGhDb250ZW50KCk7XHJcbiAgfTtcclxuICBwcml2YXRlIF9wZXJzaWFuQ2hhcjogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgZ2V0IGlzUGVyc2lhbigpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc1BlcnNpYW47XHJcbiAgfTtcclxuICBzZXQgaXNQZXJzaWFuKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLl9pc1BlcnNpYW4gPSB2YWx1ZTtcclxuICAgIHRoaXMuX21vbnRoTmFtZSA9ICcnO1xyXG4gICAgdGhpcy5fbW9udGhOYW1lcyA9IFtdO1xyXG4gICAgdGhpcy5fd2Vla2RheU5hbWVzID0gW107XHJcbiAgICB0aGlzLl9yZXNvdXJjZXMgPSBudWxsO1xyXG4gICAgdGhpcy5feWVhclN0cmluZyA9ICcnO1xyXG4gICAgaWYgKHRoaXMuZGF0ZVRpbWUgIT0gbnVsbCkge1xyXG4gICAgICB0aGlzLnVwZGF0ZVllYXJzTGlzdCgpO1xyXG4gICAgICB0aGlzLnVwZGF0ZU1vbnRoRGF5cygpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgcHJpdmF0ZSBfaXNQZXJzaWFuOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgQElucHV0KCkgcmFuZ2VTZWxlY3RvciA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIHRpbWVQaWNrZXIgPSBmYWxzZTtcclxuXHJcbiAgLyoqXHJcbiAgICAqINmB2LHZhdiqINm+24zYtCDZgdix2LYgMTM5My8wOS8xNCAgIDEzOjQ5OjQwIFxyXG4gICAgKiB5eXl5OiDYs9in2YQg2obZh9in2LEg2LHZgtmF24wgXHJcbiAgICAqIHl5OiDYs9in2YQg2K/ZiCDYsdmC2YXbjCBcclxuICAgICogTU1NTTog2YbYp9mFINmB2KfYsdiz24wg2YXYp9mHIFxyXG4gICAgKiBNTTog2LnYr9ivINiv2Ygg2LHZgtmF24wg2YXYp9mHIFxyXG4gICAgKiBNOiDYudiv2K8g24zaqSDYsdmC2YXbjCDZhdin2YcgXHJcbiAgICAqIGRkZGQ6INmG2KfZhSDZgdin2LHYs9uMINix2YjYsiDZh9mB2KrZhyBcclxuICAgICogZGQ6INi52K/YryDYr9mIINix2YLZhduMINix2YjYsiDZhdin2YcgXHJcbiAgICAqIGQ6INi52K/YryDbjNqpINix2YLZhduMINix2YjYsiDZhdin2YcgXHJcbiAgICAqIEhIOiDYs9in2LnYqiDYr9mIINix2YLZhduMINio2Kcg2YHYsdmF2KogMDAg2KrYpyAyNCBcclxuICAgICogSDog2LPYp9i52Kog24zaqSDYsdmC2YXbjCDYqNinINmB2LHZhdiqIDAg2KrYpyAyNCBcclxuICAgICogaGg6INiz2KfYudiqINiv2Ygg2LHZgtmF24wg2KjYpyDZgdix2YXYqiAwMCDYqtinIDEyIFxyXG4gICAgKiBoOiDYs9in2LnYqiDbjNqpINix2YLZhduMINio2Kcg2YHYsdmF2KogMCDYqtinIDEyIFxyXG4gICAgKiBtbTog2LnYr9ivINiv2Ygg2LHZgtmF24wg2K/ZgtuM2YLZhyBcclxuICAgICogbTog2LnYr9ivINuM2qkg2LHZgtmF24wg2K/ZgtuM2YLZhyBcclxuICAgICogc3M6INir2KfZhtuM2Ycg2K/ZiCDYsdmC2YXbjCBcclxuICAgICogczog2KvYp9mG24zZhyDbjNqpINix2YLZhduMIFxyXG4gICAgKiBmZmY6INmF24zZhNuMINir2KfZhtuM2YcgMyDYsdmC2YXbjCBcclxuICAgICogZmY6INmF24zZhNuMINir2KfZhtuM2YcgMiDYsdmC2YXbjCBcclxuICAgICogZjog2YXbjNmE24wg2KvYp9mG24zZhyDbjNqpINix2YLZhduMIFxyXG4gICAgKiB0dDog2Kgu2Lgg24zYpyDZgi7YuCBcclxuICAgICogdDog2K3YsdmBINin2YjZhCDYp9iyINioLti4INuM2Kcg2YIu2LggXHJcbiAgICAqKi9cclxuICBASW5wdXQoKSBmb3JtYXQ6IHN0cmluZyA9ICcnO1xyXG5cclxuICBAT3V0cHV0KCkgZGF0ZUNoYW5nZWQgPSBuZXcgRXZlbnRFbWl0dGVyPElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlPigpO1xyXG4gIEBPdXRwdXQoKSByYW5nZURhdGVDaGFuZ2VkID0gbmV3IEV2ZW50RW1pdHRlcjxJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyUmFuZ2VEYXRlPigpO1xyXG5cclxuICBkYXlzQW5pbWF0aW9uU3RhdGVOYW1lID0gJ3Zpc2libGUnO1xyXG4gIG1vbnRoT3JZZWFyU2VsZWN0b3JWaXNpYmlsaXR5U3RhdGVOYW1lID0gJ2hpZGRlbic7XHJcbiAgbW9udGhTZWxlY3RvclZpc2liaWxpdHlTdGF0ZU5hbWUgPSAnaGlkZGVuJztcclxuICB5ZWFyU2VsZWN0b3JWaXNpYmlsaXR5U3RhdGVOYW1lID0gJ2hpZGRlbic7XHJcblxyXG4gIHNob3dNb250aFNlbGVjdG9yQmxvY2s6IGJvb2xlYW47XHJcbiAgc2hvd1llYXJzU2VsZWN0b3JCbG9jazogYm9vbGVhbjtcclxuXHJcbiAgcHJpdmF0ZSBzcGxpdFN0YXJ0RW5kRGF0ZVN0cmluZyhkYXRlU3RyaW5nOiBzdHJpbmcpOiBzdHJpbmdbXSB7XHJcbiAgICByZXR1cm4gZGF0ZVN0cmluZy5zcGxpdCgnIC0gJyk7XHJcbiAgfVxyXG4gIHByaXZhdGUgc2V0U2VsZWN0ZWRSYW5nZURhdGVUaW1lcyhkYXRlVGltZXM6IERhdGVbXSk6IHZvaWQge1xyXG4gICAgZGF0ZVRpbWVzID0gZGF0ZVRpbWVzID09IG51bGwgfHwgZGF0ZVRpbWVzLmxlbmd0aCA8IDIgPyBbbnVsbCwgbnVsbF0gOiBkYXRlVGltZXM7XHJcbiAgICB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9IGRhdGVUaW1lc1swXTtcclxuICAgIHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSA9IGRhdGVUaW1lc1sxXTtcclxuICB9XHJcbiAgcHJpdmF0ZSBzZXRTZWxlY3RlZFJhbmdlUGVyc2lhbkRhdGVUaW1lcyhwZXJzaWFuRGF0ZVRpbWVzOiBQZXJzaWFuRGF0ZVRpbWVbXSk6IHZvaWQge1xyXG4gICAgY29uc3QgcmFuZ2VzID0gW1xyXG4gICAgICBwZXJzaWFuRGF0ZVRpbWVzWzBdID09IG51bGwgPyBudWxsIDogcGVyc2lhbkRhdGVUaW1lc1swXS50b0RhdGUoKSxcclxuICAgICAgcGVyc2lhbkRhdGVUaW1lc1sxXSA9PSBudWxsID8gbnVsbCA6IHBlcnNpYW5EYXRlVGltZXNbMV0udG9EYXRlKClcclxuICAgIF07XHJcbiAgICB0aGlzLnNldFNlbGVjdGVkUmFuZ2VEYXRlVGltZXMocmFuZ2VzKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBnZXQgcGVyc2lhblN0YXJ0RGF5T2ZNb250aCgpOiBQZXJzaWFuRGF5T2ZXZWVrIHtcclxuICAgIHJldHVybiB0aGlzLnBlcnNpYW5EYXRlVGltZS5zdGFydERheU9mTW9udGhEYXlPZldlZWs7XHJcbiAgfVxyXG4gIHByaXZhdGUgZ2V0IGdyZWdvcmlhblN0YXJ0RGF5T2ZNb250aCgpOiBHcmVnb3JpYW5EYXlPZldlZWsge1xyXG4gICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMuZGF0ZVRpbWUuZ2V0RnVsbFllYXIoKSwgdGhpcy5kYXRlVGltZS5nZXRNb250aCgpLCAxKS5nZXREYXkoKSBhcyBHcmVnb3JpYW5EYXlPZldlZWs7XHJcbiAgfVxyXG4gIHByaXZhdGUgY2xlYXJUaW1lKGRhdGVUaW1lOiBEYXRlKTogdm9pZCB7XHJcbiAgICBpZiAoZGF0ZVRpbWUgPT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgZGF0ZVRpbWUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgfVxyXG4gIHByaXZhdGUgZ2V0RGF0ZVRpbWVGb3JtYXQoKTogc3RyaW5nIHtcclxuICAgIGxldCBmb3JtYXQgPSB0aGlzLmZvcm1hdDtcclxuICAgIGlmIChmb3JtYXQudHJpbSgpID09ICcnKSB7XHJcbiAgICAgIGZvcm1hdCA9ICd5eXl5L01NL2RkJztcclxuICAgICAgaWYgKHRoaXMudGltZVBpY2tlciAmJiAhdGhpcy5yYW5nZVNlbGVjdG9yKVxyXG4gICAgICAgIGZvcm1hdCArPSAnICAgaGg6bW06c3MnO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGhpcy5yYW5nZVNlbGVjdG9yIHx8ICF0aGlzLnRpbWVQaWNrZXIpXHJcbiAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKC90KnxmKnxzKnxtKnxoKnxIKi8sICcnKTtcclxuICAgIHJldHVybiBmb3JtYXQ7XHJcbiAgfVxyXG5cclxuICBzZXREYXRlVGltZUJ5RGF0ZShkYXRlVGltZTogRGF0ZSk6IHZvaWQge1xyXG4gICAgdGhpcy5kYXRlVGltZSA9IHRoaXMuc2VsZWN0ZWREYXRlVGltZSA9IGRhdGVUaW1lO1xyXG4gICAgdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUgPSAhZGF0ZVRpbWUgPyBudWxsIDogbmV3IERhdGUoZGF0ZVRpbWUpO1xyXG4gIH1cclxuICBzZXREYXRlVGltZVJhbmdlc0J5RGF0ZShzdGFydERhdGVUaW1lOiBEYXRlLCBlbmREYXRlVGltZTogRGF0ZSk6IHZvaWQge1xyXG4gICAgdGhpcy5kYXRlVGltZSA9IHRoaXMuc2VsZWN0ZWREYXRlVGltZSA9IHN0YXJ0RGF0ZVRpbWU7XHJcbiAgICB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9IHN0YXJ0RGF0ZVRpbWUgPT0gbnVsbCA/IG51bGwgOiBuZXcgRGF0ZShzdGFydERhdGVUaW1lKTtcclxuICAgIHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSA9IGVuZERhdGVUaW1lID09IG51bGwgPyBudWxsIDogbmV3IERhdGUoZW5kRGF0ZVRpbWUpO1xyXG4gIH1cclxuICBzZXREYXRlVGltZUJ5U3RyaW5nKGRhdGVUaW1lU3RyaW5nOiBzdHJpbmcpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChkYXRlVGltZVN0cmluZyA9PSAnJykge1xyXG4gICAgICAgIHRoaXMuY2xlYXJEYXRlVGltZVBpY2tlcigpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5pc1BlcnNpYW4pIHtcclxuICAgICAgICBpZiAodGhpcy5yYW5nZVNlbGVjdG9yKSB7XHJcbiAgICAgICAgICBjb25zdCBzdGFydEFuZEVuZERhdGVBcnJheSA9IHRoaXMuc3BsaXRTdGFydEVuZERhdGVTdHJpbmcoZGF0ZVRpbWVTdHJpbmcpO1xyXG4gICAgICAgICAgdGhpcy5kYXRlVGltZSA9IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID0gUGVyc2lhbkRhdGVUaW1lLnBhcnNlKHN0YXJ0QW5kRW5kRGF0ZUFycmF5WzBdKS50b0RhdGUoKTtcclxuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSA9IFBlcnNpYW5EYXRlVGltZS5wYXJzZShzdGFydEFuZEVuZERhdGVBcnJheVsxXSkudG9EYXRlKCk7XHJcbiAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUgPiB0aGlzLnNlbGVjdGVkRW5kRGF0ZVRpbWUpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3RhcnQgZGF0ZSBtdXN0IGJlIGxlc3MgdGhhbiBlbmQgZGF0ZScpO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgdGhpcy5kYXRlVGltZSA9IHRoaXMuc2VsZWN0ZWREYXRlVGltZSA9IFBlcnNpYW5EYXRlVGltZS5wYXJzZShkYXRlVGltZVN0cmluZykudG9EYXRlKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmFuZ2VTZWxlY3Rvcikge1xyXG4gICAgICAgICAgY29uc3Qgc3RhcnRBbmRFbmREYXRlQXJyYXkgPSB0aGlzLnNwbGl0U3RhcnRFbmREYXRlU3RyaW5nKGRhdGVUaW1lU3RyaW5nKTtcclxuICAgICAgICAgIHRoaXMuZGF0ZVRpbWUgPSB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKERhdGUucGFyc2Uoc3RhcnRBbmRFbmREYXRlQXJyYXlbMF0pKTtcclxuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSA9IG5ldyBEYXRlKERhdGUucGFyc2Uoc3RhcnRBbmRFbmREYXRlQXJyYXlbMV0pKTtcclxuICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA+IHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSlcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdGFydCBkYXRlIG11c3QgYmUgbGVzcyB0aGFuIGVuZCBkYXRlJyk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICB0aGlzLmRhdGVUaW1lID0gdGhpcy5zZWxlY3RlZERhdGVUaW1lID0gbmV3IERhdGUoRGF0ZS5wYXJzZShkYXRlVGltZVN0cmluZykpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLnJhbmdlU2VsZWN0b3IpXHJcbiAgICAgICAgdGhpcy5maXJlUmFuZ2VDaGFuZ2VFdmVudCgpO1xyXG4gICAgICBlbHNlXHJcbiAgICAgICAgdGhpcy5maXJlQ2hhbmdlRXZlbnQoKVxyXG4gICAgICB0aGlzLnVwZGF0ZU1vbnRoRGF5cygpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICB0aGlzLmNsZWFyRGF0ZVRpbWVQaWNrZXIoKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuICBjbGVhckRhdGVUaW1lUGlja2VyKCkge1xyXG4gICAgdGhpcy5kYXRlVGltZSA9IG51bGw7XHJcbiAgICB0aGlzLnNlbGVjdGVkRGF0ZVRpbWUgPSB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9IHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSA9IG51bGw7XHJcbiAgICB0aGlzLnJlc2V0VG9GYWxzZVJhbmdlUGFyYW1ldGVyc0luTW9udGhEYXlzKCk7XHJcbiAgICBpZiAodGhpcy5yYW5nZVNlbGVjdG9yKVxyXG4gICAgICB0aGlzLmZpcmVSYW5nZUNoYW5nZUV2ZW50KCk7XHJcbiAgICBlbHNlXHJcbiAgICAgIHRoaXMuZmlyZUNoYW5nZUV2ZW50KClcclxuICAgIHRoaXMudXBkYXRlTW9udGhEYXlzKCk7XHJcbiAgfVxyXG5cclxuICBnZXQgZ2V0U2VsZWN0ZWREYXRlKCk6IElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlIHsgICAgXHJcbiAgICByZXR1cm4gdGhpcy5nZXRTZWxlY3RlZERhdGVPYmplY3Q7XHJcbiAgfVxyXG4gIGdldCBnZXRTZWxlY3RlZFJhbmdlRGF0ZXMoKTogSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlclJhbmdlRGF0ZSB7ICAgIFxyXG4gICAgcmV0dXJuIHRoaXMuZ2V0U2VsZWN0ZWRSYW5nZURhdGVzT2JqZWN0O1xyXG4gIH1cclxuXHJcbiAgLy8g2KrYp9ix24zYrtuMINqp2Ycg2KjYsdin24wg2YbZhdin24zYtCDYqtmC2YjbjNmFINin2LPYqtmB2KfYr9mHINmF24wg2LTZiNivXHJcbiAgcHJpdmF0ZSBfZGF0ZVRpbWU6IERhdGUgPSBudWxsO1xyXG4gIHByaXZhdGUgZ2V0IGRhdGVUaW1lKCk6IERhdGUge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RhdGVUaW1lO1xyXG4gIH1cclxuICBwcml2YXRlIHNldCBkYXRlVGltZShkYXRlVGltZTogRGF0ZSkge1xyXG4gICAgdGhpcy5fZGF0ZVRpbWUgPSBkYXRlVGltZSA9PSBudWxsID8gbmV3IERhdGUoKSA6IG5ldyBEYXRlKGRhdGVUaW1lKTtcclxuICAgIHRoaXMuX3BlcnNpYW5EYXRlVGltZSA9IG51bGw7XHJcbiAgICB0aGlzLl95ZWFyID0gdGhpcy5fbW9udGggPSAwO1xyXG4gICAgdGhpcy5feWVhclN0cmluZyA9IHRoaXMuX21vbnRoTmFtZSA9ICcnO1xyXG4gICAgdGhpcy5faG91ciA9IHRoaXMuX21pbnV0ZSA9IHRoaXMuX3NlY29uZCA9IDA7XHJcbiAgICB0aGlzLl9ob3VyU3RyaW5nID0gdGhpcy5fbWludXRlU3RyaW5nID0gdGhpcy5fc2Vjb25kU3RyaW5nID0gJyc7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9wZXJzaWFuRGF0ZVRpbWU6IFBlcnNpYW5EYXRlVGltZSA9IG51bGw7XHJcbiAgcHJpdmF0ZSBnZXQgcGVyc2lhbkRhdGVUaW1lKCk6IFBlcnNpYW5EYXRlVGltZSB7XHJcbiAgICBpZiAodGhpcy5kYXRlVGltZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuICAgIGlmICh0aGlzLl9wZXJzaWFuRGF0ZVRpbWUgIT0gbnVsbCkgcmV0dXJuIHRoaXMuX3BlcnNpYW5EYXRlVGltZTtcclxuICAgIHRoaXMuX3BlcnNpYW5EYXRlVGltZSA9IG5ldyBQZXJzaWFuRGF0ZVRpbWUodGhpcy5kYXRlVGltZSk7XHJcbiAgICByZXR1cm4gdGhpcy5fcGVyc2lhbkRhdGVUaW1lO1xyXG4gIH1cclxuXHJcbiAgLy8g2LHZiNiyINin2YbYqtiu2KfYqCDYtNiv2YdcclxuICBwcml2YXRlIF9zZWxlY3RlZERhdGVUaW1lOiBEYXRlID0gbnVsbDtcclxuICBwcml2YXRlIGdldCBzZWxlY3RlZERhdGVUaW1lKCk6IERhdGUge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkRGF0ZVRpbWU7XHJcbiAgfVxyXG4gIHByaXZhdGUgc2V0IHNlbGVjdGVkRGF0ZVRpbWUoZGF0ZVRpbWU6IERhdGUpIHtcclxuICAgIHRoaXMuX3NlbGVjdGVkRGF0ZVRpbWUgPSBkYXRlVGltZSA9PSBudWxsID8gbnVsbCA6IG5ldyBEYXRlKGRhdGVUaW1lKTtcclxuICAgIHRoaXMuX0lNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlID0gbnVsbDtcclxuICAgIHRoaXMuX3NlbGVjdGVkUGVyc2lhbkRhdGVUaW1lID0gbnVsbDtcclxuICAgIGlmICh0aGlzLnJhbmdlU2VsZWN0b3IgfHwgIXRoaXMudGltZVBpY2tlcilcclxuICAgICAgdGhpcy5jbGVhclRpbWUoZGF0ZVRpbWUpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfc2VsZWN0ZWRQZXJzaWFuRGF0ZVRpbWU6IFBlcnNpYW5EYXRlVGltZSA9IG51bGw7XHJcbiAgcHJpdmF0ZSBnZXQgc2VsZWN0ZWRQZXJzaWFuRGF0ZVRpbWUoKTogUGVyc2lhbkRhdGVUaW1lIHtcclxuICAgIGlmICh0aGlzLl9zZWxlY3RlZFBlcnNpYW5EYXRlVGltZSAhPSBudWxsKSByZXR1cm4gdGhpcy5fc2VsZWN0ZWRQZXJzaWFuRGF0ZVRpbWU7XHJcbiAgICB0aGlzLl9zZWxlY3RlZFBlcnNpYW5EYXRlVGltZSA9IG5ldyBQZXJzaWFuRGF0ZVRpbWUodGhpcy5zZWxlY3RlZERhdGVUaW1lKTtcclxuICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZFBlcnNpYW5EYXRlVGltZTtcclxuICB9XHJcblxyXG4gIC8vINix2YjYsiDYtNix2YjYuSDYp9mG2KrYrtin2Kgg2LTYr9mHINiv2LEg2LHZhtisINiz2YTaqdiq2YjYsVxyXG4gIHByaXZhdGUgX3NlbGVjdGVkU3RhcnREYXRlVGltZTogRGF0ZSA9IG51bGw7XHJcbiAgcHJpdmF0ZSBnZXQgc2VsZWN0ZWRTdGFydERhdGVUaW1lKCk6IERhdGUge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkU3RhcnREYXRlVGltZTtcclxuICB9XHJcbiAgcHJpdmF0ZSBzZXQgc2VsZWN0ZWRTdGFydERhdGVUaW1lKGRhdGVUaW1lOiBEYXRlKSB7XHJcbiAgICB0aGlzLl9zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUgPSBkYXRlVGltZSA9PSBudWxsID8gbnVsbCA6IG5ldyBEYXRlKGRhdGVUaW1lKTtcclxuICAgIHRoaXMuX3NlbGVjdGVkUmFuZ2VEYXRlc09iamVjdCA9IG51bGw7XHJcbiAgICB0aGlzLl9zZWxlY3RlZFBlcnNpYW5TdGFydERhdGVUaW1lID0gbnVsbDtcclxuICAgIHRoaXMuY2xlYXJUaW1lKGRhdGVUaW1lKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3NlbGVjdGVkUGVyc2lhblN0YXJ0RGF0ZVRpbWU6IFBlcnNpYW5EYXRlVGltZSA9IG51bGw7XHJcbiAgcHJpdmF0ZSBnZXQgc2VsZWN0ZWRQZXJzaWFuU3RhcnREYXRlVGltZSgpOiBQZXJzaWFuRGF0ZVRpbWUge1xyXG4gICAgaWYgKHRoaXMuX3NlbGVjdGVkUGVyc2lhblN0YXJ0RGF0ZVRpbWUgIT0gbnVsbCkgcmV0dXJuIHRoaXMuX3NlbGVjdGVkUGVyc2lhblN0YXJ0RGF0ZVRpbWU7XHJcbiAgICB0aGlzLl9zZWxlY3RlZFBlcnNpYW5TdGFydERhdGVUaW1lID0gbmV3IFBlcnNpYW5EYXRlVGltZSh0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSk7XHJcbiAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRQZXJzaWFuU3RhcnREYXRlVGltZTtcclxuICB9XHJcblxyXG4gIC8vINix2YjYsiDZvtin24zYp9mG24wg2KfZhtiq2K7Yp9ioINi02K/ZhyDYr9ixINix2YbYrCDYs9mE2qnYqtmI2LFcclxuICBwcml2YXRlIF9zZWxlY3RlZEVuZERhdGVUaW1lOiBEYXRlID0gbnVsbDtcclxuICBwcml2YXRlIGdldCBzZWxlY3RlZEVuZERhdGVUaW1lKCk6IERhdGUge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkRW5kRGF0ZVRpbWU7XHJcbiAgfVxyXG4gIHByaXZhdGUgc2V0IHNlbGVjdGVkRW5kRGF0ZVRpbWUoZGF0ZVRpbWU6IERhdGUpIHtcclxuICAgIHRoaXMuX3NlbGVjdGVkRW5kRGF0ZVRpbWUgPSBkYXRlVGltZSA9PSBudWxsID8gbnVsbCA6IG5ldyBEYXRlKGRhdGVUaW1lKTtcclxuICAgIHRoaXMuX3NlbGVjdGVkUmFuZ2VEYXRlc09iamVjdCA9IG51bGw7XHJcbiAgICB0aGlzLl9zZWxlY3RlZFBlcnNpYW5FbmREYXRlVGltZSA9IG51bGw7XHJcbiAgICB0aGlzLmNsZWFyVGltZShkYXRlVGltZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9zZWxlY3RlZFBlcnNpYW5FbmREYXRlVGltZTogUGVyc2lhbkRhdGVUaW1lID0gbnVsbDtcclxuICBwcml2YXRlIGdldCBzZWxlY3RlZFBlcnNpYW5FbmREYXRlVGltZSgpOiBQZXJzaWFuRGF0ZVRpbWUge1xyXG4gICAgaWYgKHRoaXMuX3NlbGVjdGVkUGVyc2lhbkVuZERhdGVUaW1lICE9IG51bGwpIHJldHVybiB0aGlzLl9zZWxlY3RlZFBlcnNpYW5FbmREYXRlVGltZTtcclxuICAgIHRoaXMuX3NlbGVjdGVkUGVyc2lhbkVuZERhdGVUaW1lID0gbmV3IFBlcnNpYW5EYXRlVGltZSh0aGlzLnNlbGVjdGVkRW5kRGF0ZVRpbWUpO1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkUGVyc2lhbkVuZERhdGVUaW1lO1xyXG4gIH1cclxuXHJcbiAgeWVhcnNUb1NlbGVjdDogc3RyaW5nW107XHJcbiAgZGF5c0luTW9udGg6IElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXlbXTsgIFxyXG5cclxuICBwcml2YXRlIF9yZXNvdXJjZXM6IGFueSA9IG51bGw7XHJcbiAgZ2V0IHJlc291cmNlcygpOiBhbnkge1xyXG4gICAgaWYgKHRoaXMuX3Jlc291cmNlcyAhPSBudWxsKSByZXR1cm4gdGhpcy5fcmVzb3VyY2VzO1xyXG4gICAgaWYgKHRoaXMuaXNQZXJzaWFuKVxyXG4gICAgICB0aGlzLl9yZXNvdXJjZXMgPSB0aGlzLnJlc291cmNlc1NlcnZpY2UucGVyc2lhblJlc291cmNlcztcclxuICAgIGVsc2VcclxuICAgICAgdGhpcy5fcmVzb3VyY2VzID0gdGhpcy5yZXNvdXJjZXNTZXJ2aWNlLmVuZ2xpc2hSZXNvdXJjZXM7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVzb3VyY2VzO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfeWVhcjogbnVtYmVyID0gMDtcclxuICBnZXQgeWVhcigpOiBudW1iZXIge1xyXG4gICAgaWYgKHRoaXMuX3llYXIgPiAwKSByZXR1cm4gdGhpcy5feWVhcjsgICAgXHJcbiAgICB0aGlzLl95ZWFyID0gdGhpcy5pc1BlcnNpYW5cclxuICAgICAgPyB0aGlzLnBlcnNpYW5EYXRlVGltZS55ZWFyXHJcbiAgICAgIDogdGhpcy5kYXRlVGltZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgcmV0dXJuIHRoaXMuX3llYXI7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF95ZWFyU3RyaW5nOiBzdHJpbmcgPSAnJ1xyXG4gIGdldCB5ZWFyU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICBpZiAodGhpcy5feWVhclN0cmluZyAhPSAnJykgcmV0dXJuIHRoaXMuX3llYXJTdHJpbmc7XHJcbiAgICB0aGlzLl95ZWFyU3RyaW5nID0gdGhpcy5wZXJzaWFuQ2hhclxyXG4gICAgICA/IE1kc0RhdGV0aW1lUGlja2VyVXRpbGl0eS50b1BlcnNpYW5OdW1iZXIodGhpcy55ZWFyLnRvU3RyaW5nKCkpXHJcbiAgICAgIDogdGhpcy5kYXRlVGltZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCk7XHJcbiAgICByZXR1cm4gdGhpcy5feWVhclN0cmluZztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX21vbnRoOiBudW1iZXIgPSAwO1xyXG4gIGdldCBtb250aCgpOiBudW1iZXIge1xyXG4gICAgaWYgKHRoaXMuX21vbnRoID4gMCkgcmV0dXJuIHRoaXMuX21vbnRoO1xyXG4gICAgdGhpcy5fbW9udGggPSB0aGlzLmlzUGVyc2lhblxyXG4gICAgICA/IFBlcnNpYW5EYXRlVGltZS5nZXRQZXJzaWFuTW9udGhJbmRleCh0aGlzLnBlcnNpYW5EYXRlVGltZS5tb250aE5hbWUpXHJcbiAgICAgIDogdGhpcy5kYXRlVGltZS5nZXRNb250aCgpO1xyXG4gICAgcmV0dXJuIHRoaXMuX21vbnRoO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfbW9udGhOYW1lOiBzdHJpbmcgPSAnJ1xyXG4gIGdldCBtb250aE5hbWUoKTogc3RyaW5nIHtcclxuICAgIGlmICh0aGlzLl9tb250aE5hbWUgIT0gJycpIHJldHVybiB0aGlzLl9tb250aE5hbWU7XHJcbiAgICB0aGlzLl9tb250aE5hbWUgPSB0aGlzLmlzUGVyc2lhblxyXG4gICAgICA/IHRoaXMucGVyc2lhbkRhdGVUaW1lLm1vbnRoTmFtZVxyXG4gICAgICA6IFBlcnNpYW5EYXRlVGltZS5nZXRHcmVnb3JpYW5Nb250aE5hbWVzW3RoaXMubW9udGhdO1xyXG4gICAgcmV0dXJuIHRoaXMuX21vbnRoTmFtZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX21vbnRoTmFtZXM6IHN0cmluZ1tdID0gW11cclxuICBnZXQgbW9udGhOYW1lcygpOiBzdHJpbmdbXSB7XHJcbiAgICBpZiAodGhpcy5fbW9udGhOYW1lcyAhPSBudWxsICYmIHRoaXMuX21vbnRoTmFtZXMubGVuZ3RoID4gMCkgcmV0dXJuIHRoaXMuX21vbnRoTmFtZXM7XHJcbiAgICBpZiAodGhpcy5pc1BlcnNpYW4pIHtcclxuICAgICAgY29uc3QgYWxsUGVyc2lhbk1vbnRocyA9IFBlcnNpYW5EYXRlVGltZS5nZXRQZXJzaWFuTW9udGhOYW1lcztcclxuICAgICAgdGhpcy5fbW9udGhOYW1lcyA9IFtcclxuICAgICAgICBhbGxQZXJzaWFuTW9udGhzWzJdLCBhbGxQZXJzaWFuTW9udGhzWzFdLCBhbGxQZXJzaWFuTW9udGhzWzBdLFxyXG4gICAgICAgIGFsbFBlcnNpYW5Nb250aHNbNV0sIGFsbFBlcnNpYW5Nb250aHNbNF0sIGFsbFBlcnNpYW5Nb250aHNbM10sXHJcbiAgICAgICAgYWxsUGVyc2lhbk1vbnRoc1s4XSwgYWxsUGVyc2lhbk1vbnRoc1s3XSwgYWxsUGVyc2lhbk1vbnRoc1s2XSxcclxuICAgICAgICBhbGxQZXJzaWFuTW9udGhzWzExXSwgYWxsUGVyc2lhbk1vbnRoc1sxMF0sIGFsbFBlcnNpYW5Nb250aHNbOV1cclxuICAgICAgXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX21vbnRoTmFtZXMgPSBQZXJzaWFuRGF0ZVRpbWUuZ2V0R3JlZ29yaWFuTW9udGhOYW1lcztcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9tb250aE5hbWVzO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfaG91cjogbnVtYmVyID0gMDtcclxuICBnZXQgaG91cigpOiBudW1iZXIge1xyXG4gICAgaWYgKHRoaXMuX2hvdXIgPiAwKSByZXR1cm4gdGhpcy5faG91cjtcclxuICAgIHRoaXMuX2hvdXIgPSB0aGlzLmRhdGVUaW1lLmdldEhvdXJzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5faG91cjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2hvdXJTdHJpbmc6IHN0cmluZyA9ICcnO1xyXG4gIGdldCBob3VyU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICBpZiAodGhpcy5faG91clN0cmluZyAhPSAnJykgcmV0dXJuIHRoaXMuX2hvdXJTdHJpbmc7XHJcbiAgICB0aGlzLl9ob3VyU3RyaW5nID0gdGhpcy5ob3VyLnRvU3RyaW5nKCk7XHJcbiAgICBpZiAodGhpcy5wZXJzaWFuQ2hhcikgdGhpcy5faG91clN0cmluZyA9IE1kc0RhdGV0aW1lUGlja2VyVXRpbGl0eS50b1BlcnNpYW5OdW1iZXIodGhpcy5faG91clN0cmluZylcclxuICAgIHJldHVybiB0aGlzLl9ob3VyU3RyaW5nO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfbWludXRlOiBudW1iZXIgPSAwO1xyXG4gIGdldCBtaW51dGUoKTogbnVtYmVyIHtcclxuICAgIGlmICh0aGlzLl9taW51dGUgPiAwKSByZXR1cm4gdGhpcy5fbWludXRlO1xyXG4gICAgdGhpcy5fbWludXRlID0gdGhpcy5kYXRlVGltZS5nZXRNaW51dGVzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fbWludXRlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfbWludXRlU3RyaW5nOiBzdHJpbmcgPSAnJztcclxuICBnZXQgbWludXRlU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICBpZiAodGhpcy5fbWludXRlU3RyaW5nICE9ICcnKSByZXR1cm4gdGhpcy5fbWludXRlU3RyaW5nO1xyXG4gICAgdGhpcy5fbWludXRlU3RyaW5nID0gdGhpcy5taW51dGUudG9TdHJpbmcoKTtcclxuICAgIGlmICh0aGlzLnBlcnNpYW5DaGFyKSB0aGlzLl9taW51dGVTdHJpbmcgPSBNZHNEYXRldGltZVBpY2tlclV0aWxpdHkudG9QZXJzaWFuTnVtYmVyKHRoaXMuX21pbnV0ZVN0cmluZylcclxuICAgIHJldHVybiB0aGlzLl9taW51dGVTdHJpbmc7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9zZWNvbmQ6IG51bWJlciA9IDA7XHJcbiAgZ2V0IHNlY29uZCgpOiBudW1iZXIge1xyXG4gICAgaWYgKHRoaXMuX3NlY29uZCA+IDApIHJldHVybiB0aGlzLl9zZWNvbmQ7XHJcbiAgICB0aGlzLl9zZWNvbmQgPSB0aGlzLmRhdGVUaW1lLmdldFNlY29uZHMoKTtcclxuICAgIHJldHVybiB0aGlzLl9zZWNvbmQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9zZWNvbmRTdHJpbmc6IHN0cmluZyA9ICcnO1xyXG4gIGdldCBzZWNvbmRTdHJpbmcoKTogc3RyaW5nIHtcclxuICAgIGlmICh0aGlzLl9zZWNvbmRTdHJpbmcgIT0gJycpIHJldHVybiB0aGlzLl9zZWNvbmRTdHJpbmc7XHJcbiAgICB0aGlzLl9zZWNvbmRTdHJpbmcgPSB0aGlzLnNlY29uZC50b1N0cmluZygpO1xyXG4gICAgaWYgKHRoaXMucGVyc2lhbkNoYXIpIHRoaXMuX3NlY29uZFN0cmluZyA9IE1kc0RhdGV0aW1lUGlja2VyVXRpbGl0eS50b1BlcnNpYW5OdW1iZXIodGhpcy5fc2Vjb25kU3RyaW5nKVxyXG4gICAgcmV0dXJuIHRoaXMuX3NlY29uZFN0cmluZztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3dlZWtkYXlOYW1lczogc3RyaW5nW10gPSBbXVxyXG4gIGdldCB3ZWVrZGF5TmFtZXMoKTogc3RyaW5nW10ge1xyXG4gICAgaWYgKHRoaXMuX3dlZWtkYXlOYW1lcyAhPSBudWxsICYmIHRoaXMuX3dlZWtkYXlOYW1lcy5sZW5ndGggPiAwKSByZXR1cm4gdGhpcy5fd2Vla2RheU5hbWVzO1xyXG4gICAgaWYgKHRoaXMuaXNQZXJzaWFuKSB7XHJcbiAgICAgIC8vINit2LHZiNmBINin2YjZhCDZhtin2YUg2YfYp9uMINix2YjYsiDZh9mB2KrZhyDYtNmF2LPbjFxyXG4gICAgICBjb25zdCBwZXJzaWFuV2Vla0RheU5hbWVzID0gUGVyc2lhbkRhdGVUaW1lLmdldFBlcnNpYW5XZWVrZGF5TmFtZXM7XHJcbiAgICAgIHRoaXMuX3dlZWtkYXlOYW1lcyA9IFtcclxuICAgICAgICBwZXJzaWFuV2Vla0RheU5hbWVzWzZdWzBdLCBwZXJzaWFuV2Vla0RheU5hbWVzWzVdWzBdLCBwZXJzaWFuV2Vla0RheU5hbWVzWzRdWzBdLFxyXG4gICAgICAgIHBlcnNpYW5XZWVrRGF5TmFtZXNbM11bMF0sIHBlcnNpYW5XZWVrRGF5TmFtZXNbMl1bMF0sIHBlcnNpYW5XZWVrRGF5TmFtZXNbMV1bMF0sXHJcbiAgICAgICAgcGVyc2lhbldlZWtEYXlOYW1lc1swXVswXVxyXG4gICAgICBdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgZ3JlZ29yaWFuV2Vla0RheU5hbWVzID0gUGVyc2lhbkRhdGVUaW1lLmdldEdyZWdvcmlhbldlZWtkYXlOYW1lcztcclxuICAgICAgdGhpcy5fd2Vla2RheU5hbWVzID0gW1xyXG4gICAgICAgIGdyZWdvcmlhbldlZWtEYXlOYW1lc1sxXVswXSArIGdyZWdvcmlhbldlZWtEYXlOYW1lc1sxXVsxXSxcclxuICAgICAgICBncmVnb3JpYW5XZWVrRGF5TmFtZXNbMl1bMF0gKyBncmVnb3JpYW5XZWVrRGF5TmFtZXNbMl1bMV0sXHJcbiAgICAgICAgZ3JlZ29yaWFuV2Vla0RheU5hbWVzWzNdWzBdICsgZ3JlZ29yaWFuV2Vla0RheU5hbWVzWzNdWzFdLFxyXG4gICAgICAgIGdyZWdvcmlhbldlZWtEYXlOYW1lc1s0XVswXSArIGdyZWdvcmlhbldlZWtEYXlOYW1lc1s0XVsxXSxcclxuICAgICAgICBncmVnb3JpYW5XZWVrRGF5TmFtZXNbNV1bMF0gKyBncmVnb3JpYW5XZWVrRGF5TmFtZXNbNV1bMV0sXHJcbiAgICAgICAgZ3JlZ29yaWFuV2Vla0RheU5hbWVzWzZdWzBdICsgZ3JlZ29yaWFuV2Vla0RheU5hbWVzWzZdWzFdLFxyXG4gICAgICAgIGdyZWdvcmlhbldlZWtEYXlOYW1lc1swXVswXSArIGdyZWdvcmlhbldlZWtEYXlOYW1lc1swXVsxXVxyXG4gICAgICBdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlOYW1lcztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX0lNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlOiBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF0ZSA9IG51bGw7XHJcbiAgcHJpdmF0ZSBnZXQgZ2V0U2VsZWN0ZWREYXRlT2JqZWN0KCk6IElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlIHtcclxuICAgIGlmICh0aGlzLnNlbGVjdGVkRGF0ZVRpbWUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcbiAgICBpZiAodGhpcy5fSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRhdGUgIT0gbnVsbCkgcmV0dXJuIHRoaXMuX0lNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlO1xyXG4gICAgbGV0IGZvcm1hdCA9IHRoaXMuZ2V0RGF0ZVRpbWVGb3JtYXQoKTtcclxuICAgIGlmICh0aGlzLmlzUGVyc2lhbikge1xyXG4gICAgICB0aGlzLl9JTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF0ZSA9IHtcclxuICAgICAgICB5ZWFyOiB0aGlzLnNlbGVjdGVkUGVyc2lhbkRhdGVUaW1lLnllYXIsXHJcbiAgICAgICAgbW9udGg6IHRoaXMuc2VsZWN0ZWRQZXJzaWFuRGF0ZVRpbWUubW9udGgsXHJcbiAgICAgICAgZGF5OiB0aGlzLnNlbGVjdGVkUGVyc2lhbkRhdGVUaW1lLmRheSxcclxuICAgICAgICBob3VyOiB0aGlzLnNlbGVjdGVkUGVyc2lhbkRhdGVUaW1lLmhvdXIsXHJcbiAgICAgICAgbWludXRlOiB0aGlzLnNlbGVjdGVkUGVyc2lhbkRhdGVUaW1lLm1pbnV0ZSxcclxuICAgICAgICBzZWNvbmQ6IHRoaXMuc2VsZWN0ZWRQZXJzaWFuRGF0ZVRpbWUuc2Vjb25kLFxyXG4gICAgICAgIG1pbGxpc2Vjb25kOiB0aGlzLnNlbGVjdGVkUGVyc2lhbkRhdGVUaW1lLm1pbGxpc2Vjb25kLFxyXG4gICAgICAgIGZvcm1hdFN0cmluZzogdGhpcy5zZWxlY3RlZFBlcnNpYW5EYXRlVGltZS50b1N0cmluZyhmb3JtYXQpLFxyXG4gICAgICAgIHV0Y0RhdGVUaW1lOiB0aGlzLnNlbGVjdGVkRGF0ZVRpbWVcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLl9JTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF0ZSA9IHtcclxuICAgICAgICB5ZWFyOiB0aGlzLnNlbGVjdGVkRGF0ZVRpbWUuZ2V0RnVsbFllYXIoKSxcclxuICAgICAgICBtb250aDogdGhpcy5zZWxlY3RlZERhdGVUaW1lLmdldE1vbnRoKCksXHJcbiAgICAgICAgZGF5OiB0aGlzLnNlbGVjdGVkRGF0ZVRpbWUuZ2V0RGF0ZSgpLFxyXG4gICAgICAgIGhvdXI6IHRoaXMuc2VsZWN0ZWREYXRlVGltZS5nZXRIb3VycygpLFxyXG4gICAgICAgIG1pbnV0ZTogdGhpcy5zZWxlY3RlZERhdGVUaW1lLmdldE1pbnV0ZXMoKSxcclxuICAgICAgICBzZWNvbmQ6IHRoaXMuc2VsZWN0ZWREYXRlVGltZS5nZXRTZWNvbmRzKCksXHJcbiAgICAgICAgbWlsbGlzZWNvbmQ6IHRoaXMuc2VsZWN0ZWREYXRlVGltZS5nZXRNaWxsaXNlY29uZHMoKSxcclxuICAgICAgICBmb3JtYXRTdHJpbmc6IE1kc0RhdGV0aW1lUGlja2VyVXRpbGl0eS5kYXRlVGltZVRvU3RyaW5nKHRoaXMuc2VsZWN0ZWREYXRlVGltZSwgZm9ybWF0KSxcclxuICAgICAgICB1dGNEYXRlVGltZTogdGhpcy5zZWxlY3RlZERhdGVUaW1lXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5wZXJzaWFuQ2hhcilcclxuICAgICAgdGhpcy5fSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRhdGUuZm9ybWF0U3RyaW5nID0gTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5LnRvUGVyc2lhbk51bWJlcih0aGlzLl9JTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF0ZS5mb3JtYXRTdHJpbmcpO1xyXG4gICAgZWxzZVxyXG4gICAgICB0aGlzLl9JTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF0ZS5mb3JtYXRTdHJpbmcgPSBNZHNEYXRldGltZVBpY2tlclV0aWxpdHkudG9FbmdsaXNoU3RyaW5nKHRoaXMuX0lNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlLmZvcm1hdFN0cmluZyk7XHJcbiAgICByZXR1cm4gdGhpcy5fSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRhdGU7XHJcbiAgfVxyXG4gIGdldCBnZXRTZWxlY3RlZERheSgpOiBudW1iZXIge1xyXG4gICAgaWYgKHRoaXMuZ2V0U2VsZWN0ZWREYXRlT2JqZWN0ID09IG51bGwgfHwgdGhpcy5yYW5nZVNlbGVjdG9yKSByZXR1cm4gMDtcclxuICAgIHJldHVybiB0aGlzLmdldFNlbGVjdGVkRGF0ZU9iamVjdC5kYXk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHJpdmF0ZSBfc2VsZWN0ZWRSYW5nZURhdGVzT2JqZWN0OiBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyUmFuZ2VEYXRlID0gbnVsbDtcclxuICBwcml2YXRlIGdldCBnZXRTZWxlY3RlZFJhbmdlRGF0ZXNPYmplY3QoKTogSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlclJhbmdlRGF0ZSB7XHJcbiAgICBpZiAoIXRoaXMucmFuZ2VTZWxlY3RvciB8fCB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9PSBudWxsICYmIHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuICAgIGlmICh0aGlzLl9zZWxlY3RlZFJhbmdlRGF0ZXNPYmplY3QgIT0gbnVsbCkgcmV0dXJuIHRoaXMuX3NlbGVjdGVkUmFuZ2VEYXRlc09iamVjdDtcclxuICAgIGxldCBmb3JtYXQgPSB0aGlzLmdldERhdGVUaW1lRm9ybWF0KCk7XHJcbiAgICBsZXQgc3RhcnREYXRlOiBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF0ZTtcclxuICAgIGxldCBlbmREYXRlOiBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF0ZTtcclxuICAgIGlmICh0aGlzLmlzUGVyc2lhbikge1xyXG4gICAgICBzdGFydERhdGUgPSB7XHJcbiAgICAgICAgeWVhcjogdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUgPT0gbnVsbCA/IDAgOiB0aGlzLnNlbGVjdGVkUGVyc2lhblN0YXJ0RGF0ZVRpbWUueWVhcixcclxuICAgICAgICBtb250aDogdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUgPT0gbnVsbCA/IDAgOiB0aGlzLnNlbGVjdGVkUGVyc2lhblN0YXJ0RGF0ZVRpbWUubW9udGgsXHJcbiAgICAgICAgZGF5OiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9PSBudWxsID8gMCA6IHRoaXMuc2VsZWN0ZWRQZXJzaWFuU3RhcnREYXRlVGltZS5kYXksXHJcbiAgICAgICAgaG91cjogMCxcclxuICAgICAgICBtaW51dGU6IDAsXHJcbiAgICAgICAgc2Vjb25kOiAwLFxyXG4gICAgICAgIG1pbGxpc2Vjb25kOiAwLFxyXG4gICAgICAgIGZvcm1hdFN0cmluZzogdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUgPT0gbnVsbCA/ICcnIDogdGhpcy5zZWxlY3RlZFBlcnNpYW5TdGFydERhdGVUaW1lLnRvU3RyaW5nKGZvcm1hdCksXHJcbiAgICAgICAgdXRjRGF0ZVRpbWU6IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lXHJcbiAgICAgIH07XHJcbiAgICAgIGVuZERhdGUgPSB7XHJcbiAgICAgICAgeWVhcjogdGhpcy5zZWxlY3RlZFBlcnNpYW5FbmREYXRlVGltZSA9PSBudWxsID8gMCA6IHRoaXMuc2VsZWN0ZWRQZXJzaWFuRW5kRGF0ZVRpbWUueWVhcixcclxuICAgICAgICBtb250aDogdGhpcy5zZWxlY3RlZFBlcnNpYW5FbmREYXRlVGltZSA9PSBudWxsID8gMCA6IHRoaXMuc2VsZWN0ZWRQZXJzaWFuRW5kRGF0ZVRpbWUubW9udGgsXHJcbiAgICAgICAgZGF5OiB0aGlzLnNlbGVjdGVkUGVyc2lhbkVuZERhdGVUaW1lID09IG51bGwgPyAwIDogdGhpcy5zZWxlY3RlZFBlcnNpYW5FbmREYXRlVGltZS5kYXksXHJcbiAgICAgICAgaG91cjogMCxcclxuICAgICAgICBtaW51dGU6IDAsXHJcbiAgICAgICAgc2Vjb25kOiAwLFxyXG4gICAgICAgIG1pbGxpc2Vjb25kOiAwLFxyXG4gICAgICAgIGZvcm1hdFN0cmluZzogdGhpcy5zZWxlY3RlZFBlcnNpYW5FbmREYXRlVGltZSA9PSBudWxsID8gJycgOiB0aGlzLnNlbGVjdGVkUGVyc2lhbkVuZERhdGVUaW1lLnRvU3RyaW5nKGZvcm1hdCksXHJcbiAgICAgICAgdXRjRGF0ZVRpbWU6IHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdGFydERhdGUgPSB7XHJcbiAgICAgICAgeWVhcjogdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUgPT0gbnVsbCA/IDAgOiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZS5nZXRGdWxsWWVhcigpLFxyXG4gICAgICAgIG1vbnRoOiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9PSBudWxsID8gMCA6IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lLmdldE1vbnRoKCksXHJcbiAgICAgICAgZGF5OiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9PSBudWxsID8gMCA6IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lLmdldERhdGUoKSxcclxuICAgICAgICBob3VyOiAwLFxyXG4gICAgICAgIG1pbnV0ZTogMCxcclxuICAgICAgICBzZWNvbmQ6IDAsXHJcbiAgICAgICAgbWlsbGlzZWNvbmQ6IDAsXHJcbiAgICAgICAgZm9ybWF0U3RyaW5nOiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9PSBudWxsID8gJycgOiBNZHNEYXRldGltZVBpY2tlclV0aWxpdHkuZGF0ZVRpbWVUb1N0cmluZyh0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSwgZm9ybWF0KSxcclxuICAgICAgICB1dGNEYXRlVGltZTogdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUgPT0gbnVsbCA/IG51bGwgOiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZVxyXG4gICAgICB9O1xyXG4gICAgICBlbmREYXRlID0ge1xyXG4gICAgICAgIHllYXI6IHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSA9PSBudWxsID8gMCA6IHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZS5nZXRGdWxsWWVhcigpLFxyXG4gICAgICAgIG1vbnRoOiB0aGlzLnNlbGVjdGVkRW5kRGF0ZVRpbWUgPT0gbnVsbCA/IDAgOiB0aGlzLnNlbGVjdGVkRW5kRGF0ZVRpbWUuZ2V0TW9udGgoKSxcclxuICAgICAgICBkYXk6IHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSA9PSBudWxsID8gMCA6IHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZS5nZXREYXRlKCksXHJcbiAgICAgICAgaG91cjogMCxcclxuICAgICAgICBtaW51dGU6IDAsXHJcbiAgICAgICAgc2Vjb25kOiAwLFxyXG4gICAgICAgIG1pbGxpc2Vjb25kOiAwLFxyXG4gICAgICAgIGZvcm1hdFN0cmluZzogdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID09IG51bGwgPyAnJyA6IE1kc0RhdGV0aW1lUGlja2VyVXRpbGl0eS5kYXRlVGltZVRvU3RyaW5nKHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSwgZm9ybWF0KSxcclxuICAgICAgICB1dGNEYXRlVGltZTogdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID09IG51bGwgPyBudWxsIDogdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuX3NlbGVjdGVkUmFuZ2VEYXRlc09iamVjdCA9IHtcclxuICAgICAgc3RhcnREYXRlOiBzdGFydERhdGUsXHJcbiAgICAgIGVuZERhdGU6IGVuZERhdGVcclxuICAgIH07XHJcbiAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRSYW5nZURhdGVzT2JqZWN0O1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlzUmVqZWN0QnV0dG9uRGlzYWJsZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9PSBudWxsICYmIHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSA9PSBudWxsO1xyXG4gIH1cclxuICBnZXQgaXNDb25maXJtQnV0dG9uRGlzYWJsZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9PSBudWxsIHx8IHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSA9PSBudWxsO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVZZWFyc0xpc3QoKTogdm9pZCB7XHJcbiAgICB0aGlzLnllYXJzVG9TZWxlY3QgPSBbXTtcclxuICAgIGNvbnN0IHNlbGVjdGVkWWVhciA9IHRoaXMueWVhcjtcclxuICAgIGZvciAobGV0IGkgPSBzZWxlY3RlZFllYXIgLSAzNzsgaSA8PSBzZWxlY3RlZFllYXIgKyAzNzsgaSsrKSB7XHJcbiAgICAgIGlmICh0aGlzLnBlcnNpYW5DaGFyKVxyXG4gICAgICAgIHRoaXMueWVhcnNUb1NlbGVjdC5wdXNoKE1kc0RhdGV0aW1lUGlja2VyVXRpbGl0eS50b1BlcnNpYW5OdW1iZXIoaS50b1N0cmluZygpKSk7XHJcbiAgICAgIGVsc2VcclxuICAgICAgICB0aGlzLnllYXJzVG9TZWxlY3QucHVzaChpLnRvU3RyaW5nKCkpO1xyXG4gICAgfVxyXG4gIH1cclxuICBwcml2YXRlIGdldERheU9iamVjdCh5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIsIGRheTogbnVtYmVyLCBkaXNhYmxlZDogYm9vbGVhbiwgaG9saURheTogYm9vbGVhbiwgaXNUb2RheTogYm9vbGVhbik6IElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXkge1xyXG4gICAgbGV0IGlzV2l0aGluRGF0ZVJhbmdlID0gZmFsc2U7XHJcbiAgICBsZXQgaXNTdGFydE9yRW5kT2ZSYW5nZSA9IGZhbHNlO1xyXG4gICAgaWYgKHRoaXMucmFuZ2VTZWxlY3RvciAmJiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSAhPSBudWxsKSB7XHJcbiAgICAgIGNvbnN0IGRhdGVUaW1lID0gdGhpcy5pc1BlcnNpYW5cclxuICAgICAgICA/IFBlcnNpYW5EYXRlVGltZS5mcm9tUGVyc2lhbkRhdGUoeWVhciwgbW9udGgsIGRheSkudG9EYXRlKClcclxuICAgICAgICA6IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpO1xyXG4gICAgICBpc1dpdGhpbkRhdGVSYW5nZSA9IGRhdGVUaW1lID49IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lO1xyXG4gICAgICBpZiAodGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lICE9IG51bGwpXHJcbiAgICAgICAgaXNXaXRoaW5EYXRlUmFuZ2UgPSBpc1dpdGhpbkRhdGVSYW5nZSAmJiBkYXRlVGltZSA8PSB0aGlzLnNlbGVjdGVkRW5kRGF0ZVRpbWU7XHJcbiAgICAgIGlzU3RhcnRPckVuZE9mUmFuZ2UgPVxyXG4gICAgICAgICh0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSAhPSBudWxsICYmIGRhdGVUaW1lLmdldFRpbWUoKSA9PSB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZS5nZXRUaW1lKCkpIHx8XHJcbiAgICAgICAgKHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSAhPSBudWxsICYmIGRhdGVUaW1lLmdldFRpbWUoKSA9PSB0aGlzLnNlbGVjdGVkRW5kRGF0ZVRpbWUuZ2V0VGltZSgpKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHllYXI6IHllYXIsXHJcbiAgICAgIG1vbnRoOiBtb250aCxcclxuICAgICAgZGF5OiBkYXksXHJcbiAgICAgIGRheVN0cmluZzogdGhpcy5wZXJzaWFuQ2hhciA/IE1kc0RhdGV0aW1lUGlja2VyVXRpbGl0eS50b1BlcnNpYW5OdW1iZXIoZGF5LnRvU3RyaW5nKCkpIDogZGF5LnRvU3RyaW5nKCksXHJcbiAgICAgIGRpc2FibGU6IGRpc2FibGVkLFxyXG4gICAgICBob2xpRGF5OiBob2xpRGF5LFxyXG4gICAgICB0b2RheTogaXNUb2RheSxcclxuICAgICAgaXNXaXRoaW5SYW5nZTogaXNXaXRoaW5EYXRlUmFuZ2UsXHJcbiAgICAgIGlzU3RhcnRPckVuZE9mUmFuZ2U6IGlzU3RhcnRPckVuZE9mUmFuZ2VcclxuICAgIH1cclxuICB9XHJcbiAgcHJpdmF0ZSBnZXQgaXNSYW5nZVNlbGVjdG9yUmVhZHkoKTogYm9vbGVhbiB7XHJcbiAgICBpZiAoIXRoaXMucmFuZ2VTZWxlY3RvcikgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID09IG51bGwpIHJldHVybiBmYWxzZTsgLy8g2YfZhtmI2LIg2LHZiNiyINi02LHZiNi5INin2YbYqtiu2KfYqCDZhti02K/ZhyDYp9iz2KpcclxuICAgIGlmICh0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSAhPSBudWxsICYmIHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSAhPSBudWxsKSByZXR1cm4gZmFsc2U7IC8vINix2YbYrCDYqtin2LHbjNiuINin2YbYqtiu2KfYqCDYtNiv2Ycg2KjZiNivXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlTW9udGhEYXlzKCk6IHZvaWQge1xyXG4gICAgY29uc3QgZGF5czogSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheVtdID0gW107XHJcbiAgICBsZXQgY291bnRlciA9IDAsXHJcbiAgICAgIHllYXIgPSAwLFxyXG4gICAgICBtb250aCA9IDA7XHJcbiAgICBpZiAodGhpcy5pc1BlcnNpYW4pIHtcclxuICAgICAgY29uc3QgcGVyc2lhbkRhdGVUaW1lTm93ID0gUGVyc2lhbkRhdGVUaW1lLm5vdztcclxuICAgICAgY29uc3QgdG9kYXkgPSBwZXJzaWFuRGF0ZVRpbWVOb3cuZGF5O1xyXG4gICAgICBjb25zdCBpc1llYXJBbmRNb250aEluQ3VycmVudE1vbnRoID0gcGVyc2lhbkRhdGVUaW1lTm93LnllYXIgPT0gdGhpcy5wZXJzaWFuRGF0ZVRpbWUueWVhciAmJiBwZXJzaWFuRGF0ZVRpbWVOb3cubW9udGggPT0gdGhpcy5wZXJzaWFuRGF0ZVRpbWUubW9udGg7XHJcbiAgICAgIC8vINix2YjYstmH2KfbjCDZhdin2Ycg2YLYqNmEXHJcbiAgICAgIGlmICh0aGlzLnBlcnNpYW5TdGFydERheU9mTW9udGggIT0gUGVyc2lhbkRheU9mV2Vlay5TYXR1cmRheSkge1xyXG4gICAgICAgIGNvbnN0IHByZXZpb3VzUGVyc2lhbk1vbnRoID0gdGhpcy5wZXJzaWFuRGF0ZVRpbWUuYWRkTW9udGhzKC0xKTtcclxuICAgICAgICB5ZWFyID0gcHJldmlvdXNQZXJzaWFuTW9udGgueWVhcjtcclxuICAgICAgICBtb250aCA9IHByZXZpb3VzUGVyc2lhbk1vbnRoLm1vbnRoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBwcmV2aW91c1BlcnNpYW5Nb250aC5nZXRNb250aERheXMgLSB0aGlzLnBlcnNpYW5TdGFydERheU9mTW9udGggKyAxOyBpIDw9IHByZXZpb3VzUGVyc2lhbk1vbnRoLmdldE1vbnRoRGF5czsgaSsrKSB7XHJcbiAgICAgICAgICBjb3VudGVyKys7XHJcbiAgICAgICAgICBkYXlzLnB1c2godGhpcy5nZXREYXlPYmplY3QoeWVhciwgbW9udGgsIGksIHRydWUsIGZhbHNlLCBmYWxzZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvLyDYsdmI2LLZh9in24wg2YXYp9mHINis2KfYsduMXHJcbiAgICAgIHllYXIgPSB0aGlzLnBlcnNpYW5EYXRlVGltZS55ZWFyO1xyXG4gICAgICBtb250aCA9IHRoaXMucGVyc2lhbkRhdGVUaW1lLm1vbnRoO1xyXG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0aGlzLnBlcnNpYW5EYXRlVGltZS5nZXRNb250aERheXM7IGkrKykge1xyXG4gICAgICAgIGNvdW50ZXIrKztcclxuICAgICAgICBkYXlzLnB1c2godGhpcy5nZXREYXlPYmplY3QoeWVhciwgbW9udGgsIGksIGZhbHNlLCBmYWxzZSwgaXNZZWFyQW5kTW9udGhJbkN1cnJlbnRNb250aCAmJiBpID09IHRvZGF5KSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8g2LHZiNiy2YfYp9uMINmF2KfZhyDYqNi52K9cclxuICAgICAgY29uc3QgbmV4dE1vbnRoUGVyc2lhbkRhdGVUaW1lID0gdGhpcy5wZXJzaWFuRGF0ZVRpbWUuYWRkTW9udGhzKDEpO1xyXG4gICAgICB5ZWFyID0gbmV4dE1vbnRoUGVyc2lhbkRhdGVUaW1lLnllYXI7XHJcbiAgICAgIG1vbnRoID0gbmV4dE1vbnRoUGVyc2lhbkRhdGVUaW1lLm1vbnRoO1xyXG4gICAgICBmb3IgKGxldCBpID0gMTsgY291bnRlciA8PSAoNiAqIDcpIC0gMTsgaSsrKSB7XHJcbiAgICAgICAgY291bnRlcisrO1xyXG4gICAgICAgIGRheXMucHVzaCh0aGlzLmdldERheU9iamVjdCh5ZWFyLCBtb250aCwgaSwgdHJ1ZSwgZmFsc2UsIGZhbHNlKSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8g2K/Ysdiz2Kog2qnYsdiv2YYg2LHYp9iz2Kog2KjZhyDahtm+INio2YjYr9mGINiq2YLZiNuM2YVcclxuICAgICAgY29uc3QgdGVtcCA9IGRheXMuc2xpY2UoMCk7XHJcbiAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IDY7IHJvdysrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgNzsgY29sdW1uKyspIHtcclxuICAgICAgICAgIGNvbnN0IGluZGV4MSA9IHJvdyAqIDcgKyBjb2x1bW47XHJcbiAgICAgICAgICBjb25zdCBpbmRleDIgPSBNYXRoLmFicygocm93ICsgMSkgKiA3IC0gKGNvbHVtbiArIDEpKTtcclxuICAgICAgICAgIGRheXNbaW5kZXgxXSA9IHRlbXBbaW5kZXgyXTtcclxuICAgICAgICAgIGlmIChjb2x1bW4gPT0gMClcclxuICAgICAgICAgICAgZGF5c1tpbmRleDFdLmhvbGlEYXkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGNvbnN0IGRhdGVUaW1lTm93ID0gbmV3IERhdGUoKTtcclxuICAgICAgY29uc3QgdG9kYXkgPSBkYXRlVGltZU5vdy5nZXREYXRlKCk7XHJcbiAgICAgIGNvbnN0IGlzWWVhckFuZE1vbnRoSW5DdXJyZW50TW9udGggPSBkYXRlVGltZU5vdy5nZXRNb250aCgpID09IHRoaXMuZGF0ZVRpbWUuZ2V0TW9udGgoKSAmJiBkYXRlVGltZU5vdy5nZXRGdWxsWWVhcigpID09IHRoaXMuZGF0ZVRpbWUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgLy8g2LHZiNiy2YfYp9uMINmF2KfZhyDZgtio2YRcclxuICAgICAgaWYgKHRoaXMuZ3JlZ29yaWFuU3RhcnREYXlPZk1vbnRoICE9IEdyZWdvcmlhbkRheU9mV2Vlay5TYXR1cmRheSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGVUaW1lQ2xvbmUgPSBuZXcgRGF0ZSh0aGlzLmRhdGVUaW1lKTtcclxuICAgICAgICBkYXRlVGltZUNsb25lLnNldE1vbnRoKHRoaXMuZGF0ZVRpbWUuZ2V0TW9udGgoKSk7XHJcbiAgICAgICAgeWVhciA9IGRhdGVUaW1lQ2xvbmUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICBtb250aCA9IGRhdGVUaW1lQ2xvbmUuZ2V0TW9udGgoKTtcclxuICAgICAgICBjb25zdCBwcmV2aW91c01vbnRoRGF5cyA9IG5ldyBEYXRlKGRhdGVUaW1lQ2xvbmUuZ2V0RnVsbFllYXIoKSwgZGF0ZVRpbWVDbG9uZS5nZXRNb250aCgpLCAwKS5nZXREYXRlKCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHByZXZpb3VzTW9udGhEYXlzIC0gdGhpcy5ncmVnb3JpYW5TdGFydERheU9mTW9udGggKyAxOyBpIDw9IHByZXZpb3VzTW9udGhEYXlzOyBpKyspIHtcclxuICAgICAgICAgIGNvdW50ZXIrKztcclxuICAgICAgICAgIGRheXMucHVzaCh0aGlzLmdldERheU9iamVjdCh5ZWFyLCBtb250aCAtIDEsIGksIHRydWUsIGZhbHNlLCBmYWxzZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvLyDYsdmI2LLZh9in24wg2YXYp9mHINis2KfYsduMXHJcbiAgICAgIHllYXIgPSB0aGlzLmRhdGVUaW1lLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgIG1vbnRoID0gdGhpcy5kYXRlVGltZS5nZXRNb250aCgpO1xyXG4gICAgICBjb25zdCBjdXJyZW50TW9udGhEYXlzID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDApLmdldERhdGUoKTtcclxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gY3VycmVudE1vbnRoRGF5czsgaSsrKSB7XHJcbiAgICAgICAgY291bnRlcisrO1xyXG4gICAgICAgIGRheXMucHVzaCh0aGlzLmdldERheU9iamVjdCh5ZWFyLCBtb250aCwgaSwgZmFsc2UsIGZhbHNlLCBpc1llYXJBbmRNb250aEluQ3VycmVudE1vbnRoICYmIGkgPT0gdG9kYXkpKTtcclxuICAgICAgfVxyXG4gICAgICAvLyDYsdmI2LLZh9in24wg2YXYp9mHINio2LnYr1xyXG4gICAgICBjb25zdCBuZXh0TW9udGhEYXRlVGltZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoICsgMSwgMSk7XHJcbiAgICAgIHllYXIgPSBuZXh0TW9udGhEYXRlVGltZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICBtb250aCA9IG5leHRNb250aERhdGVUaW1lLmdldE1vbnRoKCk7XHJcbiAgICAgIGZvciAobGV0IGkgPSAxOyBjb3VudGVyIDw9ICg2ICogNykgLSAxOyBpKyspIHtcclxuICAgICAgICBjb3VudGVyKys7XHJcbiAgICAgICAgZGF5cy5wdXNoKHRoaXMuZ2V0RGF5T2JqZWN0KHllYXIsIG1vbnRoLCBpLCB0cnVlLCBmYWxzZSwgZmFsc2UpKTtcclxuICAgICAgfVxyXG4gICAgICAvLyDYqti52LfbjNmEINqp2LHYr9mGINix2YjYstmH2KfbjCDYrNmF2LnZh1xyXG4gICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCA2OyByb3crKykge1xyXG4gICAgICAgIGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8IDc7IGNvbHVtbisrKSB7XHJcbiAgICAgICAgICBjb25zdCBpbmRleDEgPSByb3cgKiA3ICsgY29sdW1uO1xyXG4gICAgICAgICAgaWYgKGNvbHVtbiA9PSAwKVxyXG4gICAgICAgICAgICBkYXlzW2luZGV4MV0uaG9saURheSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLmRheXNJbk1vbnRoID0gZGF5cztcclxuICB9XHJcbiAgcHJpdmF0ZSBmaXJlQ2hhbmdlRXZlbnQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmRhdGVDaGFuZ2VkLmVtaXQodGhpcy5nZXRTZWxlY3RlZERhdGVPYmplY3QpO1xyXG4gIH1cclxuICBwcml2YXRlIGZpcmVSYW5nZUNoYW5nZUV2ZW50KCk6IHZvaWQge1xyXG4gICAgdGhpcy5yYW5nZURhdGVDaGFuZ2VkLmVtaXQodGhpcy5nZXRTZWxlY3RlZFJhbmdlRGF0ZXNPYmplY3QpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZXNldFRvRmFsc2VSYW5nZVBhcmFtZXRlcnNJbk1vbnRoRGF5cygpIHtcclxuICAgIGZvciAobGV0IElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXkgb2YgdGhpcy5kYXlzSW5Nb250aCkge1xyXG4gICAgICBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF5LmlzV2l0aGluUmFuZ2UgPSBmYWxzZTtcclxuICAgICAgSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheS5pc1N0YXJ0T3JFbmRPZlJhbmdlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDYsduM2LPYqiDaqdix2K/ZhiDYqtmF2KfZhduMINin2LfZhNin2LnYp9iqINix2YjYstmH2KfbjCDZhdin2YdcclxuICAgKi9cclxuICBwcml2YXRlIHJlc2V0TW9udGhEYXlzV2l0aENvbnRlbnQoKSB7XHJcbiAgICBpZiAodGhpcy5kYXlzSW5Nb250aCA9PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgIGZvciAobGV0IElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXkgb2YgdGhpcy5kYXlzSW5Nb250aCkge1xyXG4gICAgICBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF5LmlzV2l0aGluUmFuZ2UgPSBmYWxzZTtcclxuICAgICAgSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheS5pc1N0YXJ0T3JFbmRPZlJhbmdlID0gZmFsc2U7XHJcbiAgICAgIElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXkuZGF5U3RyaW5nID0gdGhpcy5wZXJzaWFuQ2hhclxyXG4gICAgICAgID8gTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5LnRvUGVyc2lhbk51bWJlcihJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF5LmRheS50b1N0cmluZygpKVxyXG4gICAgICAgIDogSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheS5kYXkudG9TdHJpbmcoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqINmF2K7ZgduMINqp2LHYr9mGINio2YTYp9qpINmH2KfbjCDYp9mG2KrYrtin2Kgg2YXYp9mHINmIINiz2KfZhFxyXG4gICAqL1xyXG4gIGhpZGVTZWxlY01vbnRoQW5kWWVhckJsb2NrKCk6IHZvaWQge1xyXG4gICAgdGhpcy5tb250aE9yWWVhclNlbGVjdG9yVmlzaWJpbGl0eVN0YXRlTmFtZSA9ICdoaWRkZW4nO1xyXG4gICAgdGhpcy5tb250aFNlbGVjdG9yVmlzaWJpbGl0eVN0YXRlTmFtZSA9ICdoaWRkZW4nO1xyXG4gICAgdGhpcy55ZWFyU2VsZWN0b3JWaXNpYmlsaXR5U3RhdGVOYW1lID0gJ2hpZGRlbic7XHJcbiAgfVxyXG4gIHJlc2V0SW5jb21wbGV0ZVJhbmdlcygpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9PSBudWxsIHx8IHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSA9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID0gdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID0gbnVsbDtcclxuICAgICAgdGhpcy5fc2VsZWN0ZWRQZXJzaWFuU3RhcnREYXRlVGltZSA9IHRoaXMuX3NlbGVjdGVkUGVyc2lhbkVuZERhdGVUaW1lID0gbnVsbDtcclxuICAgICAgdGhpcy5yZXNldFRvRmFsc2VSYW5nZVBhcmFtZXRlcnNJbk1vbnRoRGF5cygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog2qnZhNuM2qkg2LHZiNuMINiv2qnZhdmHINmG2KfZhSDZhdin2Ycg2K/YsSDYqNin2YTYp9uMINm+24zaqdixINio2LHYp9uMINin2YbYqtiu2KfYqCDZhdin2YdcclxuICAgKi9cclxuICBtb250aEJ1dHRvbk9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICB0aGlzLm1vbnRoT3JZZWFyU2VsZWN0b3JWaXNpYmlsaXR5U3RhdGVOYW1lID0gJ3Zpc2libGUnO1xyXG4gICAgdGhpcy5tb250aFNlbGVjdG9yVmlzaWJpbGl0eVN0YXRlTmFtZSA9ICd2aXNpYmxlJztcclxuICB9XHJcbiAgLyoqXHJcbiAgICog2qnZhNuM2qkg2LHZiNuMINiv2qnZhdmHINiz2KfZhCDYr9ixINio2KfZhNin24wg2b7bjNqp2LEg2KjYsdin24wg2KfZhtiq2K7Yp9ioINiz2KfZhFxyXG4gICAqL1xyXG4gIHNlbGVjdFllYXJCdXR0b25PbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgdGhpcy5tb250aE9yWWVhclNlbGVjdG9yVmlzaWJpbGl0eVN0YXRlTmFtZSA9ICd2aXNpYmxlJztcclxuICAgIHRoaXMueWVhclNlbGVjdG9yVmlzaWJpbGl0eVN0YXRlTmFtZSA9ICd2aXNpYmxlJztcclxuICB9XHJcbiAgbW9udGhzQmxvY2tWaXNpYmlsaXR5QW5pbWF0aW9uRG9uZSgpOiB2b2lkIHtcclxuICAgIHRoaXMudXBkYXRlTW9udGhEYXlzKCk7XHJcbiAgfVxyXG4gIHllYXJzQmxvY2tWaXNpYmlsaXR5QW5pbWF0aW9uRG9uZSgpOiB2b2lkIHtcclxuICAgIHRoaXMudXBkYXRlWWVhcnNMaXN0KCk7XHJcbiAgICB0aGlzLnVwZGF0ZU1vbnRoRGF5cygpO1xyXG4gIH1cclxuICBuZXh0WWVhckJ1dHRvbk9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5pc1BlcnNpYW4pXHJcbiAgICAgIHRoaXMuZGF0ZVRpbWUgPSB0aGlzLnBlcnNpYW5EYXRlVGltZS5hZGRZZWFycygxKS50b0RhdGUoKTtcclxuICAgIGVsc2VcclxuICAgICAgdGhpcy5kYXRlVGltZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZVRpbWUuc2V0RnVsbFllYXIodGhpcy5kYXRlVGltZS5nZXRGdWxsWWVhcigpICsgMSkpO1xyXG4gICAgdGhpcy51cGRhdGVNb250aERheXMoKTtcclxuICB9XHJcbiAgbmV4dE1vbnRoQnV0dG9uT25DbGljaygpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmlzUGVyc2lhbilcclxuICAgICAgdGhpcy5kYXRlVGltZSA9IHRoaXMucGVyc2lhbkRhdGVUaW1lLmFkZE1vbnRocygxKS50b0RhdGUoKTtcclxuICAgIGVsc2VcclxuICAgICAgdGhpcy5kYXRlVGltZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZVRpbWUuc2V0TW9udGgodGhpcy5kYXRlVGltZS5nZXRNb250aCgpICsgMSkpO1xyXG4gICAgdGhpcy51cGRhdGVNb250aERheXMoKTtcclxuICB9XHJcbiAgcHJldmlvdXNNb250aEJ1dHRvbk9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5pc1BlcnNpYW4pXHJcbiAgICAgIHRoaXMuZGF0ZVRpbWUgPSB0aGlzLnBlcnNpYW5EYXRlVGltZS5hZGRNb250aHMoLTEpLnRvRGF0ZSgpO1xyXG4gICAgZWxzZVxyXG4gICAgICB0aGlzLmRhdGVUaW1lID0gbmV3IERhdGUodGhpcy5kYXRlVGltZS5zZXRNb250aCh0aGlzLmRhdGVUaW1lLmdldE1vbnRoKCkgLSAxKSk7XHJcbiAgICB0aGlzLnVwZGF0ZU1vbnRoRGF5cygpO1xyXG4gIH1cclxuICBwcmV2aW91c1llYXJCdXR0b25PbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuaXNQZXJzaWFuKVxyXG4gICAgICB0aGlzLmRhdGVUaW1lID0gdGhpcy5wZXJzaWFuRGF0ZVRpbWUuYWRkWWVhcnMoLTEpLnRvRGF0ZSgpO1xyXG4gICAgZWxzZVxyXG4gICAgICB0aGlzLmRhdGVUaW1lID0gbmV3IERhdGUodGhpcy5kYXRlVGltZS5zZXRGdWxsWWVhcih0aGlzLmRhdGVUaW1lLmdldEZ1bGxZZWFyKCkgLSAxKSk7XHJcbiAgICB0aGlzLnVwZGF0ZU1vbnRoRGF5cygpO1xyXG4gIH1cclxuICBob3VyVXBCdXR0b25PbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgdGhpcy5kYXRlVGltZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZVRpbWUuc2V0SG91cnModGhpcy5kYXRlVGltZS5nZXRIb3VycygpICsgMSkpO1xyXG4gIH1cclxuICBob3VyRG93bkJ1dHRvbk9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICB0aGlzLmRhdGVUaW1lID0gbmV3IERhdGUodGhpcy5kYXRlVGltZS5zZXRIb3Vycyh0aGlzLmRhdGVUaW1lLmdldEhvdXJzKCkgLSAxKSk7XHJcbiAgfVxyXG4gIG1pbnV0ZVVwQnV0dG9uT25DbGljaygpOiB2b2lkIHtcclxuICAgIHRoaXMuZGF0ZVRpbWUgPSBuZXcgRGF0ZSh0aGlzLmRhdGVUaW1lLnNldE1pbnV0ZXModGhpcy5kYXRlVGltZS5nZXRNaW51dGVzKCkgKyAxKSk7XHJcbiAgfVxyXG4gIG1pbnV0ZURvd25CdXR0b25PbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgdGhpcy5kYXRlVGltZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZVRpbWUuc2V0TWludXRlcyh0aGlzLmRhdGVUaW1lLmdldE1pbnV0ZXMoKSAtIDEpKTtcclxuICB9XHJcbiAgc2Vjb25kVXBCdXR0b25PbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgdGhpcy5kYXRlVGltZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZVRpbWUuc2V0U2Vjb25kcyh0aGlzLmRhdGVUaW1lLmdldFNlY29uZHMoKSArIDEpKTtcclxuICB9XHJcbiAgc2Vjb25kRG93bkJ1dHRvbk9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICB0aGlzLmRhdGVUaW1lID0gbmV3IERhdGUodGhpcy5kYXRlVGltZS5zZXRTZWNvbmRzKHRoaXMuZGF0ZVRpbWUuZ2V0U2Vjb25kcygpIC0gMSkpO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDYp9mG2KrYrtin2Kgg2YXYp9mHINin2LIg2LHZiNuMINmE24zYs9iqINmF2KfZhyDZh9inXHJcbiAgICovXHJcbiAgbW9udGhPbkNsaWNrKHNlbGVjdGVkTW9udGhOYW1lKTogdm9pZCB7XHJcbiAgICBjb25zdCBtb250aEluZGV4ID0gdGhpcy5pc1BlcnNpYW5cclxuICAgICAgPyBQZXJzaWFuRGF0ZVRpbWUuZ2V0UGVyc2lhbk1vbnRoSW5kZXgoc2VsZWN0ZWRNb250aE5hbWUpXHJcbiAgICAgIDogUGVyc2lhbkRhdGVUaW1lLmdldEdyZWdvcmlhbk1vbnRoTmFtZUluZGV4KHNlbGVjdGVkTW9udGhOYW1lKTtcclxuICAgIGlmICh0aGlzLmlzUGVyc2lhbilcclxuICAgICAgdGhpcy5kYXRlVGltZSA9IHRoaXMucGVyc2lhbkRhdGVUaW1lLnNldFBlcnNpYW5Nb250aChtb250aEluZGV4ICsgMSkudG9EYXRlKCk7XHJcbiAgICBlbHNlIHtcclxuICAgICAgY29uc3QgZGF0ZVRpbWVDbG9uZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZVRpbWUpO1xyXG4gICAgICBkYXRlVGltZUNsb25lLnNldE1vbnRoKG1vbnRoSW5kZXgpO1xyXG4gICAgICB0aGlzLmRhdGVUaW1lID0gbmV3IERhdGUoZGF0ZVRpbWVDbG9uZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmhpZGVTZWxlY01vbnRoQW5kWWVhckJsb2NrKCk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqINin2YbYqtiu2KfYqCDYs9in2YQg2KfYsiDYsdmI24wg2YTbjNiz2Kog2LPYp9mEINmH2KdcclxuICAgKi9cclxuICB5ZWFyT25DbGljayhzZWxlY3RlZFllYXIpOiB2b2lkIHtcclxuICAgIGNvbnN0IHllYXIgPSB0aGlzLmlzUGVyc2lhbiA/IE51bWJlcihNZHNEYXRldGltZVBpY2tlclV0aWxpdHkudG9FbmdsaXNoTnVtYmVyKHNlbGVjdGVkWWVhcikpIDogTnVtYmVyKHNlbGVjdGVkWWVhcik7XHJcbiAgICBpZiAodGhpcy5pc1BlcnNpYW4pXHJcbiAgICAgIHRoaXMuZGF0ZVRpbWUgPSB0aGlzLnBlcnNpYW5EYXRlVGltZS5zZXRQZXJzaWFuWWVhcih5ZWFyKS50b0RhdGUoKTtcclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCBkYXRlVGltZUNsb25lID0gbmV3IERhdGUodGhpcy5kYXRlVGltZSk7XHJcbiAgICAgIGRhdGVUaW1lQ2xvbmUuc2V0RnVsbFllYXIoeWVhcik7XHJcbiAgICAgIHRoaXMuZGF0ZVRpbWUgPSBuZXcgRGF0ZShkYXRlVGltZUNsb25lKTtcclxuICAgIH1cclxuICAgIHRoaXMuaGlkZVNlbGVjTW9udGhBbmRZZWFyQmxvY2soKTtcclxuICB9XHJcbiAgdG9kYXlCdXR0b25PbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgY29uc3QgZGF0ZVRpbWVOb3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgaWYgKHRoaXMuZGF0ZVRpbWUuZ2V0RnVsbFllYXIoKSAhPSBkYXRlVGltZU5vdy5nZXRGdWxsWWVhcigpIHx8IHRoaXMuZGF0ZVRpbWUuZ2V0TW9udGgoKSAhPSBkYXRlVGltZU5vdy5nZXRNb250aCgpKSB7XHJcbiAgICAgIHRoaXMuZGF0ZVRpbWUgPSBkYXRlVGltZU5vdztcclxuICAgICAgdGhpcy51cGRhdGVNb250aERheXMoKTtcclxuICAgIH0gZWxzZVxyXG4gICAgICB0aGlzLmRhdGVUaW1lID0gZGF0ZVRpbWVOb3c7XHJcbiAgICB0aGlzLnNlbGVjdGVkRGF0ZVRpbWUgPSBkYXRlVGltZU5vdztcclxuICAgIGlmICghdGhpcy5yYW5nZVNlbGVjdG9yKSB0aGlzLmZpcmVDaGFuZ2VFdmVudCgpO1xyXG4gIH1cclxuICBkYXlCdXR0b25PbkNsaWNrKGRheU9iamVjdDogSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheSk6IHZvaWQge1xyXG4gICAgLy8g2LHZiNuMINix2YjYstmH2KfbjCDZhdin2Ycg2YfYp9uMINmC2KjZhCDbjNinINio2LnYryDaqdmE24zaqSDYtNiv2Ycg2KfYs9iqXHJcbiAgICBpZiAoZGF5T2JqZWN0LmRpc2FibGUpIHtcclxuICAgICAgaWYgKHRoaXMuaXNQZXJzaWFuKVxyXG4gICAgICAgIHRoaXMuZGF0ZVRpbWUgPSBQZXJzaWFuRGF0ZVRpbWUuZnJvbVBlcnNpYW5EYXRlKGRheU9iamVjdC55ZWFyLCBkYXlPYmplY3QubW9udGgsIGRheU9iamVjdC5kYXkpLnRvRGF0ZSgpO1xyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBkYXRlVGltZUNsb25lID0gbmV3IERhdGUodGhpcy5kYXRlVGltZSk7XHJcbiAgICAgICAgZGF0ZVRpbWVDbG9uZS5zZXREYXRlKGRheU9iamVjdC5kYXkpO1xyXG4gICAgICAgIGRhdGVUaW1lQ2xvbmUuc2V0TW9udGgoZGF5T2JqZWN0Lm1vbnRoKTtcclxuICAgICAgICBkYXRlVGltZUNsb25lLnNldEZ1bGxZZWFyKGRheU9iamVjdC55ZWFyKTtcclxuICAgICAgICB0aGlzLmRhdGVUaW1lID0gZGF0ZVRpbWVDbG9uZTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnVwZGF0ZU1vbnRoRGF5cygpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8g2YbYp9mEINqp2LHYr9mGINiq2KfYsduM2K4g2YfYp9uMINi02LHZiNi5INmIINm+2KfbjNin2YYg2KjYsdin24wg2KfZhtiq2K7Yp9ioINmF2KzYr9ivINix2YbYrCDYqtin2LHbjNiuIFxyXG4gICAgLy8g2K/YsSDYtdmI2LHYqtuMINqp2Ycg2LHZhtisINqv2LHZgdiq2Ycg2LTYr9mHINio2YjYr1xyXG4gICAgaWYgKHRoaXMucmFuZ2VTZWxlY3RvciAmJiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSAhPSBudWxsICYmIHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSAhPSBudWxsKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID0gbnVsbDtcclxuICAgICAgdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID0gbnVsbDtcclxuICAgICAgdGhpcy5yZXNldFRvRmFsc2VSYW5nZVBhcmFtZXRlcnNJbk1vbnRoRGF5cygpO1xyXG4gICAgfVxyXG4gICAgLy8gXFxcXFxyXG5cclxuICAgIC8vINix2YjYsiDYp9mG2KrYrtin2Kgg2LTYr9mHXHJcbiAgICB0aGlzLnNlbGVjdGVkRGF0ZVRpbWUgPSB0aGlzLmlzUGVyc2lhblxyXG4gICAgICA/IFBlcnNpYW5EYXRlVGltZS5mcm9tUGVyc2lhbkRhdGVUaW1lKGRheU9iamVjdC55ZWFyLCBkYXlPYmplY3QubW9udGgsIGRheU9iamVjdC5kYXksIHRoaXMuaG91ciwgdGhpcy5taW51dGUsIHRoaXMuc2Vjb25kLCAwKS50b0RhdGUoKVxyXG4gICAgICA6IG5ldyBEYXRlKGRheU9iamVjdC55ZWFyLCBkYXlPYmplY3QubW9udGgsIGRheU9iamVjdC5kYXksIHRoaXMuaG91ciwgdGhpcy5taW51dGUsIHRoaXMuc2Vjb25kKTtcclxuXHJcbiAgICBpZiAodGhpcy5yYW5nZVNlbGVjdG9yKSB7XHJcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9PSBudWxsIHx8IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID49IHRoaXMuc2VsZWN0ZWREYXRlVGltZSkge1xyXG4gICAgICAgIHRoaXMucmVzZXRUb0ZhbHNlUmFuZ2VQYXJhbWV0ZXJzSW5Nb250aERheXMoKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9IHRoaXMuc2VsZWN0ZWREYXRlVGltZTtcclxuICAgICAgICBkYXlPYmplY3QuaXNTdGFydE9yRW5kT2ZSYW5nZSA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID0gdGhpcy5zZWxlY3RlZERhdGVUaW1lO1xyXG4gICAgICAgIGRheU9iamVjdC5pc1N0YXJ0T3JFbmRPZlJhbmdlID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMucmFuZ2VTZWxlY3RvciAmJiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSAhPSBudWxsICYmIHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSAhPSBudWxsKVxyXG4gICAgICB0aGlzLmZpcmVSYW5nZUNoYW5nZUV2ZW50KCk7XHJcbiAgICBlbHNlIGlmICghdGhpcy5yYW5nZVNlbGVjdG9yKVxyXG4gICAgICB0aGlzLmZpcmVDaGFuZ2VFdmVudCgpO1xyXG4gIH1cclxuICBkYXlCdXR0b25PbkhvdmVyKGRheU9iamVjdDogSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheSk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmlzUmFuZ2VTZWxlY3RvclJlYWR5KSByZXR1cm47XHJcbiAgICAvLyDYqtin2LHbjNiuINix2YjYstuMINqp2Ycg2YXZiNizINix2YjbjCDYotmGINin2LPYqlxyXG4gICAgbGV0IGhvdmVyQ2VsbERhdGU6IERhdGUgPSB0aGlzLmlzUGVyc2lhblxyXG4gICAgICA/IFBlcnNpYW5EYXRlVGltZS5mcm9tUGVyc2lhbkRhdGUoZGF5T2JqZWN0LnllYXIsIGRheU9iamVjdC5tb250aCwgZGF5T2JqZWN0LmRheSkudG9EYXRlKClcclxuICAgICAgOiBuZXcgRGF0ZShkYXlPYmplY3QueWVhciwgZGF5T2JqZWN0Lm1vbnRoLCBkYXlPYmplY3QuZGF5KTtcclxuICAgIGZvciAobGV0IElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXkgb2YgdGhpcy5kYXlzSW5Nb250aCkge1xyXG4gICAgICBsZXQgY3VycmVudERhdGU6IERhdGUgPSB0aGlzLmlzUGVyc2lhblxyXG4gICAgICAgID8gUGVyc2lhbkRhdGVUaW1lLmZyb21QZXJzaWFuRGF0ZShJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF5LnllYXIsIElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXkubW9udGgsIElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXkuZGF5KS50b0RhdGUoKVxyXG4gICAgICAgIDogbmV3IERhdGUoSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheS55ZWFyLCBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF5Lm1vbnRoLCBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF5LmRheSk7XHJcbiAgICAgIElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXkuaXNXaXRoaW5SYW5nZSA9IGN1cnJlbnREYXRlID49IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lICYmIGN1cnJlbnREYXRlIDw9IGhvdmVyQ2VsbERhdGU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlamVjdEJ1dHRvbk9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICB0aGlzLnNlbGVjdGVkRGF0ZVRpbWUgPSBudWxsO1xyXG4gICAgdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUgPSB0aGlzLnNlbGVjdGVkRW5kRGF0ZVRpbWUgPSBudWxsO1xyXG4gICAgdGhpcy5yZXNldFRvRmFsc2VSYW5nZVBhcmFtZXRlcnNJbk1vbnRoRGF5cygpO1xyXG4gICAgdGhpcy5maXJlUmFuZ2VDaGFuZ2VFdmVudCgpO1xyXG4gIH1cclxuICBjb25maXJtQnV0dG9uT25DbGljaygpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSAhPSBudWxsICYmIHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSAhPSBudWxsKVxyXG4gICAgICB0aGlzLmZpcmVSYW5nZUNoYW5nZUV2ZW50KCk7XHJcbiAgfVxyXG59Il19