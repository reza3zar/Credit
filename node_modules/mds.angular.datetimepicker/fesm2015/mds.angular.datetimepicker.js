import { Mds } from 'mds.persian.datetime';
import { Injectable, Pipe, Component, ElementRef, EventEmitter, forwardRef, Input, Output, ViewChild, defineInjectable, NgModule } from '@angular/core';
import { trigger, state, style, animate, transition } from '@angular/animations';
import { FormControl, NG_VALUE_ACCESSOR, FormsModule, ReactiveFormsModule } from '@angular/forms';
import { DomSanitizer } from '@angular/platform-browser';
import { CommonModule } from '@angular/common';
import { MatInputModule } from '@angular/material';
import { MatButtonModule } from '@angular/material/button';
import { MatFormFieldModule } from '@angular/material/form-field';
import { MatGridListModule } from '@angular/material/grid-list';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @enum {number} */
const TemplateTypeEnum = {
    bootstrap: 1,
    material: 2,
};
TemplateTypeEnum[TemplateTypeEnum.bootstrap] = 'bootstrap';
TemplateTypeEnum[TemplateTypeEnum.material] = 'material';
/** @enum {number} */
const TextBoxTypeEnum = {
    withButton: 1,
    withoutButton: 2,
};
TextBoxTypeEnum[TextBoxTypeEnum.withButton] = 'withButton';
TextBoxTypeEnum[TextBoxTypeEnum.withoutButton] = 'withoutButton';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var PersianDateTime = Mds.PersianDateTime;
class MdsDatetimePickerUtility {
    /**
     * @param {?} input
     * @return {?}
     */
    static toPersianNumber(input) {
        if (input == '' || input == null)
            return '';
        input = input.replace(/ي/img, 'ی').replace(/ك/img, 'ک');
        //۰ ۱ ۲ ۳ ۴ ۵ ۶ ۷ ۸ ۹
        return input.replace(/0/img, '۰')
            .replace(/1/img, '۱')
            .replace(/2/img, '۲')
            .replace(/3/img, '۳')
            .replace(/4/img, '۴')
            .replace(/5/img, '۵')
            .replace(/6/img, '۶')
            .replace(/7/img, '۷')
            .replace(/8/img, '۸')
            .replace(/9/img, '۹');
    }
    /**
     * @param {?} input
     * @return {?}
     */
    static toEnglishNumber(input) {
        if (input == '' || input == null)
            return 0;
        input = input.replace(/ي/img, 'ی').replace(/ك/img, 'ک');
        //۰ ۱ ۲ ۳ ۴ ۵ ۶ ۷ ۸ ۹
        input = input.replace(/,/img, '')
            .replace(/۰/img, '0')
            .replace(/۱/img, '1')
            .replace(/۲/img, '2')
            .replace(/۳/img, '3')
            .replace(/۴/img, '4')
            .replace(/۵/img, '5')
            .replace(/۶/img, '6')
            .replace(/۷/img, '7')
            .replace(/۸/img, '8')
            .replace(/۹/img, '9');
        return Number(input);
    }
    /**
     * @param {?} input
     * @return {?}
     */
    static toEnglishString(input) {
        if (input == '' || input == null)
            return '';
        input = input.replace(/ي/img, 'ی').replace(/ك/img, 'ک');
        //۰ ۱ ۲ ۳ ۴ ۵ ۶ ۷ ۸ ۹
        input = input.replace(/,/img, '')
            .replace(/۰/img, '0')
            .replace(/۱/img, '1')
            .replace(/۲/img, '2')
            .replace(/۳/img, '3')
            .replace(/۴/img, '4')
            .replace(/۵/img, '5')
            .replace(/۶/img, '6')
            .replace(/۷/img, '7')
            .replace(/۸/img, '8')
            .replace(/۹/img, '9');
        return input;
    }
    /**
     * @param {?} date
     * @param {?=} format
     * @return {?}
     */
    static dateTimeToString(date, format = '') {
        if (format == '' || format == null)
            return `${this.zeroPad(date.getFullYear(), '0000')}/${this.zeroPad(date.getMonth() + 1, '00')}/${this.zeroPad(date.getDate(), '00')}   ${this.zeroPad(date.getHours(), '00')}:${this.zeroPad(date.getMinutes(), '00')}:${this.zeroPad(date.getSeconds(), '00')}`;
        /** @type {?} */
        var dateTimeString = format;
        dateTimeString = dateTimeString.replace(/yyyy/, this.zeroPad(date.getFullYear(), '0000'));
        dateTimeString = dateTimeString.replace(/yy/, this.zeroPad(date.getFullYear(), '00'));
        dateTimeString = dateTimeString.replace(/dddd/, this.getGregorianWeekDayName(date.getDay()));
        dateTimeString = dateTimeString.replace(/dd/, this.zeroPad(date.getDate(), '00'));
        dateTimeString = dateTimeString.replace(/d/, date.getDate().toString());
        dateTimeString = dateTimeString.replace(/hh/, this.zeroPad(date.getHours(), '00'));
        dateTimeString = dateTimeString.replace(/h/, date.getHours().toString());
        dateTimeString = dateTimeString.replace(/mm/, this.zeroPad(date.getMinutes(), '00'));
        dateTimeString = dateTimeString.replace(/m/, date.getMinutes().toString());
        dateTimeString = dateTimeString.replace(/ss/, this.zeroPad(date.getSeconds(), '00'));
        dateTimeString = dateTimeString.replace(/s/, date.getSeconds().toString());
        dateTimeString = dateTimeString.replace(/fff/, this.zeroPad(date.getMilliseconds(), '000'));
        dateTimeString = dateTimeString.replace(/ff/, this.zeroPad(date.getMilliseconds() / 10, '00'));
        dateTimeString = dateTimeString.replace(/f/, (date.getMilliseconds() / 10).toString());
        dateTimeString = dateTimeString.replace(/MMMM/, this.getGregorianMonthName(date.getMonth()));
        dateTimeString = dateTimeString.replace(/MM/, this.zeroPad(date.getMonth() + 1, '00'));
        dateTimeString = dateTimeString.replace(/M(?!a)/, (date.getMonth() + 1).toString());
        return dateTimeString;
    }
    /**
     * @param {?} nr
     * @param {?} base
     * @return {?}
     */
    static zeroPad(nr, base) {
        if (nr == undefined || nr == '')
            return base;
        /** @type {?} */
        const len = (String(base).length - String(nr).length) + 1;
        return len > 0 ? new Array(len).join('0') + nr : nr;
    }
    /**
     * @param {?} monthIndex
     * @return {?}
     */
    static getGregorianMonthName(monthIndex) {
        return [
            "January", "February", "March", "April", "May", "June",
            "July", "August", "September", "October", "November", "December"
        ][monthIndex];
    }
    /**
     * @param {?} weekDayIndex
     * @return {?}
     */
    static getGregorianWeekDayName(weekDayIndex) {
        return ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "FrIMdsAngularDateTimePickerDay", "Saturday"][weekDayIndex];
    }
    /**
     * @param {?} dateRangeString
     * @return {?}
     */
    static getPersianDateRanges(dateRangeString) {
        /** @type {?} */
        const startEndDateArrayResult = new Array();
        try {
            /** @type {?} */
            const startEndDateArray = dateRangeString.split(' - ');
            /** @type {?} */
            const startMdsPersianDateTime = PersianDateTime.parse(startEndDateArray[0]);
            /** @type {?} */
            const endMdsPersianDateTime = PersianDateTime.parse(startEndDateArray[1]);
            if (endMdsPersianDateTime.toDate() < startMdsPersianDateTime.toDate())
                throw new Error('Range date is not valid. End date must be bigger than start date');
            startEndDateArrayResult.push(startMdsPersianDateTime);
            startEndDateArrayResult.push(endMdsPersianDateTime);
        }
        catch (e) {
            throw new Error('Range date is not valid. You must enter range date string like "1396/03/06 - 1396/03/21"');
        }
        return startEndDateArrayResult;
    }
    /**
     * @param {?} dateRangeString
     * @return {?}
     */
    static getDateRanges(dateRangeString) {
        /** @type {?} */
        const startEndDateArrayResult = new Array();
        try {
            /** @type {?} */
            const startEndDateArray = dateRangeString.split(' - ');
            /** @type {?} */
            const startDateTime = new Date(Date.parse(startEndDateArray[0]));
            /** @type {?} */
            const endDateTime = new Date(Date.parse(startEndDateArray[1]));
            if (endDateTime < startDateTime)
                throw new Error('Range date is not valid. End date must be bigger than start date');
            startEndDateArrayResult.push(startDateTime);
            startEndDateArrayResult.push(endDateTime);
        }
        catch (e) {
            throw new Error('Range date is not valid. You must enter range date string like "2017/02/06 - 2017/02/18"');
        }
        return startEndDateArrayResult;
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class MdsDatetimePickerResourcesService {
    constructor() {
        this.persianResources = {
            'Year': 'سال',
            'Month': 'ماه',
            'Day': 'روز',
            'PreviousYear': 'سال قبل',
            'PreviousMonth': 'ماه قبل',
            'NextYear': 'سال بعد',
            'NextMonth': 'ماه بعد',
            'SelectMonth': 'انتخاب ماه',
            'Today': 'امروز',
            'Confirm': 'تایید',
            'Reject': 'رد',
            'Start': 'شروع',
            'End': 'پایان'
        };
        this.englishResources = {
            'Year': 'Year',
            'Month': 'Month',
            'Day': 'Day',
            'PreviousYear': 'Previous Year',
            'PreviousMonth': 'Previous Month',
            'NextYear': 'Next Year',
            'NextMonth': 'Next Month',
            'SelectMonth': 'Select Month',
            'Today': 'Today',
            'Confirm': 'Confirm',
            'Reject': 'Reject',
            'Start': 'Start',
            'End': 'End'
        };
    }
}
MdsDatetimePickerResourcesService.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root'
            },] }
];
/** @nocollapse */ MdsDatetimePickerResourcesService.ngInjectableDef = defineInjectable({ factory: function MdsDatetimePickerResourcesService_Factory() { return new MdsDatetimePickerResourcesService(); }, token: MdsDatetimePickerResourcesService, providedIn: "root" });

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
var PersianDateTime$1 = Mds.PersianDateTime;
var PersianDayOfWeek = Mds.PersianDayOfWeek;
var GregorianDayOfWeek = Mds.GregorianDayOfWeek;
class MdsAngularPersianDateTimePickerCoreComponent {
    /**
     * @param {?} resourcesService
     */
    constructor(resourcesService) {
        this.resourcesService = resourcesService;
        this.templateType = TemplateTypeEnum.bootstrap;
        this.initialValue = '';
        this._persianChar = true;
        this._isPersian = true;
        this.rangeSelector = false;
        this.timePicker = false;
        /**
          * فرمت پیش فرض 1393/09/14   13:49:40
          * yyyy: سال چهار رقمی
          * yy: سال دو رقمی
          * MMMM: نام فارسی ماه
          * MM: عدد دو رقمی ماه
          * M: عدد یک رقمی ماه
          * dddd: نام فارسی روز هفته
          * dd: عدد دو رقمی روز ماه
          * d: عدد یک رقمی روز ماه
          * HH: ساعت دو رقمی با فرمت 00 تا 24
          * H: ساعت یک رقمی با فرمت 0 تا 24
          * hh: ساعت دو رقمی با فرمت 00 تا 12
          * h: ساعت یک رقمی با فرمت 0 تا 12
          * mm: عدد دو رقمی دقیقه
          * m: عدد یک رقمی دقیقه
          * ss: ثانیه دو رقمی
          * s: ثانیه یک رقمی
          * fff: میلی ثانیه 3 رقمی
          * ff: میلی ثانیه 2 رقمی
          * f: میلی ثانیه یک رقمی
          * tt: ب.ظ یا ق.ظ
          * t: حرف اول از ب.ظ یا ق.ظ
          **/
        this.format = '';
        this.dateChanged = new EventEmitter();
        this.rangeDateChanged = new EventEmitter();
        this.daysAnimationStateName = 'visible';
        this.monthOrYearSelectorVisibilityStateName = 'hidden';
        this.monthSelectorVisibilityStateName = 'hidden';
        this.yearSelectorVisibilityStateName = 'hidden';
        // تاریخی که برای نمایش تقویم استفاده می شود
        this._dateTime = null;
        this._persianDateTime = null;
        // روز انتخاب شده
        this._selectedDateTime = null;
        this._selectedPersianDateTime = null;
        // روز شروع انتخاب شده در رنج سلکتور
        this._selectedStartDateTime = null;
        this._selectedPersianStartDateTime = null;
        // روز پایانی انتخاب شده در رنج سلکتور
        this._selectedEndDateTime = null;
        this._selectedPersianEndDateTime = null;
        this._resources = null;
        this._year = 0;
        this._yearString = '';
        this._month = 0;
        this._monthName = '';
        this._monthNames = [];
        this._hour = 0;
        this._hourString = '';
        this._minute = 0;
        this._minuteString = '';
        this._second = 0;
        this._secondString = '';
        this._weekdayNames = [];
        this._IMdsAngularDateTimePickerDate = null;
        this._selectedRangeDatesObject = null;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        if (this.rangeSelector)
            this.timePicker = false;
        if (!this.isPersian)
            this.persianChar = false;
        if (this.initialValue != '') {
            if (this.rangeSelector) {
                try {
                    if (this.isPersian) {
                        /** @type {?} */
                        const ranges = MdsDatetimePickerUtility.getPersianDateRanges(this.initialValue);
                        this.setSelectedRangePersianDateTimes(ranges);
                    }
                    else {
                        /** @type {?} */
                        const ranges = MdsDatetimePickerUtility.getDateRanges(this.initialValue);
                        this.setSelectedRangeDateTimes(ranges);
                    }
                    this.dateTime = this.selectedStartDateTime;
                }
                catch (e) {
                    console.error('value is in wrong format, when rangeSelector is true you should write value like "1396/03/01 - 1396/03/15" or "2017/3/9 - 2017/3/10"', e);
                    this.setSelectedRangeDateTimes(null);
                    this.dateTime = null;
                }
            }
            else {
                try {
                    if (this.isPersian)
                        this.dateTime = PersianDateTime$1.parse(this.initialValue).toDate();
                    else
                        this.dateTime = new Date(Date.parse(this.initialValue));
                }
                catch (e) {
                    console.error('value is in wrong format, you should write value like "1396/03/01  11:30:27" or "2017/09/03  11:30:00", you can remove time', e);
                    this.dateTime = null;
                }
            }
        }
        else {
            this.dateTime = null;
        }
        this.updateYearsList();
        this.updateMonthDays();
        if (this.initialValue != '') {
            if (this.rangeSelector)
                this.fireRangeChangeEvent();
            else
                this.fireChangeEvent();
        }
    }
    /**
     * @return {?}
     */
    get persianChar() {
        return this._persianChar;
    }
    ;
    /**
     * @param {?} value
     * @return {?}
     */
    set persianChar(value) {
        if (this._persianChar == value)
            return;
        this._persianChar = value;
        this._yearString = '';
        this.resetMonthDaysWithContent();
    }
    ;
    /**
     * @return {?}
     */
    get isPersian() {
        return this._isPersian;
    }
    ;
    /**
     * @param {?} value
     * @return {?}
     */
    set isPersian(value) {
        this._isPersian = value;
        this._monthName = '';
        this._monthNames = [];
        this._weekdayNames = [];
        this._resources = null;
        this._yearString = '';
        if (this.dateTime != null) {
            this.updateYearsList();
            this.updateMonthDays();
        }
    }
    ;
    /**
     * @param {?} dateString
     * @return {?}
     */
    splitStartEndDateString(dateString) {
        return dateString.split(' - ');
    }
    /**
     * @param {?} dateTimes
     * @return {?}
     */
    setSelectedRangeDateTimes(dateTimes) {
        dateTimes = dateTimes == null || dateTimes.length < 2 ? [null, null] : dateTimes;
        this.selectedStartDateTime = dateTimes[0];
        this.selectedEndDateTime = dateTimes[1];
    }
    /**
     * @param {?} persianDateTimes
     * @return {?}
     */
    setSelectedRangePersianDateTimes(persianDateTimes) {
        /** @type {?} */
        const ranges = [
            persianDateTimes[0] == null ? null : persianDateTimes[0].toDate(),
            persianDateTimes[1] == null ? null : persianDateTimes[1].toDate()
        ];
        this.setSelectedRangeDateTimes(ranges);
    }
    /**
     * @return {?}
     */
    get persianStartDayOfMonth() {
        return this.persianDateTime.startDayOfMonthDayOfWeek;
    }
    /**
     * @return {?}
     */
    get gregorianStartDayOfMonth() {
        return (/** @type {?} */ (new Date(this.dateTime.getFullYear(), this.dateTime.getMonth(), 1).getDay()));
    }
    /**
     * @param {?} dateTime
     * @return {?}
     */
    clearTime(dateTime) {
        if (dateTime == null)
            return;
        dateTime.setHours(0, 0, 0, 0);
    }
    /**
     * @return {?}
     */
    getDateTimeFormat() {
        /** @type {?} */
        let format = this.format;
        if (format.trim() == '') {
            format = 'yyyy/MM/dd';
            if (this.timePicker && !this.rangeSelector)
                format += '   hh:mm:ss';
        }
        else if (this.rangeSelector || !this.timePicker)
            format = format.replace(/t*|f*|s*|m*|h*|H*/, '');
        return format;
    }
    /**
     * @param {?} dateTime
     * @return {?}
     */
    setDateTimeByDate(dateTime) {
        this.dateTime = this.selectedDateTime = dateTime;
        this.selectedStartDateTime = !dateTime ? null : new Date(dateTime);
    }
    /**
     * @param {?} startDateTime
     * @param {?} endDateTime
     * @return {?}
     */
    setDateTimeRangesByDate(startDateTime, endDateTime) {
        this.dateTime = this.selectedDateTime = startDateTime;
        this.selectedStartDateTime = startDateTime == null ? null : new Date(startDateTime);
        this.selectedEndDateTime = endDateTime == null ? null : new Date(endDateTime);
    }
    /**
     * @param {?} dateTimeString
     * @return {?}
     */
    setDateTimeByString(dateTimeString) {
        try {
            if (dateTimeString == '') {
                this.clearDateTimePicker();
                return;
            }
            if (this.isPersian) {
                if (this.rangeSelector) {
                    /** @type {?} */
                    const startAndEndDateArray = this.splitStartEndDateString(dateTimeString);
                    this.dateTime = this.selectedStartDateTime = PersianDateTime$1.parse(startAndEndDateArray[0]).toDate();
                    this.selectedEndDateTime = PersianDateTime$1.parse(startAndEndDateArray[1]).toDate();
                    if (this.selectedStartDateTime > this.selectedEndDateTime)
                        throw new Error('Start date must be less than end date');
                }
                else
                    this.dateTime = this.selectedDateTime = PersianDateTime$1.parse(dateTimeString).toDate();
            }
            else {
                if (this.rangeSelector) {
                    /** @type {?} */
                    const startAndEndDateArray = this.splitStartEndDateString(dateTimeString);
                    this.dateTime = this.selectedStartDateTime = new Date(Date.parse(startAndEndDateArray[0]));
                    this.selectedEndDateTime = new Date(Date.parse(startAndEndDateArray[1]));
                    if (this.selectedStartDateTime > this.selectedEndDateTime)
                        throw new Error('Start date must be less than end date');
                }
                else
                    this.dateTime = this.selectedDateTime = new Date(Date.parse(dateTimeString));
            }
            if (this.rangeSelector)
                this.fireRangeChangeEvent();
            else
                this.fireChangeEvent();
            this.updateMonthDays();
        }
        catch (e) {
            this.clearDateTimePicker();
            throw new Error(e);
        }
    }
    /**
     * @return {?}
     */
    clearDateTimePicker() {
        this.dateTime = null;
        this.selectedDateTime = this.selectedStartDateTime = this.selectedEndDateTime = null;
        this.resetToFalseRangeParametersInMonthDays();
        if (this.rangeSelector)
            this.fireRangeChangeEvent();
        else
            this.fireChangeEvent();
        this.updateMonthDays();
    }
    /**
     * @return {?}
     */
    get getSelectedDate() {
        return this.getSelectedDateObject;
    }
    /**
     * @return {?}
     */
    get getSelectedRangeDates() {
        return this.getSelectedRangeDatesObject;
    }
    /**
     * @return {?}
     */
    get dateTime() {
        return this._dateTime;
    }
    /**
     * @param {?} dateTime
     * @return {?}
     */
    set dateTime(dateTime) {
        this._dateTime = dateTime == null ? new Date() : new Date(dateTime);
        this._persianDateTime = null;
        this._year = this._month = 0;
        this._yearString = this._monthName = '';
        this._hour = this._minute = this._second = 0;
        this._hourString = this._minuteString = this._secondString = '';
    }
    /**
     * @return {?}
     */
    get persianDateTime() {
        if (this.dateTime == null)
            return null;
        if (this._persianDateTime != null)
            return this._persianDateTime;
        this._persianDateTime = new PersianDateTime$1(this.dateTime);
        return this._persianDateTime;
    }
    /**
     * @return {?}
     */
    get selectedDateTime() {
        return this._selectedDateTime;
    }
    /**
     * @param {?} dateTime
     * @return {?}
     */
    set selectedDateTime(dateTime) {
        this._selectedDateTime = dateTime == null ? null : new Date(dateTime);
        this._IMdsAngularDateTimePickerDate = null;
        this._selectedPersianDateTime = null;
        if (this.rangeSelector || !this.timePicker)
            this.clearTime(dateTime);
    }
    /**
     * @return {?}
     */
    get selectedPersianDateTime() {
        if (this._selectedPersianDateTime != null)
            return this._selectedPersianDateTime;
        this._selectedPersianDateTime = new PersianDateTime$1(this.selectedDateTime);
        return this._selectedPersianDateTime;
    }
    /**
     * @return {?}
     */
    get selectedStartDateTime() {
        return this._selectedStartDateTime;
    }
    /**
     * @param {?} dateTime
     * @return {?}
     */
    set selectedStartDateTime(dateTime) {
        this._selectedStartDateTime = dateTime == null ? null : new Date(dateTime);
        this._selectedRangeDatesObject = null;
        this._selectedPersianStartDateTime = null;
        this.clearTime(dateTime);
    }
    /**
     * @return {?}
     */
    get selectedPersianStartDateTime() {
        if (this._selectedPersianStartDateTime != null)
            return this._selectedPersianStartDateTime;
        this._selectedPersianStartDateTime = new PersianDateTime$1(this.selectedStartDateTime);
        return this._selectedPersianStartDateTime;
    }
    /**
     * @return {?}
     */
    get selectedEndDateTime() {
        return this._selectedEndDateTime;
    }
    /**
     * @param {?} dateTime
     * @return {?}
     */
    set selectedEndDateTime(dateTime) {
        this._selectedEndDateTime = dateTime == null ? null : new Date(dateTime);
        this._selectedRangeDatesObject = null;
        this._selectedPersianEndDateTime = null;
        this.clearTime(dateTime);
    }
    /**
     * @return {?}
     */
    get selectedPersianEndDateTime() {
        if (this._selectedPersianEndDateTime != null)
            return this._selectedPersianEndDateTime;
        this._selectedPersianEndDateTime = new PersianDateTime$1(this.selectedEndDateTime);
        return this._selectedPersianEndDateTime;
    }
    /**
     * @return {?}
     */
    get resources() {
        if (this._resources != null)
            return this._resources;
        if (this.isPersian)
            this._resources = this.resourcesService.persianResources;
        else
            this._resources = this.resourcesService.englishResources;
        return this._resources;
    }
    /**
     * @return {?}
     */
    get year() {
        if (this._year > 0)
            return this._year;
        this._year = this.isPersian
            ? this.persianDateTime.year
            : this.dateTime.getFullYear();
        return this._year;
    }
    /**
     * @return {?}
     */
    get yearString() {
        if (this._yearString != '')
            return this._yearString;
        this._yearString = this.persianChar
            ? MdsDatetimePickerUtility.toPersianNumber(this.year.toString())
            : this.dateTime.getFullYear().toString();
        return this._yearString;
    }
    /**
     * @return {?}
     */
    get month() {
        if (this._month > 0)
            return this._month;
        this._month = this.isPersian
            ? PersianDateTime$1.getPersianMonthIndex(this.persianDateTime.monthName)
            : this.dateTime.getMonth();
        return this._month;
    }
    /**
     * @return {?}
     */
    get monthName() {
        if (this._monthName != '')
            return this._monthName;
        this._monthName = this.isPersian
            ? this.persianDateTime.monthName
            : PersianDateTime$1.getGregorianMonthNames[this.month];
        return this._monthName;
    }
    /**
     * @return {?}
     */
    get monthNames() {
        if (this._monthNames != null && this._monthNames.length > 0)
            return this._monthNames;
        if (this.isPersian) {
            /** @type {?} */
            const allPersianMonths = PersianDateTime$1.getPersianMonthNames;
            this._monthNames = [
                allPersianMonths[2], allPersianMonths[1], allPersianMonths[0],
                allPersianMonths[5], allPersianMonths[4], allPersianMonths[3],
                allPersianMonths[8], allPersianMonths[7], allPersianMonths[6],
                allPersianMonths[11], allPersianMonths[10], allPersianMonths[9]
            ];
        }
        else {
            this._monthNames = PersianDateTime$1.getGregorianMonthNames;
        }
        return this._monthNames;
    }
    /**
     * @return {?}
     */
    get hour() {
        if (this._hour > 0)
            return this._hour;
        this._hour = this.dateTime.getHours();
        return this._hour;
    }
    /**
     * @return {?}
     */
    get hourString() {
        if (this._hourString != '')
            return this._hourString;
        this._hourString = this.hour.toString();
        if (this.persianChar)
            this._hourString = MdsDatetimePickerUtility.toPersianNumber(this._hourString);
        return this._hourString;
    }
    /**
     * @return {?}
     */
    get minute() {
        if (this._minute > 0)
            return this._minute;
        this._minute = this.dateTime.getMinutes();
        return this._minute;
    }
    /**
     * @return {?}
     */
    get minuteString() {
        if (this._minuteString != '')
            return this._minuteString;
        this._minuteString = this.minute.toString();
        if (this.persianChar)
            this._minuteString = MdsDatetimePickerUtility.toPersianNumber(this._minuteString);
        return this._minuteString;
    }
    /**
     * @return {?}
     */
    get second() {
        if (this._second > 0)
            return this._second;
        this._second = this.dateTime.getSeconds();
        return this._second;
    }
    /**
     * @return {?}
     */
    get secondString() {
        if (this._secondString != '')
            return this._secondString;
        this._secondString = this.second.toString();
        if (this.persianChar)
            this._secondString = MdsDatetimePickerUtility.toPersianNumber(this._secondString);
        return this._secondString;
    }
    /**
     * @return {?}
     */
    get weekdayNames() {
        if (this._weekdayNames != null && this._weekdayNames.length > 0)
            return this._weekdayNames;
        if (this.isPersian) {
            // حروف اول نام های روز هفته شمسی
            /** @type {?} */
            const persianWeekDayNames = PersianDateTime$1.getPersianWeekdayNames;
            this._weekdayNames = [
                persianWeekDayNames[6][0], persianWeekDayNames[5][0], persianWeekDayNames[4][0],
                persianWeekDayNames[3][0], persianWeekDayNames[2][0], persianWeekDayNames[1][0],
                persianWeekDayNames[0][0]
            ];
        }
        else {
            /** @type {?} */
            const gregorianWeekDayNames = PersianDateTime$1.getGregorianWeekdayNames;
            this._weekdayNames = [
                gregorianWeekDayNames[1][0] + gregorianWeekDayNames[1][1],
                gregorianWeekDayNames[2][0] + gregorianWeekDayNames[2][1],
                gregorianWeekDayNames[3][0] + gregorianWeekDayNames[3][1],
                gregorianWeekDayNames[4][0] + gregorianWeekDayNames[4][1],
                gregorianWeekDayNames[5][0] + gregorianWeekDayNames[5][1],
                gregorianWeekDayNames[6][0] + gregorianWeekDayNames[6][1],
                gregorianWeekDayNames[0][0] + gregorianWeekDayNames[0][1]
            ];
        }
        return this._weekdayNames;
    }
    /**
     * @return {?}
     */
    get getSelectedDateObject() {
        if (this.selectedDateTime == null)
            return null;
        if (this._IMdsAngularDateTimePickerDate != null)
            return this._IMdsAngularDateTimePickerDate;
        /** @type {?} */
        let format = this.getDateTimeFormat();
        if (this.isPersian) {
            this._IMdsAngularDateTimePickerDate = {
                year: this.selectedPersianDateTime.year,
                month: this.selectedPersianDateTime.month,
                day: this.selectedPersianDateTime.day,
                hour: this.selectedPersianDateTime.hour,
                minute: this.selectedPersianDateTime.minute,
                second: this.selectedPersianDateTime.second,
                millisecond: this.selectedPersianDateTime.millisecond,
                formatString: this.selectedPersianDateTime.toString(format),
                utcDateTime: this.selectedDateTime
            };
        }
        else {
            this._IMdsAngularDateTimePickerDate = {
                year: this.selectedDateTime.getFullYear(),
                month: this.selectedDateTime.getMonth(),
                day: this.selectedDateTime.getDate(),
                hour: this.selectedDateTime.getHours(),
                minute: this.selectedDateTime.getMinutes(),
                second: this.selectedDateTime.getSeconds(),
                millisecond: this.selectedDateTime.getMilliseconds(),
                formatString: MdsDatetimePickerUtility.dateTimeToString(this.selectedDateTime, format),
                utcDateTime: this.selectedDateTime
            };
        }
        if (this.persianChar)
            this._IMdsAngularDateTimePickerDate.formatString = MdsDatetimePickerUtility.toPersianNumber(this._IMdsAngularDateTimePickerDate.formatString);
        else
            this._IMdsAngularDateTimePickerDate.formatString = MdsDatetimePickerUtility.toEnglishString(this._IMdsAngularDateTimePickerDate.formatString);
        return this._IMdsAngularDateTimePickerDate;
    }
    /**
     * @return {?}
     */
    get getSelectedDay() {
        if (this.getSelectedDateObject == null || this.rangeSelector)
            return 0;
        return this.getSelectedDateObject.day;
    }
    /**
     * @return {?}
     */
    get getSelectedRangeDatesObject() {
        if (!this.rangeSelector || this.selectedStartDateTime == null && this.selectedEndDateTime == null)
            return null;
        if (this._selectedRangeDatesObject != null)
            return this._selectedRangeDatesObject;
        /** @type {?} */
        let format = this.getDateTimeFormat();
        /** @type {?} */
        let startDate;
        /** @type {?} */
        let endDate;
        if (this.isPersian) {
            startDate = {
                year: this.selectedStartDateTime == null ? 0 : this.selectedPersianStartDateTime.year,
                month: this.selectedStartDateTime == null ? 0 : this.selectedPersianStartDateTime.month,
                day: this.selectedStartDateTime == null ? 0 : this.selectedPersianStartDateTime.day,
                hour: 0,
                minute: 0,
                second: 0,
                millisecond: 0,
                formatString: this.selectedStartDateTime == null ? '' : this.selectedPersianStartDateTime.toString(format),
                utcDateTime: this.selectedStartDateTime
            };
            endDate = {
                year: this.selectedPersianEndDateTime == null ? 0 : this.selectedPersianEndDateTime.year,
                month: this.selectedPersianEndDateTime == null ? 0 : this.selectedPersianEndDateTime.month,
                day: this.selectedPersianEndDateTime == null ? 0 : this.selectedPersianEndDateTime.day,
                hour: 0,
                minute: 0,
                second: 0,
                millisecond: 0,
                formatString: this.selectedPersianEndDateTime == null ? '' : this.selectedPersianEndDateTime.toString(format),
                utcDateTime: this.selectedEndDateTime
            };
        }
        else {
            startDate = {
                year: this.selectedStartDateTime == null ? 0 : this.selectedStartDateTime.getFullYear(),
                month: this.selectedStartDateTime == null ? 0 : this.selectedStartDateTime.getMonth(),
                day: this.selectedStartDateTime == null ? 0 : this.selectedStartDateTime.getDate(),
                hour: 0,
                minute: 0,
                second: 0,
                millisecond: 0,
                formatString: this.selectedStartDateTime == null ? '' : MdsDatetimePickerUtility.dateTimeToString(this.selectedStartDateTime, format),
                utcDateTime: this.selectedStartDateTime == null ? null : this.selectedStartDateTime
            };
            endDate = {
                year: this.selectedEndDateTime == null ? 0 : this.selectedEndDateTime.getFullYear(),
                month: this.selectedEndDateTime == null ? 0 : this.selectedEndDateTime.getMonth(),
                day: this.selectedEndDateTime == null ? 0 : this.selectedEndDateTime.getDate(),
                hour: 0,
                minute: 0,
                second: 0,
                millisecond: 0,
                formatString: this.selectedEndDateTime == null ? '' : MdsDatetimePickerUtility.dateTimeToString(this.selectedEndDateTime, format),
                utcDateTime: this.selectedEndDateTime == null ? null : this.selectedEndDateTime
            };
        }
        this._selectedRangeDatesObject = {
            startDate: startDate,
            endDate: endDate
        };
        return this._selectedRangeDatesObject;
    }
    /**
     * @return {?}
     */
    get isRejectButtonDisable() {
        return this.selectedStartDateTime == null && this.selectedEndDateTime == null;
    }
    /**
     * @return {?}
     */
    get isConfirmButtonDisable() {
        return this.selectedStartDateTime == null || this.selectedEndDateTime == null;
    }
    /**
     * @return {?}
     */
    updateYearsList() {
        this.yearsToSelect = [];
        /** @type {?} */
        const selectedYear = this.year;
        for (let i = selectedYear - 37; i <= selectedYear + 37; i++) {
            if (this.persianChar)
                this.yearsToSelect.push(MdsDatetimePickerUtility.toPersianNumber(i.toString()));
            else
                this.yearsToSelect.push(i.toString());
        }
    }
    /**
     * @param {?} year
     * @param {?} month
     * @param {?} day
     * @param {?} disabled
     * @param {?} holiDay
     * @param {?} isToday
     * @return {?}
     */
    getDayObject(year, month, day, disabled, holiDay, isToday) {
        /** @type {?} */
        let isWithinDateRange = false;
        /** @type {?} */
        let isStartOrEndOfRange = false;
        if (this.rangeSelector && this.selectedStartDateTime != null) {
            /** @type {?} */
            const dateTime = this.isPersian
                ? PersianDateTime$1.fromPersianDate(year, month, day).toDate()
                : new Date(year, month, day);
            isWithinDateRange = dateTime >= this.selectedStartDateTime;
            if (this.selectedEndDateTime != null)
                isWithinDateRange = isWithinDateRange && dateTime <= this.selectedEndDateTime;
            isStartOrEndOfRange =
                (this.selectedStartDateTime != null && dateTime.getTime() == this.selectedStartDateTime.getTime()) ||
                    (this.selectedEndDateTime != null && dateTime.getTime() == this.selectedEndDateTime.getTime());
        }
        return {
            year: year,
            month: month,
            day: day,
            dayString: this.persianChar ? MdsDatetimePickerUtility.toPersianNumber(day.toString()) : day.toString(),
            disable: disabled,
            holiDay: holiDay,
            today: isToday,
            isWithinRange: isWithinDateRange,
            isStartOrEndOfRange: isStartOrEndOfRange
        };
    }
    /**
     * @return {?}
     */
    get isRangeSelectorReady() {
        if (!this.rangeSelector)
            return false;
        if (this.selectedStartDateTime == null)
            return false; // هنوز روز شروع انتخاب نشده است
        if (this.selectedStartDateTime != null && this.selectedEndDateTime != null)
            return false; // رنج تاریخ انتخاب شده بود
        return true;
    }
    /**
     * @return {?}
     */
    updateMonthDays() {
        /** @type {?} */
        const days = [];
        /** @type {?} */
        let counter = 0;
        /** @type {?} */
        let year = 0;
        /** @type {?} */
        let month = 0;
        if (this.isPersian) {
            /** @type {?} */
            const persianDateTimeNow = PersianDateTime$1.now;
            /** @type {?} */
            const today = persianDateTimeNow.day;
            /** @type {?} */
            const isYearAndMonthInCurrentMonth = persianDateTimeNow.year == this.persianDateTime.year && persianDateTimeNow.month == this.persianDateTime.month;
            // روزهای ماه قبل
            if (this.persianStartDayOfMonth != PersianDayOfWeek.Saturday) {
                /** @type {?} */
                const previousPersianMonth = this.persianDateTime.addMonths(-1);
                year = previousPersianMonth.year;
                month = previousPersianMonth.month;
                for (let i = previousPersianMonth.getMonthDays - this.persianStartDayOfMonth + 1; i <= previousPersianMonth.getMonthDays; i++) {
                    counter++;
                    days.push(this.getDayObject(year, month, i, true, false, false));
                }
            }
            // روزهای ماه جاری
            year = this.persianDateTime.year;
            month = this.persianDateTime.month;
            for (let i = 1; i <= this.persianDateTime.getMonthDays; i++) {
                counter++;
                days.push(this.getDayObject(year, month, i, false, false, isYearAndMonthInCurrentMonth && i == today));
            }
            // روزهای ماه بعد
            /** @type {?} */
            const nextMonthPersianDateTime = this.persianDateTime.addMonths(1);
            year = nextMonthPersianDateTime.year;
            month = nextMonthPersianDateTime.month;
            for (let i = 1; counter <= (6 * 7) - 1; i++) {
                counter++;
                days.push(this.getDayObject(year, month, i, true, false, false));
            }
            // درست کردن راست به چپ بودن تقویم
            /** @type {?} */
            const temp = days.slice(0);
            for (let row = 0; row < 6; row++) {
                for (let column = 0; column < 7; column++) {
                    /** @type {?} */
                    const index1 = row * 7 + column;
                    /** @type {?} */
                    const index2 = Math.abs((row + 1) * 7 - (column + 1));
                    days[index1] = temp[index2];
                    if (column == 0)
                        days[index1].holiDay = true;
                }
            }
        }
        else {
            /** @type {?} */
            const dateTimeNow = new Date();
            /** @type {?} */
            const today = dateTimeNow.getDate();
            /** @type {?} */
            const isYearAndMonthInCurrentMonth = dateTimeNow.getMonth() == this.dateTime.getMonth() && dateTimeNow.getFullYear() == this.dateTime.getFullYear();
            // روزهای ماه قبل
            if (this.gregorianStartDayOfMonth != GregorianDayOfWeek.Saturday) {
                /** @type {?} */
                const dateTimeClone = new Date(this.dateTime);
                dateTimeClone.setMonth(this.dateTime.getMonth());
                year = dateTimeClone.getFullYear();
                month = dateTimeClone.getMonth();
                /** @type {?} */
                const previousMonthDays = new Date(dateTimeClone.getFullYear(), dateTimeClone.getMonth(), 0).getDate();
                for (let i = previousMonthDays - this.gregorianStartDayOfMonth + 1; i <= previousMonthDays; i++) {
                    counter++;
                    days.push(this.getDayObject(year, month - 1, i, true, false, false));
                }
            }
            // روزهای ماه جاری
            year = this.dateTime.getFullYear();
            month = this.dateTime.getMonth();
            /** @type {?} */
            const currentMonthDays = new Date(year, month, 0).getDate();
            for (let i = 1; i <= currentMonthDays; i++) {
                counter++;
                days.push(this.getDayObject(year, month, i, false, false, isYearAndMonthInCurrentMonth && i == today));
            }
            // روزهای ماه بعد
            /** @type {?} */
            const nextMonthDateTime = new Date(year, month + 1, 1);
            year = nextMonthDateTime.getFullYear();
            month = nextMonthDateTime.getMonth();
            for (let i = 1; counter <= (6 * 7) - 1; i++) {
                counter++;
                days.push(this.getDayObject(year, month, i, true, false, false));
            }
            // تعطیل کردن روزهای جمعه
            for (let row = 0; row < 6; row++) {
                for (let column = 0; column < 7; column++) {
                    /** @type {?} */
                    const index1 = row * 7 + column;
                    if (column == 0)
                        days[index1].holiDay = true;
                }
            }
        }
        this.daysInMonth = days;
    }
    /**
     * @return {?}
     */
    fireChangeEvent() {
        this.dateChanged.emit(this.getSelectedDateObject);
    }
    /**
     * @return {?}
     */
    fireRangeChangeEvent() {
        this.rangeDateChanged.emit(this.getSelectedRangeDatesObject);
    }
    /**
     * @return {?}
     */
    resetToFalseRangeParametersInMonthDays() {
        for (let IMdsAngularDateTimePickerDay of this.daysInMonth) {
            IMdsAngularDateTimePickerDay.isWithinRange = false;
            IMdsAngularDateTimePickerDay.isStartOrEndOfRange = false;
        }
    }
    /**
     * ریست کردن تمامی اطلاعات روزهای ماه
     * @return {?}
     */
    resetMonthDaysWithContent() {
        if (this.daysInMonth == undefined)
            return;
        for (let IMdsAngularDateTimePickerDay of this.daysInMonth) {
            IMdsAngularDateTimePickerDay.isWithinRange = false;
            IMdsAngularDateTimePickerDay.isStartOrEndOfRange = false;
            IMdsAngularDateTimePickerDay.dayString = this.persianChar
                ? MdsDatetimePickerUtility.toPersianNumber(IMdsAngularDateTimePickerDay.day.toString())
                : IMdsAngularDateTimePickerDay.day.toString();
        }
    }
    /**
     * مخفی کردن بلاک های انتخاب ماه و سال
     * @return {?}
     */
    hideSelecMonthAndYearBlock() {
        this.monthOrYearSelectorVisibilityStateName = 'hidden';
        this.monthSelectorVisibilityStateName = 'hidden';
        this.yearSelectorVisibilityStateName = 'hidden';
    }
    /**
     * @return {?}
     */
    resetIncompleteRanges() {
        if (this.selectedStartDateTime == null || this.selectedEndDateTime == null) {
            this.selectedStartDateTime = this.selectedEndDateTime = null;
            this._selectedPersianStartDateTime = this._selectedPersianEndDateTime = null;
            this.resetToFalseRangeParametersInMonthDays();
        }
    }
    /**
     * کلیک روی دکمه نام ماه در بالای پیکر برای انتخاب ماه
     * @return {?}
     */
    monthButtonOnClick() {
        this.monthOrYearSelectorVisibilityStateName = 'visible';
        this.monthSelectorVisibilityStateName = 'visible';
    }
    /**
     * کلیک روی دکمه سال در بالای پیکر برای انتخاب سال
     * @return {?}
     */
    selectYearButtonOnClick() {
        this.monthOrYearSelectorVisibilityStateName = 'visible';
        this.yearSelectorVisibilityStateName = 'visible';
    }
    /**
     * @return {?}
     */
    monthsBlockVisibilityAnimationDone() {
        this.updateMonthDays();
    }
    /**
     * @return {?}
     */
    yearsBlockVisibilityAnimationDone() {
        this.updateYearsList();
        this.updateMonthDays();
    }
    /**
     * @return {?}
     */
    nextYearButtonOnClick() {
        if (this.isPersian)
            this.dateTime = this.persianDateTime.addYears(1).toDate();
        else
            this.dateTime = new Date(this.dateTime.setFullYear(this.dateTime.getFullYear() + 1));
        this.updateMonthDays();
    }
    /**
     * @return {?}
     */
    nextMonthButtonOnClick() {
        if (this.isPersian)
            this.dateTime = this.persianDateTime.addMonths(1).toDate();
        else
            this.dateTime = new Date(this.dateTime.setMonth(this.dateTime.getMonth() + 1));
        this.updateMonthDays();
    }
    /**
     * @return {?}
     */
    previousMonthButtonOnClick() {
        if (this.isPersian)
            this.dateTime = this.persianDateTime.addMonths(-1).toDate();
        else
            this.dateTime = new Date(this.dateTime.setMonth(this.dateTime.getMonth() - 1));
        this.updateMonthDays();
    }
    /**
     * @return {?}
     */
    previousYearButtonOnClick() {
        if (this.isPersian)
            this.dateTime = this.persianDateTime.addYears(-1).toDate();
        else
            this.dateTime = new Date(this.dateTime.setFullYear(this.dateTime.getFullYear() - 1));
        this.updateMonthDays();
    }
    /**
     * @return {?}
     */
    hourUpButtonOnClick() {
        this.dateTime = new Date(this.dateTime.setHours(this.dateTime.getHours() + 1));
    }
    /**
     * @return {?}
     */
    hourDownButtonOnClick() {
        this.dateTime = new Date(this.dateTime.setHours(this.dateTime.getHours() - 1));
    }
    /**
     * @return {?}
     */
    minuteUpButtonOnClick() {
        this.dateTime = new Date(this.dateTime.setMinutes(this.dateTime.getMinutes() + 1));
    }
    /**
     * @return {?}
     */
    minuteDownButtonOnClick() {
        this.dateTime = new Date(this.dateTime.setMinutes(this.dateTime.getMinutes() - 1));
    }
    /**
     * @return {?}
     */
    secondUpButtonOnClick() {
        this.dateTime = new Date(this.dateTime.setSeconds(this.dateTime.getSeconds() + 1));
    }
    /**
     * @return {?}
     */
    secondDownButtonOnClick() {
        this.dateTime = new Date(this.dateTime.setSeconds(this.dateTime.getSeconds() - 1));
    }
    /**
     * انتخاب ماه از روی لیست ماه ها
     * @param {?} selectedMonthName
     * @return {?}
     */
    monthOnClick(selectedMonthName) {
        /** @type {?} */
        const monthIndex = this.isPersian
            ? PersianDateTime$1.getPersianMonthIndex(selectedMonthName)
            : PersianDateTime$1.getGregorianMonthNameIndex(selectedMonthName);
        if (this.isPersian)
            this.dateTime = this.persianDateTime.setPersianMonth(monthIndex + 1).toDate();
        else {
            /** @type {?} */
            const dateTimeClone = new Date(this.dateTime);
            dateTimeClone.setMonth(monthIndex);
            this.dateTime = new Date(dateTimeClone);
        }
        this.hideSelecMonthAndYearBlock();
    }
    /**
     * انتخاب سال از روی لیست سال ها
     * @param {?} selectedYear
     * @return {?}
     */
    yearOnClick(selectedYear) {
        /** @type {?} */
        const year = this.isPersian ? Number(MdsDatetimePickerUtility.toEnglishNumber(selectedYear)) : Number(selectedYear);
        if (this.isPersian)
            this.dateTime = this.persianDateTime.setPersianYear(year).toDate();
        else {
            /** @type {?} */
            const dateTimeClone = new Date(this.dateTime);
            dateTimeClone.setFullYear(year);
            this.dateTime = new Date(dateTimeClone);
        }
        this.hideSelecMonthAndYearBlock();
    }
    /**
     * @return {?}
     */
    todayButtonOnClick() {
        /** @type {?} */
        const dateTimeNow = new Date();
        if (this.dateTime.getFullYear() != dateTimeNow.getFullYear() || this.dateTime.getMonth() != dateTimeNow.getMonth()) {
            this.dateTime = dateTimeNow;
            this.updateMonthDays();
        }
        else
            this.dateTime = dateTimeNow;
        this.selectedDateTime = dateTimeNow;
        if (!this.rangeSelector)
            this.fireChangeEvent();
    }
    /**
     * @param {?} dayObject
     * @return {?}
     */
    dayButtonOnClick(dayObject) {
        // روی روزهای ماه های قبل یا بعد کلیک شده است
        if (dayObject.disable) {
            if (this.isPersian)
                this.dateTime = PersianDateTime$1.fromPersianDate(dayObject.year, dayObject.month, dayObject.day).toDate();
            else {
                /** @type {?} */
                const dateTimeClone = new Date(this.dateTime);
                dateTimeClone.setDate(dayObject.day);
                dateTimeClone.setMonth(dayObject.month);
                dateTimeClone.setFullYear(dayObject.year);
                this.dateTime = dateTimeClone;
            }
            this.updateMonthDays();
            return;
        }
        // نال کردن تاریخ های شروع و پایان برای انتخاب مجدد رنج تاریخ 
        // در صورتی که رنج گرفته شده بود
        if (this.rangeSelector && this.selectedStartDateTime != null && this.selectedEndDateTime != null) {
            this.selectedStartDateTime = null;
            this.selectedEndDateTime = null;
            this.resetToFalseRangeParametersInMonthDays();
        }
        // \\
        // روز انتخاب شده
        this.selectedDateTime = this.isPersian
            ? PersianDateTime$1.fromPersianDateTime(dayObject.year, dayObject.month, dayObject.day, this.hour, this.minute, this.second, 0).toDate()
            : new Date(dayObject.year, dayObject.month, dayObject.day, this.hour, this.minute, this.second);
        if (this.rangeSelector) {
            if (this.selectedStartDateTime == null || this.selectedStartDateTime >= this.selectedDateTime) {
                this.resetToFalseRangeParametersInMonthDays();
                this.selectedStartDateTime = this.selectedDateTime;
                dayObject.isStartOrEndOfRange = true;
            }
            else {
                this.selectedEndDateTime = this.selectedDateTime;
                dayObject.isStartOrEndOfRange = true;
            }
        }
        if (this.rangeSelector && this.selectedStartDateTime != null && this.selectedEndDateTime != null)
            this.fireRangeChangeEvent();
        else if (!this.rangeSelector)
            this.fireChangeEvent();
    }
    /**
     * @param {?} dayObject
     * @return {?}
     */
    dayButtonOnHover(dayObject) {
        if (!this.isRangeSelectorReady)
            return;
        // تاریخ روزی که موس روی آن است
        /** @type {?} */
        let hoverCellDate = this.isPersian
            ? PersianDateTime$1.fromPersianDate(dayObject.year, dayObject.month, dayObject.day).toDate()
            : new Date(dayObject.year, dayObject.month, dayObject.day);
        for (let IMdsAngularDateTimePickerDay of this.daysInMonth) {
            /** @type {?} */
            let currentDate = this.isPersian
                ? PersianDateTime$1.fromPersianDate(IMdsAngularDateTimePickerDay.year, IMdsAngularDateTimePickerDay.month, IMdsAngularDateTimePickerDay.day).toDate()
                : new Date(IMdsAngularDateTimePickerDay.year, IMdsAngularDateTimePickerDay.month, IMdsAngularDateTimePickerDay.day);
            IMdsAngularDateTimePickerDay.isWithinRange = currentDate >= this.selectedStartDateTime && currentDate <= hoverCellDate;
        }
    }
    /**
     * @return {?}
     */
    rejectButtonOnClick() {
        this.selectedDateTime = null;
        this.selectedStartDateTime = this.selectedEndDateTime = null;
        this.resetToFalseRangeParametersInMonthDays();
        this.fireRangeChangeEvent();
    }
    /**
     * @return {?}
     */
    confirmButtonOnClick() {
        if (this.selectedStartDateTime != null && this.selectedEndDateTime != null)
            this.fireRangeChangeEvent();
    }
}
MdsAngularPersianDateTimePickerCoreComponent.decorators = [
    { type: Component, args: [{
                selector: 'mds-datetime-picker-core',
                template: "<ng-container class=\"mds-datetime-picker\">\r\n  <div class=\"mds-datepicker-years-months\" [@monthAndYearSelectorVisibility]=\"monthSelectorVisibilityStateName\" (@monthAndYearSelectorVisibility.done)=\"monthsBlockVisibilityAnimationDone()\">\r\n    <table class=\"table table-sm text-center\">\r\n      <tbody>\r\n        <tr *ngFor=\"let row of [1, 2, 3, 4]\">\r\n          <td *ngFor=\"let col of [1, 2, 3]\" (click)=\"monthOnClick(monthNames[(row - 1) * 3 + col - 1])\" class=\"cursor-pointer\" data-mds-persian-datetimepicker>\r\n            <div>{{monthNames[(row - 1) * 3 + col - 1]}}</div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <div class=\"mds-datepicker-years-months\" [@monthAndYearSelectorVisibility]=\"yearSelectorVisibilityStateName\" (@monthAndYearSelectorVisibility.done)=\"yearsBlockVisibilityAnimationDone()\">\r\n    <table class=\"table table-sm table-striped text-center\">\r\n      <tbody>\r\n        <tr *ngFor=\"let row of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]\">\r\n          <ng-container *ngFor=\"let col of [1, 2, 3, 4, 5]\">\r\n            <td *ngIf=\"yearsToSelect[(row - 1) * 5 + col - 1] as year\" (click)=\"yearOnClick(year)\" [ngClass]=\"{'warning1': year == yearString}\"\r\n              data-mds-persian-datetimepicker class=\"cursor-pointer\">\r\n              {{year}}\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <div>\r\n    <table class=\"table table-sm table-condensed text-center\">\r\n      <thead>\r\n        <tr class=\"gray1\" *ngIf=\"isPersian\">\r\n          <td colspan=\"100\">\r\n            <table class=\"table table-sm gray1\">\r\n              <tr>\r\n                <td title=\"{{resources.NextYear}}\" (click)=\"nextYearButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\" data-mds-persian-datetimepicker>&lt;&lt;</td>\r\n                <td title=\"{{resources.NextMonth}}\" (click)=\"nextMonthButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\" data-mds-persian-datetimepicker>&lt;</td>\r\n                <td (click)=\"selectYearButtonOnClick()\" class=\"cursor-pointer\" data-mds-persian-datetimepicker>{{yearString}}</td>\r\n                <td (click)=\"monthButtonOnClick()\" class=\"cursor-pointer\" data-mds-persian-datetimepicker>{{monthName}}</td>\r\n                <td title=\"{{resources.PreviousMonth}}\" (click)=\"previousMonthButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\" data-mds-persian-datetimepicker>&gt;</td>\r\n                <td title=\"{{resources.PreviousYear}}\" (click)=\"previousYearButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\" data-mds-persian-datetimepicker>&gt;&gt;</td>\r\n              </tr>\r\n            </table>\r\n          </td>\r\n        </tr>\r\n        <tr class=\"gray1\" *ngIf=\"!isPersian\">\r\n          <td colspan=\"100\">\r\n            <table class=\"table table-sm gray1\">\r\n              <tr>\r\n                <td title=\"{{resources.PreviousYear}}\" (click)=\"previousYearButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\" data-mds-persian-datetimepicker>&lt;&lt;</td>\r\n                <td title=\"{{resources.PreviousMonth}}\" (click)=\"previousMonthButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\"\r\n                  data-mds-persian-datetimepicker>&lt;</td>\r\n                <td (click)=\"monthButtonOnClick()\" class=\"cursor-pointer\" data-mds-persian-datetimepicker>{{monthName}}</td>\r\n                <td (click)=\"selectYearButtonOnClick()\" class=\"cursor-pointer\" data-mds-persian-datetimepicker>{{yearString}}</td>\r\n                <td title=\"{{resources.NextMonth}}\" (click)=\"nextMonthButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\" data-mds-persian-datetimepicker>&gt;</td>\r\n                <td title=\"{{resources.NextYear}}\" (click)=\"nextYearButtonOnClick()\" class=\"cursor-pointer font18 minWidth30px\" data-mds-persian-datetimepicker>&gt;&gt;</td>\r\n              </tr>\r\n            </table>\r\n          </td>\r\n        </tr>\r\n        <tr *ngIf=\"rangeSelector\">\r\n          <td colspan=\"2\"></td>\r\n          <td [ngClass]=\"{'text-muted': isRejectButtonDisable}\" title=\"{{resources.Reject}}\" (click)=\"rejectButtonOnClick()\" class=\"cursor-pointer font18\"\r\n            data-mds-persian-datetimepicker>&#215;</td>\r\n          <td></td>\r\n          <td [ngClass]=\"{'text-muted': isConfirmButtonDisable}\" title=\"{{resources.Confirm}}\" (click)=\"confirmButtonOnClick()\" class=\"cursor-pointer font18\"\r\n            data-mds-persian-datetimepicker>&#10003;</td>\r\n          <td colspan=\"2\"></td>\r\n        </tr>\r\n        <tr class=\"gray2\">\r\n          <td *ngFor=\"let dayName of weekdayNames; let i = index;\" [ngClass]=\"{'text-danger': i == 0}\">{{dayName}}</td>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let row of [1, 2, 3, 4, 5, 6]\">\r\n          <ng-container *ngFor=\"let col of [1, 2, 3, 4, 5, 6, 7]\">\r\n            <td *ngIf=\"daysInMonth[(row - 1) * 7 + col - 1] as dayObject\" data-mds-persian-datetimepicker [@daysStateName]=\"daysAnimationStateName\"\r\n              class=\"cursor-pointer\" [ngClass]=\"{'text-danger': dayObject.holiDay,\r\n                        'today': dayObject.today,\r\n                        'warning1': dayObject.day == getSelectedDay,\r\n                        'selected-range': dayObject.isWithinRange,\r\n                        'text-muted': dayObject.disable}\" (click)=\"dayButtonOnClick(dayObject)\" (mouseenter)=\"dayButtonOnHover(dayObject)\">\r\n              <span [ngClass]=\"{'selected-day': dayObject.isStartOrEndOfRange}\" data-mds-persian-datetimepicker>{{dayObject.dayString}}</span>\r\n            </td>\r\n          </ng-container>\r\n        </tr>\r\n        <tr *ngIf=\"timePicker\">\r\n          <td colspan=\"2\"></td>\r\n          <td class=\"cursor-pointer\" (click)=\"hourUpButtonOnClick()\" data-mds-persian-datetimepicker>\u25B2</td>\r\n          <td class=\"cursor-pointer\" (click)=\"minuteUpButtonOnClick()\" data-mds-persian-datetimepicker>\u25B2</td>\r\n          <td class=\"cursor-pointer\" (click)=\"secondUpButtonOnClick()\" data-mds-persian-datetimepicker>\u25B2</td>\r\n          <td colspan=\"2\"></td>\r\n        </tr>\r\n        <tr *ngIf=\"timePicker\">\r\n          <td colspan=\"2\"></td>\r\n          <td>{{hourString}}</td>\r\n          <td>{{minuteString}}</td>\r\n          <td>{{secondString}}</td>\r\n          <td colspan=\"2\"></td>\r\n        </tr>\r\n        <tr *ngIf=\"timePicker\">\r\n          <td colspan=\"2\"></td>\r\n          <td class=\"cursor-pointer\" (click)=\"hourDownButtonOnClick()\" data-mds-persian-datetimepicker>\u25BC</td>\r\n          <td class=\"cursor-pointer\" (click)=\"minuteDownButtonOnClick()\" data-mds-persian-datetimepicker>\u25BC</td>\r\n          <td class=\"cursor-pointer\" (click)=\"secondDownButtonOnClick()\" data-mds-persian-datetimepicker>\u25BC</td>\r\n          <td colspan=\"2\"></td>\r\n        </tr>\r\n      </tbody>\r\n      <tfoot>\r\n        <tr>\r\n          <td class=\"cursor-pointer\" colspan=\"100\" (click)=\"todayButtonOnClick()\" data-mds-persian-datetimepicker> {{resources.Today}} </td>\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n  </div>\r\n</ng-container>",
                animations: [
                    trigger('daysStateName', [
                        transition('void => *', [
                            style({ transform: 'rotateY(90deg)' }),
                            animate('200ms ease-in')
                        ])
                    ]),
                    trigger('monthAndYearSelectorVisibility', [
                        state('visible', style({ opacity: 1, transform: 'rotateY(0deg)' })),
                        state('hidden', style({ opacity: 0, transform: 'rotateY(90deg)' })),
                        transition('hidden => visible', [animate('0.2s ease-in')]),
                        transition('visible => hidden', [animate('0.2s ease-out')])
                    ])
                ],
                styles: [".mds-datetime-picker{direction:ltr}.mds-datepicker-years-months{width:100%;height:100%;position:absolute;left:0;top:0;background-color:#fff;overflow:hidden;overflow-y:auto;z-index:999;direction:ltr}.width100{width:100%}.minWidth30px{min-width:30px}.text-center{text-align:center}.selected-day{display:block;margin:0 auto;background:#c9e1ff}.text-muted{opacity:.4}.warning1{background-color:#ffe66d}.gray1{background-color:#e8e8e8}.gray2{background-color:#f8f8f8}.selected-range{background-color:#d9f2e6}.today{background-color:#b4e5fb}.text-danger{color:red}.disable{opacity:.5}hr{margin:1px 0}button{width:100%}.font18{font-size:18px}.cursor-pointer{cursor:pointer}.table{margin-bottom:0}.table td{vertical-align:middle}td.cursor-pointer:hover{background-color:#e0e0e0}.table-condensed>tbody>tr>td,.table-condensed>tbody>tr>th,.table-condensed>tfoot>tr>td,.table-condensed>tfoot>tr>th,.table-condensed>thead>tr>td,.table-condensed>thead>tr>th{padding:2px}.rotate90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.rotate-90{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}"]
            }] }
];
MdsAngularPersianDateTimePickerCoreComponent.ctorParameters = () => [
    { type: MdsDatetimePickerResourcesService }
];
MdsAngularPersianDateTimePickerCoreComponent.propDecorators = {
    templateType: [{ type: Input }],
    initialValue: [{ type: Input }],
    persianChar: [{ type: Input }],
    isPersian: [{ type: Input }],
    rangeSelector: [{ type: Input }],
    timePicker: [{ type: Input }],
    format: [{ type: Input }],
    dateChanged: [{ type: Output }],
    rangeDateChanged: [{ type: Output }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class MdsAngularPersianDateTimePickerComponent {
    /**
     * @param {?} element
     */
    constructor(element) {
        this.element = element;
        //#region Input OutPut
        /**
         * از بوت استرپ استفاده شود یا متریال
         * TemplateTypeEnum
         */
        this.templateType = TemplateTypeEnum.bootstrap;
        /**
         * نوع نمایش تکس باکس
         * TextBoxTypeEnum
         */
        this.textBoxType = TextBoxTypeEnum.withButton;
        /**
         * مقدار اولیه
         */
        this.initialValue = '';
        /**
         * نوع نمایش دیت پیکر به صورت این لاین باشد یا نه
         */
        this.inLine = true;
        /**
         * آیا از کاراکترهای فارسی استفاده شود
         * وقتی تقویم میلادی است بدون تاثیر می شود
         */
        this.persianChar = true;
        /**
         * آیا دیت پیکر به شکل انتخاب رنج تاریخی باشد یا نه
         */
        this.rangeSelector = false;
        /**
         * تقویم میلادی باشد یا شمسی
         */
        this.isPersian = true;
        /**
         * آیا تایم پیکر نمایش داده بشود یا نه
         * در نوع انتخاب رنج تاریخی بدون تاثیر است
         */
        this.timePicker = true;
        /**
         * PlaceHolder
         */
        this.placeHolder = '';
        /**
         * آیکون
         */
        this.buttonIcon = '📅';
        /**
          * فرمت پیش فرض 1393/09/14   13:49:40
          * yyyy: سال چهار رقمی
          * yy: سال دو رقمی
          * MMMM: نام فارسی ماه
          * MM: عدد دو رقمی ماه
          * M: عدد یک رقمی ماه
          * dddd: نام فارسی روز هفته
          * dd: عدد دو رقمی روز ماه
          * d: عدد یک رقمی روز ماه
          * HH: ساعت دو رقمی با فرمت 00 تا 24
          * H: ساعت یک رقمی با فرمت 0 تا 24
          * hh: ساعت دو رقمی با فرمت 00 تا 12
          * h: ساعت یک رقمی با فرمت 0 تا 12
          * mm: عدد دو رقمی دقیقه
          * m: عدد یک رقمی دقیقه
          * ss: ثانیه دو رقمی
          * s: ثانیه یک رقمی
          * fff: میلی ثانیه 3 رقمی
          * ff: میلی ثانیه 2 رقمی
          * f: میلی ثانیه یک رقمی
          * tt: ب.ظ یا ق.ظ
          * t: حرف اول از ب.ظ یا ق.ظ
          **/
        this.format = '';
        /**
         * وقتی تاریخ انتخابی عوض می شود این اونت فراخوانی می شود
         */
        this.dateChanged = new EventEmitter();
        /**
         * وقتی رنج تاریخی انتخاب شده عوض می شود این اونت فراخوانی می شود
         */
        this.rangeDateChanged = new EventEmitter();
        /**
         * وقتی کلیدی روی تکس باکس انتخاب تاریخ فشرده می شود این اونت فراخوانی می شود
         */
        this.textBoxKeyDown = new EventEmitter();
        /**
         * وقتی روی تکس باکس انتخاب تاریخ بلور می شود این اونت فراخوانی می شود
         */
        this.textBoxBlur = new EventEmitter();
        /**
         * وقتی روی تکس باکس انتخاب تاریخ فوکوس می شود این اونت فراخوانی می شود
         */
        this.textBoxFocus = new EventEmitter();
        /**
         * وقتی روی تکس باکس انتخاب تاریخ تغییری ایجاد می شود این اونت فراخوانی می شود
         */
        this.textBoxChange = new EventEmitter();
        //#endregion
        this.myControl = new FormControl();
        this.afterViewInit = false;
        this.inClearFunction = false;
        this.showingDateTimePickerLocked = false;
        this.showDatePicker = false;
        this._selectedDateTime = null;
        this._selectedDateTimeRanges = null;
        //#region ControlValueAccessor
        this.propagateChange = () => { };
        this.valIMdsAngularDateTimePickerDateFn = () => { };
        /** @type {?} */
        const doc = document.getElementsByTagName('html')[0];
        doc.addEventListener('click', (event) => {
            /** @type {?} */
            let targetElement = (/** @type {?} */ (event.target));
            if (this.showDatePicker && event.target &&
                this.element.nativeElement !== event.target &&
                !this.element.nativeElement.contains(event.target) &&
                !targetElement.hasAttribute('data-mds-persian-datetimepicker')) {
                this.showDatePicker = false;
                this.mdsDateTimePickerCore.hideSelecMonthAndYearBlock();
                this.mdsDateTimePickerCore.resetIncompleteRanges();
            }
        }, false);
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        // this.initialValue = !this.persianChar ? MdsDatetimePickerUtility.toEnglishString(this.initialValue) : MdsDatetimePickerUtility.toPersianNumber(this.initialValue);
        // if (this.initialValue != '' && this.rangeSelector) {
        //   if (this.isPersian)
        //     MdsDatetimePickerUtility.getPersianDateRanges(this.initialValue);
        //   else
        //     MdsDatetimePickerUtility.getDateRanges(this.initialValue);
        // }
        // this.myControl.setValue(this.initialValue);
        if (!this.isPersian)
            this.persianChar = false;
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        this.afterViewInit = true;
    }
    /**
     * @return {?}
     */
    get selectedDateTime() {
        return this._selectedDateTime;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    set selectedDateTime(value) {
        if (!this.mdsDateTimePickerCore)
            return;
        try {
            this.mdsDateTimePickerCore.setDateTimeByDate(!value ? null : new Date(value));
            if (value == null)
                this._selectedDateTime = null;
            else
                this._selectedDateTime = new Date(value);
        }
        catch (e) {
            this.clear();
            console.error(e);
        }
    }
    /**
     * @return {?}
     */
    get selectedDateTimeRanges() {
        return this._selectedDateTimeRanges;
    }
    /**
     * @param {?} values
     * @return {?}
     */
    set selectedDateTimeRanges(values) {
        if (!this.mdsDateTimePickerCore)
            return;
        try {
            if (values == null || values.length < 2)
                return;
            this.mdsDateTimePickerCore.setDateTimeRangesByDate(values[0] == null ? null : new Date(values[0]), values[1] == null ? null : new Date(values[1]));
            this._selectedDateTimeRanges = [values[0], values[1]];
        }
        catch (e) {
            this.clear();
            console.error(e);
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    getEventObject(event) {
        return {
            eventArgs: event,
            selectedDate: this.mdsDateTimePickerCore.getSelectedDate,
            selectedRangeDates: this.mdsDateTimePickerCore.getSelectedRangeDates
        };
    }
    /**
     * @return {?}
     */
    getSelectedDateObject() {
        return {
            selectedDate: this.mdsDateTimePickerCore.getSelectedDate,
            selectedRangeDates: this.mdsDateTimePickerCore.getSelectedRangeDates
        };
    }
    /**
     * @return {?}
     */
    showDatePickerButtonClicked() {
        this.showDatePicker = !this.showDatePicker;
        if (this.showDatePicker) ;
    }
    /**
     * @param {?} date
     * @return {?}
     */
    dateChangedHandler(date) {
        if (!this.afterViewInit)
            return;
        this.dateChanged.emit(date);
        if (date != null) {
            this.myControl.setValue(date.formatString);
            this.selectedDateTime = new Date(date.utcDateTime);
            if (!this.showingDateTimePickerLocked)
                this.showDatePicker = false;
            this.propagateChange(this.getSelectedDateObject());
        }
    }
    /**
     * @param {?} rangeDate
     * @return {?}
     */
    rangeDateChangedHandler(rangeDate) {
        if (!this.afterViewInit)
            return;
        this.myControl.setValue('');
        if (rangeDate == null) {
            this.rangeDateChanged.emit(rangeDate);
            this.selectedDateTimeRanges = [null, null];
            this.propagateChange(this.getSelectedDateObject());
            return;
        }
        if (rangeDate.startDate.formatString != '' && rangeDate.endDate.formatString != '')
            this.myControl.setValue(`${rangeDate.startDate.formatString} - ${rangeDate.endDate.formatString}`);
        this.rangeDateChanged.emit(rangeDate);
        if (rangeDate.startDate.formatString != '' && rangeDate.endDate.formatString != '' && !this.showingDateTimePickerLocked)
            this.showDatePicker = false;
        this.selectedDateTimeRanges = [rangeDate.startDate.utcDateTime, rangeDate.endDate.utcDateTime];
        this.propagateChange(this.getSelectedDateObject());
    }
    /**
     * @param {?} event
     * @return {?}
     */
    dateTimeTextBoxOnFocusHandler(event) {
        document.getElementsByTagName('html')[0].click();
        try {
            if (this.selectedDateTime != null)
                this.mdsDateTimePickerCore.setDateTimeByDate(this.selectedDateTime);
        }
        catch (e) {
            this.clear();
            console.error(e);
        }
        this.showDatePickerButtonClicked();
        this.textBoxFocus.emit(this.getEventObject(event));
    }
    /**
     * @param {?} event
     * @return {?}
     */
    dateTimeTextBoxOnBlurHandler(event) {
        /** @type {?} */
        let value = !this.myControl.value ? '' : this.myControl.value.trim();
        if (this.persianChar)
            value = MdsDatetimePickerUtility.toPersianNumber(value);
        else
            value = MdsDatetimePickerUtility.toEnglishString(value);
        /** @type {?} */
        let targetElement = (/** @type {?} */ (event.target));
        if (!targetElement.hasAttribute('data-mds-persian-datetimepicker')) {
            this.showingDateTimePickerLocked = true;
            this.mdsDateTimePickerCore.setDateTimeByString(value);
            this.showingDateTimePickerLocked = false;
        }
        this.textBoxBlur.emit(this.getEventObject(event));
    }
    /**
     * @param {?} event
     * @return {?}
     */
    dateTimeTextBoxOnKeyDownHandler(event) {
        if (event.keyCode != 13) {
            this.textBoxKeyDown.emit(this.getEventObject(event));
            return;
        }
        /** @type {?} */
        let value = event.target.value.trim();
        if (!value)
            this.mdsDateTimePickerCore.clearDateTimePicker();
        else
            this.mdsDateTimePickerCore.setDateTimeByString(value);
        this.showDatePicker = false;
        this.textBoxKeyDown.emit(this.getEventObject(event));
    }
    /**
     * @return {?}
     */
    clear() {
        if (this.inClearFunction || !this.mdsDateTimePickerCore)
            return;
        this.inClearFunction = true;
        this.myControl.setValue('');
        this.selectedDateTime = null;
        this.selectedDateTimeRanges = [null, null];
        this.mdsDateTimePickerCore.clearDateTimePicker();
        this.inClearFunction = false;
    }
    /**
     * @param {?} dateTime
     * @return {?}
     */
    setDateTime(dateTime) {
        try {
            this.mdsDateTimePickerCore.setDateTimeByDate(dateTime);
        }
        catch (e) {
            this.clear();
            console.error(e);
        }
    }
    /**
     * @param {?} startDateTime
     * @param {?} endDateTime
     * @return {?}
     */
    setDateTimeRanges(startDateTime, endDateTime) {
        try {
            this.mdsDateTimePickerCore.setDateTimeRangesByDate(startDateTime, endDateTime);
        }
        catch (e) {
            this.clear();
            console.error(e);
        }
    }
    /**
     * @return {?}
     */
    showDateTimePicker() {
        this.showDatePicker = true;
    }
    /**
     * @return {?}
     */
    hideDateTimePicker() {
        this.showDatePicker = false;
    }
    /**
     * @param {?} valueModel
     * @return {?}
     */
    writeValue(valueModel) {
        if (!valueModel || (!valueModel.selectedDate && !valueModel.selectedRangeDates)) {
            this.clear();
            return;
        }
        if (this.rangeSelector && valueModel.selectedRangeDates)
            this.selectedDateTimeRanges = [valueModel.selectedRangeDates.startDate.utcDateTime, valueModel.selectedRangeDates.endDate.utcDateTime];
        else if (valueModel.selectedDate)
            this.selectedDateTime = valueModel.selectedDate.utcDateTime;
    }
    /**
     * @param {?} fn
     * @return {?}
     */
    registerOnChange(fn) {
        this.propagateChange = fn;
    }
    /**
     * @param {?} fn
     * @return {?}
     */
    registerOnTouched(fn) {
    }
    /**
     * @param {?} isDisabled
     * @return {?}
     */
    setDisabledState(isDisabled) {
        //this.disabled = isDisabled
        if (isDisabled)
            this.myControl.disable();
        else
            this.myControl.enable();
    }
    /**
     * @param {?} c
     * @return {?}
     */
    valIMdsAngularDateTimePickerDate(c) {
        return this.valIMdsAngularDateTimePickerDateFn(c.value);
    }
}
MdsAngularPersianDateTimePickerComponent.decorators = [
    { type: Component, args: [{
                selector: 'mds-angular-persian-datetimepicker',
                template: "<div *ngIf=\"inLine\" class=\"datepicker-box\">\r\n  <mds-datetime-picker-core *ngIf=\"inLine\" [initialValue]=\"initialValue\" [rangeSelector]=\"rangeSelector\" [persianChar]=\"persianChar\"\r\n    [isPersian]=\"isPersian\" [timePicker]=\"timePicker\" [format]=\"format\" [templateType]=\"templateType\" #mdsDateTimePickerCore\r\n    (dateChanged)=\"dateChangedHandler($event)\" (rangeDateChanged)=\"rangeDateChangedHandler($event)\">\r\n  </mds-datetime-picker-core>\r\n</div>\r\n\r\n<div *ngIf=\"!inLine && templateType == 2\" class=\"datepicker-container\">\r\n  <mat-form-field>\r\n    <input matInput type=\"text\" [placeholder]=\"placeHolder\" [formControl]=\"myControl\" (focus)=\"dateTimeTextBoxOnFocusHandler($event)\"\r\n      (blur)=\"dateTimeTextBoxOnBlurHandler($event)\" (keydown)=\"dateTimeTextBoxOnKeyDownHandler($event)\" data-mds-persian-datetimepicker>\r\n    <span matPrefix>\r\n      <span *ngIf=\"textBoxType == 1\" mat-button class=\"calendar-icon cursor-pointer\">\r\n        <span [innerHTML]=\"buttonIcon\"></span>\r\n      </span>\r\n    </span>\r\n  </mat-form-field>\r\n  <div class=\"datepicker\" [hidden]=\"!showDatePicker\">\r\n    <mds-datetime-picker-core #mdsDateTimePickerCore [initialValue]=\"initialValue\" [rangeSelector]=\"rangeSelector\" [persianChar]=\"persianChar\"\r\n      [isPersian]=\"isPersian\" [timePicker]=\"timePicker\" [format]=\"format\" [templateType]=\"2\" (dateChanged)=\"dateChangedHandler($event)\"\r\n      (rangeDateChanged)=\"rangeDateChangedHandler($event)\">\r\n    </mds-datetime-picker-core>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf=\"!inLine && templateType == 1\" class=\"datepicker-container\">\r\n  <div class=\"input-group\" *ngIf=\"textBoxType == 1\">\r\n    <div class=\"input-group-prepend cursor-pointer calendar-icon\" (click)=\"showDatePickerButtonClicked()\">\r\n      <span class=\"input-group-text\" [innerHTML]=\"buttonIcon\"></span>\r\n    </div>\r\n    <input type=\"text\" class=\"form-control\" [placeholder]=\"placeHolder\" [formControl]=\"myControl\" (focus)=\"dateTimeTextBoxOnFocusHandler($event)\"\r\n      (blur)=\"dateTimeTextBoxOnBlurHandler($event)\" (keydown)=\"dateTimeTextBoxOnKeyDownHandler($event)\" data-mds-persian-datetimepicker>\r\n  </div>\r\n  <input type=\"text\" *ngIf=\"textBoxType == 2\" [placeholder]=\"placeHolder\" class=\"form-control\" [formControl]=\"myControl\" (focus)=\"dateTimeTextBoxOnFocusHandler($event)\"\r\n    (blur)=\"dateTimeTextBoxOnBlurHandler($event)\" (keydown)=\"dateTimeTextBoxOnKeyDownHandler($event)\" data-mds-persian-datetimepicker>\r\n  <div class=\"datepicker datepicker-bootstrap\" [hidden]=\"!showDatePicker\">\r\n    <mds-datetime-picker-core #mdsDateTimePickerCore [initialValue]=\"initialValue\" [rangeSelector]=\"rangeSelector\" [persianChar]=\"persianChar\"\r\n      [isPersian]=\"isPersian\" [timePicker]=\"timePicker\" [format]=\"format\" [templateType]=\"1\" (dateChanged)=\"dateChangedHandler($event)\"\r\n      (rangeDateChanged)=\"rangeDateChangedHandler($event)\">\r\n    </mds-datetime-picker-core>\r\n  </div>\r\n</div>",
                providers: [
                    {
                        provide: NG_VALUE_ACCESSOR,
                        useExisting: forwardRef(() => MdsAngularPersianDateTimePickerComponent),
                        multi: true
                    }
                ],
                styles: [".datepicker-container{position:relative;direction:ltr}.datepicker{background:#fff;position:absolute;z-index:999999;top:53px;left:0;min-width:300px;border:1px solid #f7f7f7;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.datepicker-bootstrap{top:34px}.hidden{display:none}.cursor-pointer{cursor:pointer}.datepicker-box{border:1px solid #ccc;position:relative}.mat-form-field{width:100%}.calendar-icon{font-size:18px}.calendar-icon[mat-button]{margin-right:6px;float:left}"]
            }] }
];
MdsAngularPersianDateTimePickerComponent.ctorParameters = () => [
    { type: ElementRef }
];
MdsAngularPersianDateTimePickerComponent.propDecorators = {
    mdsDateTimePickerCore: [{ type: ViewChild, args: ['mdsDateTimePickerCore',] }],
    templateType: [{ type: Input }],
    textBoxType: [{ type: Input }],
    initialValue: [{ type: Input }],
    inLine: [{ type: Input }],
    persianChar: [{ type: Input }],
    rangeSelector: [{ type: Input }],
    isPersian: [{ type: Input }],
    timePicker: [{ type: Input }],
    placeHolder: [{ type: Input }],
    buttonIcon: [{ type: Input }],
    format: [{ type: Input }],
    dateChanged: [{ type: Output }],
    rangeDateChanged: [{ type: Output }],
    textBoxKeyDown: [{ type: Output }],
    textBoxBlur: [{ type: Output }],
    textBoxFocus: [{ type: Output }],
    textBoxChange: [{ type: Output }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class SafeHtmlPipe {
    /**
     * @param {?} sanitized
     */
    constructor(sanitized) {
        this.sanitized = sanitized;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    transform(value) {
        return 'this.sanitized.bypassSecurityTrustHtml(value)';
    }
}
SafeHtmlPipe.decorators = [
    { type: Pipe, args: [{
                name: 'safeHtml'
            },] }
];
SafeHtmlPipe.ctorParameters = () => [
    { type: DomSanitizer }
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class PersianNumberPipe {
    /**
     * @param {?} value
     * @param {?} isPersian
     * @return {?}
     */
    transform(value, isPersian) {
        if (!isPersian)
            return value;
        return MdsDatetimePickerUtility.toPersianNumber(value);
    }
}
PersianNumberPipe.decorators = [
    { type: Pipe, args: [{ name: 'persianNumber' },] }
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class MdsAngularPersianDateTimePickerModule {
}
MdsAngularPersianDateTimePickerModule.decorators = [
    { type: NgModule, args: [{
                imports: [
                    CommonModule,
                    MatFormFieldModule, MatButtonModule, MatInputModule,
                    MatGridListModule, FormsModule, ReactiveFormsModule
                ],
                declarations: [
                    MdsAngularPersianDateTimePickerCoreComponent,
                    MdsAngularPersianDateTimePickerComponent, SafeHtmlPipe, PersianNumberPipe
                ],
                exports: [
                    MdsAngularPersianDateTimePickerComponent
                ]
            },] }
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

export { TemplateTypeEnum, TextBoxTypeEnum, MdsDatetimePickerUtility, MdsAngularPersianDateTimePickerComponent, MdsAngularPersianDateTimePickerModule, MdsAngularPersianDateTimePickerCoreComponent as ɵa, PersianNumberPipe as ɵd, SafeHtmlPipe as ɵc, MdsDatetimePickerResourcesService as ɵb };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWRzLmFuZ3VsYXIuZGF0ZXRpbWVwaWNrZXIuanMubWFwIiwic291cmNlcyI6WyJuZzovL21kcy5hbmd1bGFyLmRhdGV0aW1lcGlja2VyL2xpYi9jbGFzc2VzL2VudW1zLnRzIiwibmc6Ly9tZHMuYW5ndWxhci5kYXRldGltZXBpY2tlci9saWIvY2xhc3Nlcy9tZHMtZGF0ZXRpbWUtcGlja2VyLnV0aWxpdHkudHMiLCJuZzovL21kcy5hbmd1bGFyLmRhdGV0aW1lcGlja2VyL2xpYi9zZXJ2aWNlL21kcy1kYXRldGltZS1waWNrZXItcmVzb3VyY2VzLnNlcnZpY2UudHMiLCJuZzovL21kcy5hbmd1bGFyLmRhdGV0aW1lcGlja2VyL2xpYi9jb3JlL21kcy1hbmd1bGFyLXBlcnNpYW4tZGF0ZS10aW1lLXBpY2tlci1jb3JlLmNvbXBvbmVudC50cyIsIm5nOi8vbWRzLmFuZ3VsYXIuZGF0ZXRpbWVwaWNrZXIvbGliL21kcy1hbmd1bGFyLXBlcnNpYW4tZGF0ZS10aW1lLXBpY2tlci5jb21wb25lbnQudHMiLCJuZzovL21kcy5hbmd1bGFyLmRhdGV0aW1lcGlja2VyL2xpYi9waXBlcy9zYWZlLWh0bWwucGlwZS50cyIsIm5nOi8vbWRzLmFuZ3VsYXIuZGF0ZXRpbWVwaWNrZXIvbGliL3BpcGVzL3BlcnNpYW4tbnVtYmVyLnBpcGUudHMiLCJuZzovL21kcy5hbmd1bGFyLmRhdGV0aW1lcGlja2VyL2xpYi9tZHMtYW5ndWxhci1wZXJzaWFuLWRhdGUtdGltZS1waWNrZXIubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIFRlbXBsYXRlVHlwZUVudW0ge1xyXG4gIGJvb3RzdHJhcCA9IDEsXHJcbiAgbWF0ZXJpYWwgPSAyXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFRleHRCb3hUeXBlRW51bSB7XHJcbiAgd2l0aEJ1dHRvbiA9IDEsXHJcbiAgd2l0aG91dEJ1dHRvbiA9IDJcclxufSIsImltcG9ydCB7IE1kcyB9IGZyb20gJ21kcy5wZXJzaWFuLmRhdGV0aW1lJztcclxuaW1wb3J0IFBlcnNpYW5EYXRlVGltZSA9IE1kcy5QZXJzaWFuRGF0ZVRpbWU7XHJcblxyXG5leHBvcnQgY2xhc3MgTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5IHtcclxuICBzdGF0aWMgdG9QZXJzaWFuTnVtYmVyKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgaWYgKGlucHV0ID09ICcnIHx8IGlucHV0ID09IG51bGwpIHJldHVybiAnJztcclxuICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvw5nCii9pbWcsICfDm8KMJykucmVwbGFjZSgvw5nCgy9pbWcsICfDmsKpJyk7XHJcbiAgICAvL8ObwrAgw5vCsSDDm8KyIMObwrMgw5vCtCDDm8K1IMObwrYgw5vCtyDDm8K4IMObwrlcclxuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC8wL2ltZywgJ8ObwrAnKVxyXG4gICAgICAucmVwbGFjZSgvMS9pbWcsICfDm8KxJylcclxuICAgICAgLnJlcGxhY2UoLzIvaW1nLCAnw5vCsicpXHJcbiAgICAgIC5yZXBsYWNlKC8zL2ltZywgJ8ObwrMnKVxyXG4gICAgICAucmVwbGFjZSgvNC9pbWcsICfDm8K0JylcclxuICAgICAgLnJlcGxhY2UoLzUvaW1nLCAnw5vCtScpXHJcbiAgICAgIC5yZXBsYWNlKC82L2ltZywgJ8ObwrYnKVxyXG4gICAgICAucmVwbGFjZSgvNy9pbWcsICfDm8K3JylcclxuICAgICAgLnJlcGxhY2UoLzgvaW1nLCAnw5vCuCcpXHJcbiAgICAgIC5yZXBsYWNlKC85L2ltZywgJ8ObwrknKTtcclxuICB9XHJcbiAgc3RhdGljIHRvRW5nbGlzaE51bWJlcihpbnB1dDogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgIGlmIChpbnB1dCA9PSAnJyB8fCBpbnB1dCA9PSBudWxsKSByZXR1cm4gMDtcclxuICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvw5nCii9pbWcsICfDm8KMJykucmVwbGFjZSgvw5nCgy9pbWcsICfDmsKpJyk7XHJcbiAgICAvL8ObwrAgw5vCsSDDm8KyIMObwrMgw5vCtCDDm8K1IMObwrYgw5vCtyDDm8K4IMObwrlcclxuICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvLC9pbWcsICcnKVxyXG4gICAgICAucmVwbGFjZSgvw5vCsC9pbWcsICcwJylcclxuICAgICAgLnJlcGxhY2UoL8ObwrEvaW1nLCAnMScpXHJcbiAgICAgIC5yZXBsYWNlKC/Dm8KyL2ltZywgJzInKVxyXG4gICAgICAucmVwbGFjZSgvw5vCsy9pbWcsICczJylcclxuICAgICAgLnJlcGxhY2UoL8ObwrQvaW1nLCAnNCcpXHJcbiAgICAgIC5yZXBsYWNlKC/Dm8K1L2ltZywgJzUnKVxyXG4gICAgICAucmVwbGFjZSgvw5vCti9pbWcsICc2JylcclxuICAgICAgLnJlcGxhY2UoL8ObwrcvaW1nLCAnNycpXHJcbiAgICAgIC5yZXBsYWNlKC/Dm8K4L2ltZywgJzgnKVxyXG4gICAgICAucmVwbGFjZSgvw5vCuS9pbWcsICc5Jyk7XHJcbiAgICByZXR1cm4gTnVtYmVyKGlucHV0KTtcclxuICB9XHJcbiAgc3RhdGljIHRvRW5nbGlzaFN0cmluZyhpbnB1dDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmIChpbnB1dCA9PSAnJyB8fCBpbnB1dCA9PSBudWxsKSByZXR1cm4gJyc7XHJcbiAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoL8OZwoovaW1nLCAnw5vCjCcpLnJlcGxhY2UoL8OZwoMvaW1nLCAnw5rCqScpO1xyXG4gICAgLy/Dm8KwIMObwrEgw5vCsiDDm8KzIMObwrQgw5vCtSDDm8K2IMObwrcgw5vCuCDDm8K5XHJcbiAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoLywvaW1nLCAnJylcclxuICAgICAgLnJlcGxhY2UoL8ObwrAvaW1nLCAnMCcpXHJcbiAgICAgIC5yZXBsYWNlKC/Dm8KxL2ltZywgJzEnKVxyXG4gICAgICAucmVwbGFjZSgvw5vCsi9pbWcsICcyJylcclxuICAgICAgLnJlcGxhY2UoL8ObwrMvaW1nLCAnMycpXHJcbiAgICAgIC5yZXBsYWNlKC/Dm8K0L2ltZywgJzQnKVxyXG4gICAgICAucmVwbGFjZSgvw5vCtS9pbWcsICc1JylcclxuICAgICAgLnJlcGxhY2UoL8ObwrYvaW1nLCAnNicpXHJcbiAgICAgIC5yZXBsYWNlKC/Dm8K3L2ltZywgJzcnKVxyXG4gICAgICAucmVwbGFjZSgvw5vCuC9pbWcsICc4JylcclxuICAgICAgLnJlcGxhY2UoL8ObwrkvaW1nLCAnOScpO1xyXG4gICAgcmV0dXJuIGlucHV0O1xyXG4gIH1cclxuICBzdGF0aWMgZGF0ZVRpbWVUb1N0cmluZyhkYXRlOiBEYXRlLCBmb3JtYXQ6IHN0cmluZyA9ICcnKTogc3RyaW5nIHtcclxuICAgIGlmIChmb3JtYXQgPT0gJycgfHwgZm9ybWF0ID09IG51bGwpXHJcbiAgICAgIHJldHVybiBgJHt0aGlzLnplcm9QYWQoZGF0ZS5nZXRGdWxsWWVhcigpLCAnMDAwMCcpfS8ke3RoaXMuemVyb1BhZChkYXRlLmdldE1vbnRoKCkgKyAxLCAnMDAnKX0vJHt0aGlzLnplcm9QYWQoZGF0ZS5nZXREYXRlKCksICcwMCcpfSAgICR7dGhpcy56ZXJvUGFkKGRhdGUuZ2V0SG91cnMoKSwgJzAwJyl9OiR7dGhpcy56ZXJvUGFkKGRhdGUuZ2V0TWludXRlcygpLCAnMDAnKX06JHt0aGlzLnplcm9QYWQoZGF0ZS5nZXRTZWNvbmRzKCksICcwMCcpfWA7XHJcbiAgICB2YXIgZGF0ZVRpbWVTdHJpbmcgPSBmb3JtYXQ7XHJcbiAgICBkYXRlVGltZVN0cmluZyA9IGRhdGVUaW1lU3RyaW5nLnJlcGxhY2UoL3l5eXkvLCB0aGlzLnplcm9QYWQoZGF0ZS5nZXRGdWxsWWVhcigpLCAnMDAwMCcpKTtcclxuICAgIGRhdGVUaW1lU3RyaW5nID0gZGF0ZVRpbWVTdHJpbmcucmVwbGFjZSgveXkvLCB0aGlzLnplcm9QYWQoZGF0ZS5nZXRGdWxsWWVhcigpLCAnMDAnKSk7ICAgIFxyXG4gICAgZGF0ZVRpbWVTdHJpbmcgPSBkYXRlVGltZVN0cmluZy5yZXBsYWNlKC9kZGRkLywgdGhpcy5nZXRHcmVnb3JpYW5XZWVrRGF5TmFtZShkYXRlLmdldERheSgpKSk7XHJcbiAgICBkYXRlVGltZVN0cmluZyA9IGRhdGVUaW1lU3RyaW5nLnJlcGxhY2UoL2RkLywgdGhpcy56ZXJvUGFkKGRhdGUuZ2V0RGF0ZSgpLCAnMDAnKSk7XHJcbiAgICBkYXRlVGltZVN0cmluZyA9IGRhdGVUaW1lU3RyaW5nLnJlcGxhY2UoL2QvLCBkYXRlLmdldERhdGUoKS50b1N0cmluZygpKTtcclxuICAgIGRhdGVUaW1lU3RyaW5nID0gZGF0ZVRpbWVTdHJpbmcucmVwbGFjZSgvaGgvLCB0aGlzLnplcm9QYWQoZGF0ZS5nZXRIb3VycygpLCAnMDAnKSk7XHJcbiAgICBkYXRlVGltZVN0cmluZyA9IGRhdGVUaW1lU3RyaW5nLnJlcGxhY2UoL2gvLCBkYXRlLmdldEhvdXJzKCkudG9TdHJpbmcoKSk7XHJcbiAgICBkYXRlVGltZVN0cmluZyA9IGRhdGVUaW1lU3RyaW5nLnJlcGxhY2UoL21tLywgdGhpcy56ZXJvUGFkKGRhdGUuZ2V0TWludXRlcygpLCAnMDAnKSk7XHJcbiAgICBkYXRlVGltZVN0cmluZyA9IGRhdGVUaW1lU3RyaW5nLnJlcGxhY2UoL20vLCBkYXRlLmdldE1pbnV0ZXMoKS50b1N0cmluZygpKTtcclxuICAgIGRhdGVUaW1lU3RyaW5nID0gZGF0ZVRpbWVTdHJpbmcucmVwbGFjZSgvc3MvLCB0aGlzLnplcm9QYWQoZGF0ZS5nZXRTZWNvbmRzKCksICcwMCcpKTtcclxuICAgIGRhdGVUaW1lU3RyaW5nID0gZGF0ZVRpbWVTdHJpbmcucmVwbGFjZSgvcy8sIGRhdGUuZ2V0U2Vjb25kcygpLnRvU3RyaW5nKCkpO1xyXG4gICAgZGF0ZVRpbWVTdHJpbmcgPSBkYXRlVGltZVN0cmluZy5yZXBsYWNlKC9mZmYvLCB0aGlzLnplcm9QYWQoZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSwgJzAwMCcpKTtcclxuICAgIGRhdGVUaW1lU3RyaW5nID0gZGF0ZVRpbWVTdHJpbmcucmVwbGFjZSgvZmYvLCB0aGlzLnplcm9QYWQoZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSAvIDEwLCAnMDAnKSk7XHJcbiAgICBkYXRlVGltZVN0cmluZyA9IGRhdGVUaW1lU3RyaW5nLnJlcGxhY2UoL2YvLCAoZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSAvIDEwKS50b1N0cmluZygpKTtcclxuICAgIGRhdGVUaW1lU3RyaW5nID0gZGF0ZVRpbWVTdHJpbmcucmVwbGFjZSgvTU1NTS8sIHRoaXMuZ2V0R3JlZ29yaWFuTW9udGhOYW1lKGRhdGUuZ2V0TW9udGgoKSkpO1xyXG4gICAgZGF0ZVRpbWVTdHJpbmcgPSBkYXRlVGltZVN0cmluZy5yZXBsYWNlKC9NTS8sIHRoaXMuemVyb1BhZChkYXRlLmdldE1vbnRoKCkgKyAxLCAnMDAnKSk7XHJcbiAgICBkYXRlVGltZVN0cmluZyA9IGRhdGVUaW1lU3RyaW5nLnJlcGxhY2UoL00oPyFhKS8sIChkYXRlLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpKTtcclxuICAgIHJldHVybiBkYXRlVGltZVN0cmluZztcclxuICB9XHJcbiAgc3RhdGljIHplcm9QYWQobnI6IGFueSwgYmFzZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmIChuciA9PSB1bmRlZmluZWQgfHwgbnIgPT0gJycpIHJldHVybiBiYXNlO1xyXG4gICAgY29uc3QgbGVuID0gKFN0cmluZyhiYXNlKS5sZW5ndGggLSBTdHJpbmcobnIpLmxlbmd0aCkgKyAxO1xyXG4gICAgcmV0dXJuIGxlbiA+IDAgPyBuZXcgQXJyYXkobGVuKS5qb2luKCcwJykgKyBuciA6IG5yO1xyXG4gIH1cclxuICBzdGF0aWMgZ2V0R3JlZ29yaWFuTW9udGhOYW1lKG1vbnRoSW5kZXg6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICBcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsXHJcbiAgICAgIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJcclxuICAgIF1bbW9udGhJbmRleF07XHJcbiAgfVxyXG4gIHN0YXRpYyBnZXRHcmVnb3JpYW5XZWVrRGF5TmFtZSh3ZWVrRGF5SW5kZXg6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gW1wiU3VuZGF5XCIsIFwiTW9uZGF5XCIsIFwiVHVlc2RheVwiLCBcIldlZG5lc2RheVwiLCBcIlRodXJzZGF5XCIsIFwiRnJJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF5XCIsIFwiU2F0dXJkYXlcIl1bd2Vla0RheUluZGV4XTtcclxuICB9XHJcbiAgc3RhdGljIGdldFBlcnNpYW5EYXRlUmFuZ2VzKGRhdGVSYW5nZVN0cmluZzogc3RyaW5nKTogUGVyc2lhbkRhdGVUaW1lW10ge1xyXG4gICAgY29uc3Qgc3RhcnRFbmREYXRlQXJyYXlSZXN1bHQgPSBuZXcgQXJyYXk8UGVyc2lhbkRhdGVUaW1lPigpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgc3RhcnRFbmREYXRlQXJyYXkgPSBkYXRlUmFuZ2VTdHJpbmcuc3BsaXQoJyAtICcpO1xyXG4gICAgICBjb25zdCBzdGFydE1kc1BlcnNpYW5EYXRlVGltZSA9IFBlcnNpYW5EYXRlVGltZS5wYXJzZShzdGFydEVuZERhdGVBcnJheVswXSk7XHJcbiAgICAgIGNvbnN0IGVuZE1kc1BlcnNpYW5EYXRlVGltZSA9IFBlcnNpYW5EYXRlVGltZS5wYXJzZShzdGFydEVuZERhdGVBcnJheVsxXSk7XHJcbiAgICAgIGlmIChlbmRNZHNQZXJzaWFuRGF0ZVRpbWUudG9EYXRlKCkgPCBzdGFydE1kc1BlcnNpYW5EYXRlVGltZS50b0RhdGUoKSlcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JhbmdlIGRhdGUgaXMgbm90IHZhbGlkLiBFbmQgZGF0ZSBtdXN0IGJlIGJpZ2dlciB0aGFuIHN0YXJ0IGRhdGUnKTtcclxuICAgICAgc3RhcnRFbmREYXRlQXJyYXlSZXN1bHQucHVzaChzdGFydE1kc1BlcnNpYW5EYXRlVGltZSk7XHJcbiAgICAgIHN0YXJ0RW5kRGF0ZUFycmF5UmVzdWx0LnB1c2goZW5kTWRzUGVyc2lhbkRhdGVUaW1lKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSYW5nZSBkYXRlIGlzIG5vdCB2YWxpZC4gWW91IG11c3QgZW50ZXIgcmFuZ2UgZGF0ZSBzdHJpbmcgbGlrZSBcIjEzOTYvMDMvMDYgLSAxMzk2LzAzLzIxXCInKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdGFydEVuZERhdGVBcnJheVJlc3VsdDtcclxuICB9XHJcbiAgc3RhdGljIGdldERhdGVSYW5nZXMoZGF0ZVJhbmdlU3RyaW5nOiBzdHJpbmcpOiBEYXRlW10ge1xyXG4gICAgY29uc3Qgc3RhcnRFbmREYXRlQXJyYXlSZXN1bHQgPSBuZXcgQXJyYXk8RGF0ZT4oKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0RW5kRGF0ZUFycmF5ID0gZGF0ZVJhbmdlU3RyaW5nLnNwbGl0KCcgLSAnKTtcclxuICAgICAgY29uc3Qgc3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKERhdGUucGFyc2Uoc3RhcnRFbmREYXRlQXJyYXlbMF0pKTtcclxuICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZShEYXRlLnBhcnNlKHN0YXJ0RW5kRGF0ZUFycmF5WzFdKSk7XHJcbiAgICAgIGlmIChlbmREYXRlVGltZSA8IHN0YXJ0RGF0ZVRpbWUpXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSYW5nZSBkYXRlIGlzIG5vdCB2YWxpZC4gRW5kIGRhdGUgbXVzdCBiZSBiaWdnZXIgdGhhbiBzdGFydCBkYXRlJyk7XHJcbiAgICAgIHN0YXJ0RW5kRGF0ZUFycmF5UmVzdWx0LnB1c2goc3RhcnREYXRlVGltZSk7XHJcbiAgICAgIHN0YXJ0RW5kRGF0ZUFycmF5UmVzdWx0LnB1c2goZW5kRGF0ZVRpbWUpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JhbmdlIGRhdGUgaXMgbm90IHZhbGlkLiBZb3UgbXVzdCBlbnRlciByYW5nZSBkYXRlIHN0cmluZyBsaWtlIFwiMjAxNy8wMi8wNiAtIDIwMTcvMDIvMThcIicpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0YXJ0RW5kRGF0ZUFycmF5UmVzdWx0O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5ASW5qZWN0YWJsZSh7XHJcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBNZHNEYXRldGltZVBpY2tlclJlc291cmNlc1NlcnZpY2Uge1xyXG4gIHBlcnNpYW5SZXNvdXJjZXMgPSB7XHJcbiAgICAnWWVhcic6ICfDmMKzw5jCp8OZwoQnLFxyXG4gICAgJ01vbnRoJzogJ8OZwoXDmMKnw5nChycsXHJcbiAgICAnRGF5JzogJ8OYwrHDmcKIw5jCsicsXHJcbiAgICAnUHJldmlvdXNZZWFyJzogJ8OYwrPDmMKnw5nChCDDmcKCw5jCqMOZwoQnLFxyXG4gICAgJ1ByZXZpb3VzTW9udGgnOiAnw5nChcOYwqfDmcKHIMOZwoLDmMKow5nChCcsXHJcbiAgICAnTmV4dFllYXInOiAnw5jCs8OYwqfDmcKEIMOYwqjDmMK5w5jCrycsXHJcbiAgICAnTmV4dE1vbnRoJzogJ8OZwoXDmMKnw5nChyDDmMKow5jCucOYwq8nLFxyXG4gICAgJ1NlbGVjdE1vbnRoJzogJ8OYwqfDmcKGw5jCqsOYwq7DmMKnw5jCqCDDmcKFw5jCp8OZwocnLFxyXG4gICAgJ1RvZGF5JzogJ8OYwqfDmcKFw5jCscOZwojDmMKyJyxcclxuICAgICdDb25maXJtJzogJ8OYwqrDmMKnw5vCjMObwozDmMKvJyxcclxuICAgICdSZWplY3QnOiAnw5jCscOYwq8nLFxyXG4gICAgJ1N0YXJ0JzogJ8OYwrTDmMKxw5nCiMOYwrknLFxyXG4gICAgJ0VuZCc6ICfDmcK+w5jCp8ObwozDmMKnw5nChidcclxuICB9O1xyXG4gIGVuZ2xpc2hSZXNvdXJjZXMgPSB7XHJcbiAgICAnWWVhcic6ICdZZWFyJyxcclxuICAgICdNb250aCc6ICdNb250aCcsXHJcbiAgICAnRGF5JzogJ0RheScsXHJcbiAgICAnUHJldmlvdXNZZWFyJzogJ1ByZXZpb3VzIFllYXInLFxyXG4gICAgJ1ByZXZpb3VzTW9udGgnOiAnUHJldmlvdXMgTW9udGgnLFxyXG4gICAgJ05leHRZZWFyJzogJ05leHQgWWVhcicsXHJcbiAgICAnTmV4dE1vbnRoJzogJ05leHQgTW9udGgnLFxyXG4gICAgJ1NlbGVjdE1vbnRoJzogJ1NlbGVjdCBNb250aCcsXHJcbiAgICAnVG9kYXknOiAnVG9kYXknLFxyXG4gICAgJ0NvbmZpcm0nOiAnQ29uZmlybScsXHJcbiAgICAnUmVqZWN0JzogJ1JlamVjdCcsXHJcbiAgICAnU3RhcnQnOiAnU3RhcnQnLFxyXG4gICAgJ0VuZCc6ICdFbmQnXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE91dHB1dCwgT25Jbml0LCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgdHJpZ2dlciwgc3RhdGUsIHN0eWxlLCBhbmltYXRlLCB0cmFuc2l0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XHJcbmltcG9ydCB7IE1kcyB9IGZyb20gJ21kcy5wZXJzaWFuLmRhdGV0aW1lJztcclxuaW1wb3J0IFBlcnNpYW5EYXRlVGltZSA9IE1kcy5QZXJzaWFuRGF0ZVRpbWU7XHJcbmltcG9ydCBQZXJzaWFuRGF5T2ZXZWVrID0gTWRzLlBlcnNpYW5EYXlPZldlZWs7XHJcbmltcG9ydCBHcmVnb3JpYW5EYXlPZldlZWsgPSBNZHMuR3JlZ29yaWFuRGF5T2ZXZWVrO1xyXG5pbXBvcnQgeyBNZHNEYXRldGltZVBpY2tlclJlc291cmNlc1NlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlL21kcy1kYXRldGltZS1waWNrZXItcmVzb3VyY2VzLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBNZHNEYXRldGltZVBpY2tlclV0aWxpdHkgfSBmcm9tICcuLi9jbGFzc2VzL21kcy1kYXRldGltZS1waWNrZXIudXRpbGl0eSc7XHJcbmltcG9ydCB7IFRlbXBsYXRlVHlwZUVudW0gfSBmcm9tICcuLi9jbGFzc2VzL2VudW1zJztcclxuaW1wb3J0IHsgSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRhdGUsIElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJSYW5nZURhdGUsIElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXkgfSBmcm9tICcuLi9jbGFzc2VzL2ludGVyZmFjZXMnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdtZHMtZGF0ZXRpbWUtcGlja2VyLWNvcmUnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9tZHMtYW5ndWxhci1wZXJzaWFuLWRhdGUtdGltZS1waWNrZXItY29yZS5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vbWRzLWFuZ3VsYXItcGVyc2lhbi1kYXRlLXRpbWUtcGlja2VyLWNvcmUuY29tcG9uZW50LmNzcyddLFxyXG4gIGFuaW1hdGlvbnM6IFtcclxuICAgIHRyaWdnZXIoJ2RheXNTdGF0ZU5hbWUnLFxyXG4gICAgICBbXHJcbiAgICAgICAgdHJhbnNpdGlvbigndm9pZCA9PiAqJywgW1xyXG4gICAgICAgICAgc3R5bGUoeyB0cmFuc2Zvcm06ICdyb3RhdGVZKDkwZGVnKScgfSksXHJcbiAgICAgICAgICBhbmltYXRlKCcyMDBtcyBlYXNlLWluJylcclxuICAgICAgICBdKVxyXG4gICAgICBdKSxcclxuICAgIHRyaWdnZXIoJ21vbnRoQW5kWWVhclNlbGVjdG9yVmlzaWJpbGl0eScsXHJcbiAgICAgIFtcclxuICAgICAgICBzdGF0ZSgndmlzaWJsZScsIHN0eWxlKHsgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiAncm90YXRlWSgwZGVnKScgfSkpLFxyXG4gICAgICAgIHN0YXRlKCdoaWRkZW4nLCBzdHlsZSh7IG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3JvdGF0ZVkoOTBkZWcpJyB9KSksXHJcbiAgICAgICAgdHJhbnNpdGlvbignaGlkZGVuID0+IHZpc2libGUnLCBbYW5pbWF0ZSgnMC4ycyBlYXNlLWluJyldKSxcclxuICAgICAgICB0cmFuc2l0aW9uKCd2aXNpYmxlID0+IGhpZGRlbicsIFthbmltYXRlKCcwLjJzIGVhc2Utb3V0JyldKVxyXG4gICAgICBdKVxyXG4gIF1cclxufSlcclxuZXhwb3J0IGNsYXNzIE1kc0FuZ3VsYXJQZXJzaWFuRGF0ZVRpbWVQaWNrZXJDb3JlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZXNvdXJjZXNTZXJ2aWNlOiBNZHNEYXRldGltZVBpY2tlclJlc291cmNlc1NlcnZpY2UpIHsgfVxyXG4gIG5nT25Jbml0KCkge1xyXG4gICAgaWYgKHRoaXMucmFuZ2VTZWxlY3RvcikgdGhpcy50aW1lUGlja2VyID0gZmFsc2U7XHJcbiAgICBpZiAoIXRoaXMuaXNQZXJzaWFuKSB0aGlzLnBlcnNpYW5DaGFyID0gZmFsc2U7XHJcbiAgICBpZiAodGhpcy5pbml0aWFsVmFsdWUgIT0gJycpIHtcclxuICAgICAgaWYgKHRoaXMucmFuZ2VTZWxlY3Rvcikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5pc1BlcnNpYW4pIHtcclxuICAgICAgICAgICAgY29uc3QgcmFuZ2VzID0gTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5LmdldFBlcnNpYW5EYXRlUmFuZ2VzKHRoaXMuaW5pdGlhbFZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFJhbmdlUGVyc2lhbkRhdGVUaW1lcyhyYW5nZXMpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcmFuZ2VzID0gTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5LmdldERhdGVSYW5nZXModGhpcy5pbml0aWFsVmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkUmFuZ2VEYXRlVGltZXMocmFuZ2VzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuZGF0ZVRpbWUgPSB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCd2YWx1ZSBpcyBpbiB3cm9uZyBmb3JtYXQsIHdoZW4gcmFuZ2VTZWxlY3RvciBpcyB0cnVlIHlvdSBzaG91bGQgd3JpdGUgdmFsdWUgbGlrZSBcIjEzOTYvMDMvMDEgLSAxMzk2LzAzLzE1XCIgb3IgXCIyMDE3LzMvOSAtIDIwMTcvMy8xMFwiJywgZSk7XHJcbiAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkUmFuZ2VEYXRlVGltZXMobnVsbCk7XHJcbiAgICAgICAgICB0aGlzLmRhdGVUaW1lID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGlmICh0aGlzLmlzUGVyc2lhbilcclxuICAgICAgICAgICAgdGhpcy5kYXRlVGltZSA9IFBlcnNpYW5EYXRlVGltZS5wYXJzZSh0aGlzLmluaXRpYWxWYWx1ZSkudG9EYXRlKCk7XHJcbiAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZVRpbWUgPSBuZXcgRGF0ZShEYXRlLnBhcnNlKHRoaXMuaW5pdGlhbFZhbHVlKSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcigndmFsdWUgaXMgaW4gd3JvbmcgZm9ybWF0LCB5b3Ugc2hvdWxkIHdyaXRlIHZhbHVlIGxpa2UgXCIxMzk2LzAzLzAxICAxMTozMDoyN1wiIG9yIFwiMjAxNy8wOS8wMyAgMTE6MzA6MDBcIiwgeW91IGNhbiByZW1vdmUgdGltZScsIGUpO1xyXG4gICAgICAgICAgdGhpcy5kYXRlVGltZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmRhdGVUaW1lID0gbnVsbDtcclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlWWVhcnNMaXN0KCk7XHJcbiAgICB0aGlzLnVwZGF0ZU1vbnRoRGF5cygpO1xyXG5cclxuICAgIGlmICh0aGlzLmluaXRpYWxWYWx1ZSAhPSAnJykge1xyXG4gICAgICBpZiAodGhpcy5yYW5nZVNlbGVjdG9yKVxyXG4gICAgICAgIHRoaXMuZmlyZVJhbmdlQ2hhbmdlRXZlbnQoKTtcclxuICAgICAgZWxzZVxyXG4gICAgICAgIHRoaXMuZmlyZUNoYW5nZUV2ZW50KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBASW5wdXQoKSB0ZW1wbGF0ZVR5cGU6IFRlbXBsYXRlVHlwZUVudW0gPSBUZW1wbGF0ZVR5cGVFbnVtLmJvb3RzdHJhcDtcclxuICBASW5wdXQoKSBpbml0aWFsVmFsdWUgPSAnJztcclxuXHJcbiAgQElucHV0KClcclxuICBnZXQgcGVyc2lhbkNoYXIoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fcGVyc2lhbkNoYXI7XHJcbiAgfTtcclxuICBzZXQgcGVyc2lhbkNoYXIodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgIGlmICh0aGlzLl9wZXJzaWFuQ2hhciA9PSB2YWx1ZSkgcmV0dXJuO1xyXG4gICAgdGhpcy5fcGVyc2lhbkNoYXIgPSB2YWx1ZTtcclxuICAgIHRoaXMuX3llYXJTdHJpbmcgPSAnJztcclxuICAgIHRoaXMucmVzZXRNb250aERheXNXaXRoQ29udGVudCgpO1xyXG4gIH07XHJcbiAgcHJpdmF0ZSBfcGVyc2lhbkNoYXI6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICBASW5wdXQoKVxyXG4gIGdldCBpc1BlcnNpYW4oKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNQZXJzaWFuO1xyXG4gIH07XHJcbiAgc2V0IGlzUGVyc2lhbih2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgdGhpcy5faXNQZXJzaWFuID0gdmFsdWU7XHJcbiAgICB0aGlzLl9tb250aE5hbWUgPSAnJztcclxuICAgIHRoaXMuX21vbnRoTmFtZXMgPSBbXTtcclxuICAgIHRoaXMuX3dlZWtkYXlOYW1lcyA9IFtdO1xyXG4gICAgdGhpcy5fcmVzb3VyY2VzID0gbnVsbDtcclxuICAgIHRoaXMuX3llYXJTdHJpbmcgPSAnJztcclxuICAgIGlmICh0aGlzLmRhdGVUaW1lICE9IG51bGwpIHtcclxuICAgICAgdGhpcy51cGRhdGVZZWFyc0xpc3QoKTtcclxuICAgICAgdGhpcy51cGRhdGVNb250aERheXMoKTtcclxuICAgIH1cclxuICB9O1xyXG4gIHByaXZhdGUgX2lzUGVyc2lhbjogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gIEBJbnB1dCgpIHJhbmdlU2VsZWN0b3IgPSBmYWxzZTtcclxuICBASW5wdXQoKSB0aW1lUGlja2VyID0gZmFsc2U7XHJcblxyXG4gIC8qKlxyXG4gICAgKiDDmcKBw5jCscOZwoXDmMKqIMOZwr7Dm8KMw5jCtCDDmcKBw5jCscOYwrYgMTM5My8wOS8xNCAgIDEzOjQ5OjQwIFxyXG4gICAgKiB5eXl5OiDDmMKzw5jCp8OZwoQgw5rChsOZwofDmMKnw5jCsSDDmMKxw5nCgsOZwoXDm8KMIFxyXG4gICAgKiB5eTogw5jCs8OYwqfDmcKEIMOYwq/DmcKIIMOYwrHDmcKCw5nChcObwowgXHJcbiAgICAqIE1NTU06IMOZwobDmMKnw5nChSDDmcKBw5jCp8OYwrHDmMKzw5vCjCDDmcKFw5jCp8OZwocgXHJcbiAgICAqIE1NOiDDmMK5w5jCr8OYwq8gw5jCr8OZwoggw5jCscOZwoLDmcKFw5vCjCDDmcKFw5jCp8OZwocgXHJcbiAgICAqIE06IMOYwrnDmMKvw5jCryDDm8KMw5rCqSDDmMKxw5nCgsOZwoXDm8KMIMOZwoXDmMKnw5nChyBcclxuICAgICogZGRkZDogw5nChsOYwqfDmcKFIMOZwoHDmMKnw5jCscOYwrPDm8KMIMOYwrHDmcKIw5jCsiDDmcKHw5nCgcOYwqrDmcKHIFxyXG4gICAgKiBkZDogw5jCucOYwq/DmMKvIMOYwq/DmcKIIMOYwrHDmcKCw5nChcObwowgw5jCscOZwojDmMKyIMOZwoXDmMKnw5nChyBcclxuICAgICogZDogw5jCucOYwq/DmMKvIMObwozDmsKpIMOYwrHDmcKCw5nChcObwowgw5jCscOZwojDmMKyIMOZwoXDmMKnw5nChyBcclxuICAgICogSEg6IMOYwrPDmMKnw5jCucOYwqogw5jCr8OZwoggw5jCscOZwoLDmcKFw5vCjCDDmMKow5jCpyDDmcKBw5jCscOZwoXDmMKqIDAwIMOYwqrDmMKnIDI0IFxyXG4gICAgKiBIOiDDmMKzw5jCp8OYwrnDmMKqIMObwozDmsKpIMOYwrHDmcKCw5nChcObwowgw5jCqMOYwqcgw5nCgcOYwrHDmcKFw5jCqiAwIMOYwqrDmMKnIDI0IFxyXG4gICAgKiBoaDogw5jCs8OYwqfDmMK5w5jCqiDDmMKvw5nCiCDDmMKxw5nCgsOZwoXDm8KMIMOYwqjDmMKnIMOZwoHDmMKxw5nChcOYwqogMDAgw5jCqsOYwqcgMTIgXHJcbiAgICAqIGg6IMOYwrPDmMKnw5jCucOYwqogw5vCjMOawqkgw5jCscOZwoLDmcKFw5vCjCDDmMKow5jCpyDDmcKBw5jCscOZwoXDmMKqIDAgw5jCqsOYwqcgMTIgXHJcbiAgICAqIG1tOiDDmMK5w5jCr8OYwq8gw5jCr8OZwoggw5jCscOZwoLDmcKFw5vCjCDDmMKvw5nCgsObwozDmcKCw5nChyBcclxuICAgICogbTogw5jCucOYwq/DmMKvIMObwozDmsKpIMOYwrHDmcKCw5nChcObwowgw5jCr8OZwoLDm8KMw5nCgsOZwocgXHJcbiAgICAqIHNzOiDDmMKrw5jCp8OZwobDm8KMw5nChyDDmMKvw5nCiCDDmMKxw5nCgsOZwoXDm8KMIFxyXG4gICAgKiBzOiDDmMKrw5jCp8OZwobDm8KMw5nChyDDm8KMw5rCqSDDmMKxw5nCgsOZwoXDm8KMIFxyXG4gICAgKiBmZmY6IMOZwoXDm8KMw5nChMObwowgw5jCq8OYwqfDmcKGw5vCjMOZwocgMyDDmMKxw5nCgsOZwoXDm8KMIFxyXG4gICAgKiBmZjogw5nChcObwozDmcKEw5vCjCDDmMKrw5jCp8OZwobDm8KMw5nChyAyIMOYwrHDmcKCw5nChcObwowgXHJcbiAgICAqIGY6IMOZwoXDm8KMw5nChMObwowgw5jCq8OYwqfDmcKGw5vCjMOZwocgw5vCjMOawqkgw5jCscOZwoLDmcKFw5vCjCBcclxuICAgICogdHQ6IMOYwqguw5jCuCDDm8KMw5jCpyDDmcKCLsOYwrggXHJcbiAgICAqIHQ6IMOYwq3DmMKxw5nCgSDDmMKnw5nCiMOZwoQgw5jCp8OYwrIgw5jCqC7DmMK4IMObwozDmMKnIMOZwoIuw5jCuCBcclxuICAgICoqL1xyXG4gIEBJbnB1dCgpIGZvcm1hdDogc3RyaW5nID0gJyc7XHJcblxyXG4gIEBPdXRwdXQoKSBkYXRlQ2hhbmdlZCA9IG5ldyBFdmVudEVtaXR0ZXI8SU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRhdGU+KCk7XHJcbiAgQE91dHB1dCgpIHJhbmdlRGF0ZUNoYW5nZWQgPSBuZXcgRXZlbnRFbWl0dGVyPElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJSYW5nZURhdGU+KCk7XHJcblxyXG4gIGRheXNBbmltYXRpb25TdGF0ZU5hbWUgPSAndmlzaWJsZSc7XHJcbiAgbW9udGhPclllYXJTZWxlY3RvclZpc2liaWxpdHlTdGF0ZU5hbWUgPSAnaGlkZGVuJztcclxuICBtb250aFNlbGVjdG9yVmlzaWJpbGl0eVN0YXRlTmFtZSA9ICdoaWRkZW4nO1xyXG4gIHllYXJTZWxlY3RvclZpc2liaWxpdHlTdGF0ZU5hbWUgPSAnaGlkZGVuJztcclxuXHJcbiAgc2hvd01vbnRoU2VsZWN0b3JCbG9jazogYm9vbGVhbjtcclxuICBzaG93WWVhcnNTZWxlY3RvckJsb2NrOiBib29sZWFuO1xyXG5cclxuICBwcml2YXRlIHNwbGl0U3RhcnRFbmREYXRlU3RyaW5nKGRhdGVTdHJpbmc6IHN0cmluZyk6IHN0cmluZ1tdIHtcclxuICAgIHJldHVybiBkYXRlU3RyaW5nLnNwbGl0KCcgLSAnKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBzZXRTZWxlY3RlZFJhbmdlRGF0ZVRpbWVzKGRhdGVUaW1lczogRGF0ZVtdKTogdm9pZCB7XHJcbiAgICBkYXRlVGltZXMgPSBkYXRlVGltZXMgPT0gbnVsbCB8fCBkYXRlVGltZXMubGVuZ3RoIDwgMiA/IFtudWxsLCBudWxsXSA6IGRhdGVUaW1lcztcclxuICAgIHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID0gZGF0ZVRpbWVzWzBdO1xyXG4gICAgdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID0gZGF0ZVRpbWVzWzFdO1xyXG4gIH1cclxuICBwcml2YXRlIHNldFNlbGVjdGVkUmFuZ2VQZXJzaWFuRGF0ZVRpbWVzKHBlcnNpYW5EYXRlVGltZXM6IFBlcnNpYW5EYXRlVGltZVtdKTogdm9pZCB7XHJcbiAgICBjb25zdCByYW5nZXMgPSBbXHJcbiAgICAgIHBlcnNpYW5EYXRlVGltZXNbMF0gPT0gbnVsbCA/IG51bGwgOiBwZXJzaWFuRGF0ZVRpbWVzWzBdLnRvRGF0ZSgpLFxyXG4gICAgICBwZXJzaWFuRGF0ZVRpbWVzWzFdID09IG51bGwgPyBudWxsIDogcGVyc2lhbkRhdGVUaW1lc1sxXS50b0RhdGUoKVxyXG4gICAgXTtcclxuICAgIHRoaXMuc2V0U2VsZWN0ZWRSYW5nZURhdGVUaW1lcyhyYW5nZXMpO1xyXG4gIH1cclxuICBwcml2YXRlIGdldCBwZXJzaWFuU3RhcnREYXlPZk1vbnRoKCk6IFBlcnNpYW5EYXlPZldlZWsge1xyXG4gICAgcmV0dXJuIHRoaXMucGVyc2lhbkRhdGVUaW1lLnN0YXJ0RGF5T2ZNb250aERheU9mV2VlaztcclxuICB9XHJcbiAgcHJpdmF0ZSBnZXQgZ3JlZ29yaWFuU3RhcnREYXlPZk1vbnRoKCk6IEdyZWdvcmlhbkRheU9mV2VlayB7XHJcbiAgICByZXR1cm4gbmV3IERhdGUodGhpcy5kYXRlVGltZS5nZXRGdWxsWWVhcigpLCB0aGlzLmRhdGVUaW1lLmdldE1vbnRoKCksIDEpLmdldERheSgpIGFzIEdyZWdvcmlhbkRheU9mV2VlaztcclxuICB9XHJcbiAgcHJpdmF0ZSBjbGVhclRpbWUoZGF0ZVRpbWU6IERhdGUpOiB2b2lkIHtcclxuICAgIGlmIChkYXRlVGltZSA9PSBudWxsKSByZXR1cm47XHJcbiAgICBkYXRlVGltZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBnZXREYXRlVGltZUZvcm1hdCgpOiBzdHJpbmcge1xyXG4gICAgbGV0IGZvcm1hdCA9IHRoaXMuZm9ybWF0O1xyXG4gICAgaWYgKGZvcm1hdC50cmltKCkgPT0gJycpIHtcclxuICAgICAgZm9ybWF0ID0gJ3l5eXkvTU0vZGQnO1xyXG4gICAgICBpZiAodGhpcy50aW1lUGlja2VyICYmICF0aGlzLnJhbmdlU2VsZWN0b3IpXHJcbiAgICAgICAgZm9ybWF0ICs9ICcgICBoaDptbTpzcyc7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0aGlzLnJhbmdlU2VsZWN0b3IgfHwgIXRoaXMudGltZVBpY2tlcilcclxuICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoL3QqfGYqfHMqfG0qfGgqfEgqLywgJycpO1xyXG4gICAgcmV0dXJuIGZvcm1hdDtcclxuICB9XHJcblxyXG4gIHNldERhdGVUaW1lQnlEYXRlKGRhdGVUaW1lOiBEYXRlKTogdm9pZCB7XHJcbiAgICB0aGlzLmRhdGVUaW1lID0gdGhpcy5zZWxlY3RlZERhdGVUaW1lID0gZGF0ZVRpbWU7XHJcbiAgICB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9ICFkYXRlVGltZSA/IG51bGwgOiBuZXcgRGF0ZShkYXRlVGltZSk7XHJcbiAgfVxyXG4gIHNldERhdGVUaW1lUmFuZ2VzQnlEYXRlKHN0YXJ0RGF0ZVRpbWU6IERhdGUsIGVuZERhdGVUaW1lOiBEYXRlKTogdm9pZCB7XHJcbiAgICB0aGlzLmRhdGVUaW1lID0gdGhpcy5zZWxlY3RlZERhdGVUaW1lID0gc3RhcnREYXRlVGltZTtcclxuICAgIHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID0gc3RhcnREYXRlVGltZSA9PSBudWxsID8gbnVsbCA6IG5ldyBEYXRlKHN0YXJ0RGF0ZVRpbWUpO1xyXG4gICAgdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID0gZW5kRGF0ZVRpbWUgPT0gbnVsbCA/IG51bGwgOiBuZXcgRGF0ZShlbmREYXRlVGltZSk7XHJcbiAgfVxyXG4gIHNldERhdGVUaW1lQnlTdHJpbmcoZGF0ZVRpbWVTdHJpbmc6IHN0cmluZykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKGRhdGVUaW1lU3RyaW5nID09ICcnKSB7XHJcbiAgICAgICAgdGhpcy5jbGVhckRhdGVUaW1lUGlja2VyKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLmlzUGVyc2lhbikge1xyXG4gICAgICAgIGlmICh0aGlzLnJhbmdlU2VsZWN0b3IpIHtcclxuICAgICAgICAgIGNvbnN0IHN0YXJ0QW5kRW5kRGF0ZUFycmF5ID0gdGhpcy5zcGxpdFN0YXJ0RW5kRGF0ZVN0cmluZyhkYXRlVGltZVN0cmluZyk7XHJcbiAgICAgICAgICB0aGlzLmRhdGVUaW1lID0gdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUgPSBQZXJzaWFuRGF0ZVRpbWUucGFyc2Uoc3RhcnRBbmRFbmREYXRlQXJyYXlbMF0pLnRvRGF0ZSgpO1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID0gUGVyc2lhbkRhdGVUaW1lLnBhcnNlKHN0YXJ0QW5kRW5kRGF0ZUFycmF5WzFdKS50b0RhdGUoKTtcclxuICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA+IHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSlcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdGFydCBkYXRlIG11c3QgYmUgbGVzcyB0aGFuIGVuZCBkYXRlJyk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICB0aGlzLmRhdGVUaW1lID0gdGhpcy5zZWxlY3RlZERhdGVUaW1lID0gUGVyc2lhbkRhdGVUaW1lLnBhcnNlKGRhdGVUaW1lU3RyaW5nKS50b0RhdGUoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAodGhpcy5yYW5nZVNlbGVjdG9yKSB7XHJcbiAgICAgICAgICBjb25zdCBzdGFydEFuZEVuZERhdGVBcnJheSA9IHRoaXMuc3BsaXRTdGFydEVuZERhdGVTdHJpbmcoZGF0ZVRpbWVTdHJpbmcpO1xyXG4gICAgICAgICAgdGhpcy5kYXRlVGltZSA9IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID0gbmV3IERhdGUoRGF0ZS5wYXJzZShzdGFydEFuZEVuZERhdGVBcnJheVswXSkpO1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID0gbmV3IERhdGUoRGF0ZS5wYXJzZShzdGFydEFuZEVuZERhdGVBcnJheVsxXSkpO1xyXG4gICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID4gdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0YXJ0IGRhdGUgbXVzdCBiZSBsZXNzIHRoYW4gZW5kIGRhdGUnKTtcclxuICAgICAgICB9IGVsc2VcclxuICAgICAgICAgIHRoaXMuZGF0ZVRpbWUgPSB0aGlzLnNlbGVjdGVkRGF0ZVRpbWUgPSBuZXcgRGF0ZShEYXRlLnBhcnNlKGRhdGVUaW1lU3RyaW5nKSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMucmFuZ2VTZWxlY3RvcilcclxuICAgICAgICB0aGlzLmZpcmVSYW5nZUNoYW5nZUV2ZW50KCk7XHJcbiAgICAgIGVsc2VcclxuICAgICAgICB0aGlzLmZpcmVDaGFuZ2VFdmVudCgpXHJcbiAgICAgIHRoaXMudXBkYXRlTW9udGhEYXlzKCk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHRoaXMuY2xlYXJEYXRlVGltZVBpY2tlcigpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNsZWFyRGF0ZVRpbWVQaWNrZXIoKSB7XHJcbiAgICB0aGlzLmRhdGVUaW1lID0gbnVsbDtcclxuICAgIHRoaXMuc2VsZWN0ZWREYXRlVGltZSA9IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID0gdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID0gbnVsbDtcclxuICAgIHRoaXMucmVzZXRUb0ZhbHNlUmFuZ2VQYXJhbWV0ZXJzSW5Nb250aERheXMoKTtcclxuICAgIGlmICh0aGlzLnJhbmdlU2VsZWN0b3IpXHJcbiAgICAgIHRoaXMuZmlyZVJhbmdlQ2hhbmdlRXZlbnQoKTtcclxuICAgIGVsc2VcclxuICAgICAgdGhpcy5maXJlQ2hhbmdlRXZlbnQoKVxyXG4gICAgdGhpcy51cGRhdGVNb250aERheXMoKTtcclxuICB9XHJcblxyXG4gIGdldCBnZXRTZWxlY3RlZERhdGUoKTogSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRhdGUgeyAgICBcclxuICAgIHJldHVybiB0aGlzLmdldFNlbGVjdGVkRGF0ZU9iamVjdDtcclxuICB9XHJcbiAgZ2V0IGdldFNlbGVjdGVkUmFuZ2VEYXRlcygpOiBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyUmFuZ2VEYXRlIHsgICAgXHJcbiAgICByZXR1cm4gdGhpcy5nZXRTZWxlY3RlZFJhbmdlRGF0ZXNPYmplY3Q7XHJcbiAgfVxyXG5cclxuICAvLyDDmMKqw5jCp8OYwrHDm8KMw5jCrsObwowgw5rCqcOZwocgw5jCqMOYwrHDmMKnw5vCjCDDmcKGw5nChcOYwqfDm8KMw5jCtCDDmMKqw5nCgsOZwojDm8KMw5nChSDDmMKnw5jCs8OYwqrDmcKBw5jCp8OYwq/DmcKHIMOZwoXDm8KMIMOYwrTDmcKIw5jCr1xyXG4gIHByaXZhdGUgX2RhdGVUaW1lOiBEYXRlID0gbnVsbDtcclxuICBwcml2YXRlIGdldCBkYXRlVGltZSgpOiBEYXRlIHtcclxuICAgIHJldHVybiB0aGlzLl9kYXRlVGltZTtcclxuICB9XHJcbiAgcHJpdmF0ZSBzZXQgZGF0ZVRpbWUoZGF0ZVRpbWU6IERhdGUpIHtcclxuICAgIHRoaXMuX2RhdGVUaW1lID0gZGF0ZVRpbWUgPT0gbnVsbCA/IG5ldyBEYXRlKCkgOiBuZXcgRGF0ZShkYXRlVGltZSk7XHJcbiAgICB0aGlzLl9wZXJzaWFuRGF0ZVRpbWUgPSBudWxsO1xyXG4gICAgdGhpcy5feWVhciA9IHRoaXMuX21vbnRoID0gMDtcclxuICAgIHRoaXMuX3llYXJTdHJpbmcgPSB0aGlzLl9tb250aE5hbWUgPSAnJztcclxuICAgIHRoaXMuX2hvdXIgPSB0aGlzLl9taW51dGUgPSB0aGlzLl9zZWNvbmQgPSAwO1xyXG4gICAgdGhpcy5faG91clN0cmluZyA9IHRoaXMuX21pbnV0ZVN0cmluZyA9IHRoaXMuX3NlY29uZFN0cmluZyA9ICcnO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfcGVyc2lhbkRhdGVUaW1lOiBQZXJzaWFuRGF0ZVRpbWUgPSBudWxsO1xyXG4gIHByaXZhdGUgZ2V0IHBlcnNpYW5EYXRlVGltZSgpOiBQZXJzaWFuRGF0ZVRpbWUge1xyXG4gICAgaWYgKHRoaXMuZGF0ZVRpbWUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcbiAgICBpZiAodGhpcy5fcGVyc2lhbkRhdGVUaW1lICE9IG51bGwpIHJldHVybiB0aGlzLl9wZXJzaWFuRGF0ZVRpbWU7XHJcbiAgICB0aGlzLl9wZXJzaWFuRGF0ZVRpbWUgPSBuZXcgUGVyc2lhbkRhdGVUaW1lKHRoaXMuZGF0ZVRpbWUpO1xyXG4gICAgcmV0dXJuIHRoaXMuX3BlcnNpYW5EYXRlVGltZTtcclxuICB9XHJcblxyXG4gIC8vIMOYwrHDmcKIw5jCsiDDmMKnw5nChsOYwqrDmMKuw5jCp8OYwqggw5jCtMOYwq/DmcKHXHJcbiAgcHJpdmF0ZSBfc2VsZWN0ZWREYXRlVGltZTogRGF0ZSA9IG51bGw7XHJcbiAgcHJpdmF0ZSBnZXQgc2VsZWN0ZWREYXRlVGltZSgpOiBEYXRlIHtcclxuICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZERhdGVUaW1lO1xyXG4gIH1cclxuICBwcml2YXRlIHNldCBzZWxlY3RlZERhdGVUaW1lKGRhdGVUaW1lOiBEYXRlKSB7XHJcbiAgICB0aGlzLl9zZWxlY3RlZERhdGVUaW1lID0gZGF0ZVRpbWUgPT0gbnVsbCA/IG51bGwgOiBuZXcgRGF0ZShkYXRlVGltZSk7XHJcbiAgICB0aGlzLl9JTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF0ZSA9IG51bGw7XHJcbiAgICB0aGlzLl9zZWxlY3RlZFBlcnNpYW5EYXRlVGltZSA9IG51bGw7XHJcbiAgICBpZiAodGhpcy5yYW5nZVNlbGVjdG9yIHx8ICF0aGlzLnRpbWVQaWNrZXIpXHJcbiAgICAgIHRoaXMuY2xlYXJUaW1lKGRhdGVUaW1lKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3NlbGVjdGVkUGVyc2lhbkRhdGVUaW1lOiBQZXJzaWFuRGF0ZVRpbWUgPSBudWxsO1xyXG4gIHByaXZhdGUgZ2V0IHNlbGVjdGVkUGVyc2lhbkRhdGVUaW1lKCk6IFBlcnNpYW5EYXRlVGltZSB7XHJcbiAgICBpZiAodGhpcy5fc2VsZWN0ZWRQZXJzaWFuRGF0ZVRpbWUgIT0gbnVsbCkgcmV0dXJuIHRoaXMuX3NlbGVjdGVkUGVyc2lhbkRhdGVUaW1lO1xyXG4gICAgdGhpcy5fc2VsZWN0ZWRQZXJzaWFuRGF0ZVRpbWUgPSBuZXcgUGVyc2lhbkRhdGVUaW1lKHRoaXMuc2VsZWN0ZWREYXRlVGltZSk7XHJcbiAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRQZXJzaWFuRGF0ZVRpbWU7XHJcbiAgfVxyXG5cclxuICAvLyDDmMKxw5nCiMOYwrIgw5jCtMOYwrHDmcKIw5jCuSDDmMKnw5nChsOYwqrDmMKuw5jCp8OYwqggw5jCtMOYwq/DmcKHIMOYwq/DmMKxIMOYwrHDmcKGw5jCrCDDmMKzw5nChMOawqnDmMKqw5nCiMOYwrFcclxuICBwcml2YXRlIF9zZWxlY3RlZFN0YXJ0RGF0ZVRpbWU6IERhdGUgPSBudWxsO1xyXG4gIHByaXZhdGUgZ2V0IHNlbGVjdGVkU3RhcnREYXRlVGltZSgpOiBEYXRlIHtcclxuICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZFN0YXJ0RGF0ZVRpbWU7XHJcbiAgfVxyXG4gIHByaXZhdGUgc2V0IHNlbGVjdGVkU3RhcnREYXRlVGltZShkYXRlVGltZTogRGF0ZSkge1xyXG4gICAgdGhpcy5fc2VsZWN0ZWRTdGFydERhdGVUaW1lID0gZGF0ZVRpbWUgPT0gbnVsbCA/IG51bGwgOiBuZXcgRGF0ZShkYXRlVGltZSk7XHJcbiAgICB0aGlzLl9zZWxlY3RlZFJhbmdlRGF0ZXNPYmplY3QgPSBudWxsO1xyXG4gICAgdGhpcy5fc2VsZWN0ZWRQZXJzaWFuU3RhcnREYXRlVGltZSA9IG51bGw7XHJcbiAgICB0aGlzLmNsZWFyVGltZShkYXRlVGltZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9zZWxlY3RlZFBlcnNpYW5TdGFydERhdGVUaW1lOiBQZXJzaWFuRGF0ZVRpbWUgPSBudWxsO1xyXG4gIHByaXZhdGUgZ2V0IHNlbGVjdGVkUGVyc2lhblN0YXJ0RGF0ZVRpbWUoKTogUGVyc2lhbkRhdGVUaW1lIHtcclxuICAgIGlmICh0aGlzLl9zZWxlY3RlZFBlcnNpYW5TdGFydERhdGVUaW1lICE9IG51bGwpIHJldHVybiB0aGlzLl9zZWxlY3RlZFBlcnNpYW5TdGFydERhdGVUaW1lO1xyXG4gICAgdGhpcy5fc2VsZWN0ZWRQZXJzaWFuU3RhcnREYXRlVGltZSA9IG5ldyBQZXJzaWFuRGF0ZVRpbWUodGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUpO1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkUGVyc2lhblN0YXJ0RGF0ZVRpbWU7XHJcbiAgfVxyXG5cclxuICAvLyDDmMKxw5nCiMOYwrIgw5nCvsOYwqfDm8KMw5jCp8OZwobDm8KMIMOYwqfDmcKGw5jCqsOYwq7DmMKnw5jCqCDDmMK0w5jCr8OZwocgw5jCr8OYwrEgw5jCscOZwobDmMKsIMOYwrPDmcKEw5rCqcOYwqrDmcKIw5jCsVxyXG4gIHByaXZhdGUgX3NlbGVjdGVkRW5kRGF0ZVRpbWU6IERhdGUgPSBudWxsO1xyXG4gIHByaXZhdGUgZ2V0IHNlbGVjdGVkRW5kRGF0ZVRpbWUoKTogRGF0ZSB7XHJcbiAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRFbmREYXRlVGltZTtcclxuICB9XHJcbiAgcHJpdmF0ZSBzZXQgc2VsZWN0ZWRFbmREYXRlVGltZShkYXRlVGltZTogRGF0ZSkge1xyXG4gICAgdGhpcy5fc2VsZWN0ZWRFbmREYXRlVGltZSA9IGRhdGVUaW1lID09IG51bGwgPyBudWxsIDogbmV3IERhdGUoZGF0ZVRpbWUpO1xyXG4gICAgdGhpcy5fc2VsZWN0ZWRSYW5nZURhdGVzT2JqZWN0ID0gbnVsbDtcclxuICAgIHRoaXMuX3NlbGVjdGVkUGVyc2lhbkVuZERhdGVUaW1lID0gbnVsbDtcclxuICAgIHRoaXMuY2xlYXJUaW1lKGRhdGVUaW1lKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3NlbGVjdGVkUGVyc2lhbkVuZERhdGVUaW1lOiBQZXJzaWFuRGF0ZVRpbWUgPSBudWxsO1xyXG4gIHByaXZhdGUgZ2V0IHNlbGVjdGVkUGVyc2lhbkVuZERhdGVUaW1lKCk6IFBlcnNpYW5EYXRlVGltZSB7XHJcbiAgICBpZiAodGhpcy5fc2VsZWN0ZWRQZXJzaWFuRW5kRGF0ZVRpbWUgIT0gbnVsbCkgcmV0dXJuIHRoaXMuX3NlbGVjdGVkUGVyc2lhbkVuZERhdGVUaW1lO1xyXG4gICAgdGhpcy5fc2VsZWN0ZWRQZXJzaWFuRW5kRGF0ZVRpbWUgPSBuZXcgUGVyc2lhbkRhdGVUaW1lKHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSk7XHJcbiAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRQZXJzaWFuRW5kRGF0ZVRpbWU7XHJcbiAgfVxyXG5cclxuICB5ZWFyc1RvU2VsZWN0OiBzdHJpbmdbXTtcclxuICBkYXlzSW5Nb250aDogSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheVtdOyAgXHJcblxyXG4gIHByaXZhdGUgX3Jlc291cmNlczogYW55ID0gbnVsbDtcclxuICBnZXQgcmVzb3VyY2VzKCk6IGFueSB7XHJcbiAgICBpZiAodGhpcy5fcmVzb3VyY2VzICE9IG51bGwpIHJldHVybiB0aGlzLl9yZXNvdXJjZXM7XHJcbiAgICBpZiAodGhpcy5pc1BlcnNpYW4pXHJcbiAgICAgIHRoaXMuX3Jlc291cmNlcyA9IHRoaXMucmVzb3VyY2VzU2VydmljZS5wZXJzaWFuUmVzb3VyY2VzO1xyXG4gICAgZWxzZVxyXG4gICAgICB0aGlzLl9yZXNvdXJjZXMgPSB0aGlzLnJlc291cmNlc1NlcnZpY2UuZW5nbGlzaFJlc291cmNlcztcclxuICAgIHJldHVybiB0aGlzLl9yZXNvdXJjZXM7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF95ZWFyOiBudW1iZXIgPSAwO1xyXG4gIGdldCB5ZWFyKCk6IG51bWJlciB7XHJcbiAgICBpZiAodGhpcy5feWVhciA+IDApIHJldHVybiB0aGlzLl95ZWFyOyAgICBcclxuICAgIHRoaXMuX3llYXIgPSB0aGlzLmlzUGVyc2lhblxyXG4gICAgICA/IHRoaXMucGVyc2lhbkRhdGVUaW1lLnllYXJcclxuICAgICAgOiB0aGlzLmRhdGVUaW1lLmdldEZ1bGxZZWFyKCk7XHJcbiAgICByZXR1cm4gdGhpcy5feWVhcjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3llYXJTdHJpbmc6IHN0cmluZyA9ICcnXHJcbiAgZ2V0IHllYXJTdHJpbmcoKTogc3RyaW5nIHtcclxuICAgIGlmICh0aGlzLl95ZWFyU3RyaW5nICE9ICcnKSByZXR1cm4gdGhpcy5feWVhclN0cmluZztcclxuICAgIHRoaXMuX3llYXJTdHJpbmcgPSB0aGlzLnBlcnNpYW5DaGFyXHJcbiAgICAgID8gTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5LnRvUGVyc2lhbk51bWJlcih0aGlzLnllYXIudG9TdHJpbmcoKSlcclxuICAgICAgOiB0aGlzLmRhdGVUaW1lLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKTtcclxuICAgIHJldHVybiB0aGlzLl95ZWFyU3RyaW5nO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfbW9udGg6IG51bWJlciA9IDA7XHJcbiAgZ2V0IG1vbnRoKCk6IG51bWJlciB7XHJcbiAgICBpZiAodGhpcy5fbW9udGggPiAwKSByZXR1cm4gdGhpcy5fbW9udGg7XHJcbiAgICB0aGlzLl9tb250aCA9IHRoaXMuaXNQZXJzaWFuXHJcbiAgICAgID8gUGVyc2lhbkRhdGVUaW1lLmdldFBlcnNpYW5Nb250aEluZGV4KHRoaXMucGVyc2lhbkRhdGVUaW1lLm1vbnRoTmFtZSlcclxuICAgICAgOiB0aGlzLmRhdGVUaW1lLmdldE1vbnRoKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fbW9udGg7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9tb250aE5hbWU6IHN0cmluZyA9ICcnXHJcbiAgZ2V0IG1vbnRoTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgaWYgKHRoaXMuX21vbnRoTmFtZSAhPSAnJykgcmV0dXJuIHRoaXMuX21vbnRoTmFtZTtcclxuICAgIHRoaXMuX21vbnRoTmFtZSA9IHRoaXMuaXNQZXJzaWFuXHJcbiAgICAgID8gdGhpcy5wZXJzaWFuRGF0ZVRpbWUubW9udGhOYW1lXHJcbiAgICAgIDogUGVyc2lhbkRhdGVUaW1lLmdldEdyZWdvcmlhbk1vbnRoTmFtZXNbdGhpcy5tb250aF07XHJcbiAgICByZXR1cm4gdGhpcy5fbW9udGhOYW1lO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfbW9udGhOYW1lczogc3RyaW5nW10gPSBbXVxyXG4gIGdldCBtb250aE5hbWVzKCk6IHN0cmluZ1tdIHtcclxuICAgIGlmICh0aGlzLl9tb250aE5hbWVzICE9IG51bGwgJiYgdGhpcy5fbW9udGhOYW1lcy5sZW5ndGggPiAwKSByZXR1cm4gdGhpcy5fbW9udGhOYW1lcztcclxuICAgIGlmICh0aGlzLmlzUGVyc2lhbikge1xyXG4gICAgICBjb25zdCBhbGxQZXJzaWFuTW9udGhzID0gUGVyc2lhbkRhdGVUaW1lLmdldFBlcnNpYW5Nb250aE5hbWVzO1xyXG4gICAgICB0aGlzLl9tb250aE5hbWVzID0gW1xyXG4gICAgICAgIGFsbFBlcnNpYW5Nb250aHNbMl0sIGFsbFBlcnNpYW5Nb250aHNbMV0sIGFsbFBlcnNpYW5Nb250aHNbMF0sXHJcbiAgICAgICAgYWxsUGVyc2lhbk1vbnRoc1s1XSwgYWxsUGVyc2lhbk1vbnRoc1s0XSwgYWxsUGVyc2lhbk1vbnRoc1szXSxcclxuICAgICAgICBhbGxQZXJzaWFuTW9udGhzWzhdLCBhbGxQZXJzaWFuTW9udGhzWzddLCBhbGxQZXJzaWFuTW9udGhzWzZdLFxyXG4gICAgICAgIGFsbFBlcnNpYW5Nb250aHNbMTFdLCBhbGxQZXJzaWFuTW9udGhzWzEwXSwgYWxsUGVyc2lhbk1vbnRoc1s5XVxyXG4gICAgICBdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbW9udGhOYW1lcyA9IFBlcnNpYW5EYXRlVGltZS5nZXRHcmVnb3JpYW5Nb250aE5hbWVzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuX21vbnRoTmFtZXM7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9ob3VyOiBudW1iZXIgPSAwO1xyXG4gIGdldCBob3VyKCk6IG51bWJlciB7XHJcbiAgICBpZiAodGhpcy5faG91ciA+IDApIHJldHVybiB0aGlzLl9ob3VyO1xyXG4gICAgdGhpcy5faG91ciA9IHRoaXMuZGF0ZVRpbWUuZ2V0SG91cnMoKTtcclxuICAgIHJldHVybiB0aGlzLl9ob3VyO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfaG91clN0cmluZzogc3RyaW5nID0gJyc7XHJcbiAgZ2V0IGhvdXJTdHJpbmcoKTogc3RyaW5nIHtcclxuICAgIGlmICh0aGlzLl9ob3VyU3RyaW5nICE9ICcnKSByZXR1cm4gdGhpcy5faG91clN0cmluZztcclxuICAgIHRoaXMuX2hvdXJTdHJpbmcgPSB0aGlzLmhvdXIudG9TdHJpbmcoKTtcclxuICAgIGlmICh0aGlzLnBlcnNpYW5DaGFyKSB0aGlzLl9ob3VyU3RyaW5nID0gTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5LnRvUGVyc2lhbk51bWJlcih0aGlzLl9ob3VyU3RyaW5nKVxyXG4gICAgcmV0dXJuIHRoaXMuX2hvdXJTdHJpbmc7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9taW51dGU6IG51bWJlciA9IDA7XHJcbiAgZ2V0IG1pbnV0ZSgpOiBudW1iZXIge1xyXG4gICAgaWYgKHRoaXMuX21pbnV0ZSA+IDApIHJldHVybiB0aGlzLl9taW51dGU7XHJcbiAgICB0aGlzLl9taW51dGUgPSB0aGlzLmRhdGVUaW1lLmdldE1pbnV0ZXMoKTtcclxuICAgIHJldHVybiB0aGlzLl9taW51dGU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9taW51dGVTdHJpbmc6IHN0cmluZyA9ICcnO1xyXG4gIGdldCBtaW51dGVTdHJpbmcoKTogc3RyaW5nIHtcclxuICAgIGlmICh0aGlzLl9taW51dGVTdHJpbmcgIT0gJycpIHJldHVybiB0aGlzLl9taW51dGVTdHJpbmc7XHJcbiAgICB0aGlzLl9taW51dGVTdHJpbmcgPSB0aGlzLm1pbnV0ZS50b1N0cmluZygpO1xyXG4gICAgaWYgKHRoaXMucGVyc2lhbkNoYXIpIHRoaXMuX21pbnV0ZVN0cmluZyA9IE1kc0RhdGV0aW1lUGlja2VyVXRpbGl0eS50b1BlcnNpYW5OdW1iZXIodGhpcy5fbWludXRlU3RyaW5nKVxyXG4gICAgcmV0dXJuIHRoaXMuX21pbnV0ZVN0cmluZztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3NlY29uZDogbnVtYmVyID0gMDtcclxuICBnZXQgc2Vjb25kKCk6IG51bWJlciB7XHJcbiAgICBpZiAodGhpcy5fc2Vjb25kID4gMCkgcmV0dXJuIHRoaXMuX3NlY29uZDtcclxuICAgIHRoaXMuX3NlY29uZCA9IHRoaXMuZGF0ZVRpbWUuZ2V0U2Vjb25kcygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlY29uZDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3NlY29uZFN0cmluZzogc3RyaW5nID0gJyc7XHJcbiAgZ2V0IHNlY29uZFN0cmluZygpOiBzdHJpbmcge1xyXG4gICAgaWYgKHRoaXMuX3NlY29uZFN0cmluZyAhPSAnJykgcmV0dXJuIHRoaXMuX3NlY29uZFN0cmluZztcclxuICAgIHRoaXMuX3NlY29uZFN0cmluZyA9IHRoaXMuc2Vjb25kLnRvU3RyaW5nKCk7XHJcbiAgICBpZiAodGhpcy5wZXJzaWFuQ2hhcikgdGhpcy5fc2Vjb25kU3RyaW5nID0gTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5LnRvUGVyc2lhbk51bWJlcih0aGlzLl9zZWNvbmRTdHJpbmcpXHJcbiAgICByZXR1cm4gdGhpcy5fc2Vjb25kU3RyaW5nO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfd2Vla2RheU5hbWVzOiBzdHJpbmdbXSA9IFtdXHJcbiAgZ2V0IHdlZWtkYXlOYW1lcygpOiBzdHJpbmdbXSB7XHJcbiAgICBpZiAodGhpcy5fd2Vla2RheU5hbWVzICE9IG51bGwgJiYgdGhpcy5fd2Vla2RheU5hbWVzLmxlbmd0aCA+IDApIHJldHVybiB0aGlzLl93ZWVrZGF5TmFtZXM7XHJcbiAgICBpZiAodGhpcy5pc1BlcnNpYW4pIHtcclxuICAgICAgLy8gw5jCrcOYwrHDmcKIw5nCgSDDmMKnw5nCiMOZwoQgw5nChsOYwqfDmcKFIMOZwofDmMKnw5vCjCDDmMKxw5nCiMOYwrIgw5nCh8OZwoHDmMKqw5nChyDDmMK0w5nChcOYwrPDm8KMXHJcbiAgICAgIGNvbnN0IHBlcnNpYW5XZWVrRGF5TmFtZXMgPSBQZXJzaWFuRGF0ZVRpbWUuZ2V0UGVyc2lhbldlZWtkYXlOYW1lcztcclxuICAgICAgdGhpcy5fd2Vla2RheU5hbWVzID0gW1xyXG4gICAgICAgIHBlcnNpYW5XZWVrRGF5TmFtZXNbNl1bMF0sIHBlcnNpYW5XZWVrRGF5TmFtZXNbNV1bMF0sIHBlcnNpYW5XZWVrRGF5TmFtZXNbNF1bMF0sXHJcbiAgICAgICAgcGVyc2lhbldlZWtEYXlOYW1lc1szXVswXSwgcGVyc2lhbldlZWtEYXlOYW1lc1syXVswXSwgcGVyc2lhbldlZWtEYXlOYW1lc1sxXVswXSxcclxuICAgICAgICBwZXJzaWFuV2Vla0RheU5hbWVzWzBdWzBdXHJcbiAgICAgIF07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBncmVnb3JpYW5XZWVrRGF5TmFtZXMgPSBQZXJzaWFuRGF0ZVRpbWUuZ2V0R3JlZ29yaWFuV2Vla2RheU5hbWVzO1xyXG4gICAgICB0aGlzLl93ZWVrZGF5TmFtZXMgPSBbXHJcbiAgICAgICAgZ3JlZ29yaWFuV2Vla0RheU5hbWVzWzFdWzBdICsgZ3JlZ29yaWFuV2Vla0RheU5hbWVzWzFdWzFdLFxyXG4gICAgICAgIGdyZWdvcmlhbldlZWtEYXlOYW1lc1syXVswXSArIGdyZWdvcmlhbldlZWtEYXlOYW1lc1syXVsxXSxcclxuICAgICAgICBncmVnb3JpYW5XZWVrRGF5TmFtZXNbM11bMF0gKyBncmVnb3JpYW5XZWVrRGF5TmFtZXNbM11bMV0sXHJcbiAgICAgICAgZ3JlZ29yaWFuV2Vla0RheU5hbWVzWzRdWzBdICsgZ3JlZ29yaWFuV2Vla0RheU5hbWVzWzRdWzFdLFxyXG4gICAgICAgIGdyZWdvcmlhbldlZWtEYXlOYW1lc1s1XVswXSArIGdyZWdvcmlhbldlZWtEYXlOYW1lc1s1XVsxXSxcclxuICAgICAgICBncmVnb3JpYW5XZWVrRGF5TmFtZXNbNl1bMF0gKyBncmVnb3JpYW5XZWVrRGF5TmFtZXNbNl1bMV0sXHJcbiAgICAgICAgZ3JlZ29yaWFuV2Vla0RheU5hbWVzWzBdWzBdICsgZ3JlZ29yaWFuV2Vla0RheU5hbWVzWzBdWzFdXHJcbiAgICAgIF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5fd2Vla2RheU5hbWVzO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRhdGU6IElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlID0gbnVsbDtcclxuICBwcml2YXRlIGdldCBnZXRTZWxlY3RlZERhdGVPYmplY3QoKTogSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRhdGUge1xyXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWREYXRlVGltZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuICAgIGlmICh0aGlzLl9JTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF0ZSAhPSBudWxsKSByZXR1cm4gdGhpcy5fSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRhdGU7XHJcbiAgICBsZXQgZm9ybWF0ID0gdGhpcy5nZXREYXRlVGltZUZvcm1hdCgpO1xyXG4gICAgaWYgKHRoaXMuaXNQZXJzaWFuKSB7XHJcbiAgICAgIHRoaXMuX0lNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlID0ge1xyXG4gICAgICAgIHllYXI6IHRoaXMuc2VsZWN0ZWRQZXJzaWFuRGF0ZVRpbWUueWVhcixcclxuICAgICAgICBtb250aDogdGhpcy5zZWxlY3RlZFBlcnNpYW5EYXRlVGltZS5tb250aCxcclxuICAgICAgICBkYXk6IHRoaXMuc2VsZWN0ZWRQZXJzaWFuRGF0ZVRpbWUuZGF5LFxyXG4gICAgICAgIGhvdXI6IHRoaXMuc2VsZWN0ZWRQZXJzaWFuRGF0ZVRpbWUuaG91cixcclxuICAgICAgICBtaW51dGU6IHRoaXMuc2VsZWN0ZWRQZXJzaWFuRGF0ZVRpbWUubWludXRlLFxyXG4gICAgICAgIHNlY29uZDogdGhpcy5zZWxlY3RlZFBlcnNpYW5EYXRlVGltZS5zZWNvbmQsXHJcbiAgICAgICAgbWlsbGlzZWNvbmQ6IHRoaXMuc2VsZWN0ZWRQZXJzaWFuRGF0ZVRpbWUubWlsbGlzZWNvbmQsXHJcbiAgICAgICAgZm9ybWF0U3RyaW5nOiB0aGlzLnNlbGVjdGVkUGVyc2lhbkRhdGVUaW1lLnRvU3RyaW5nKGZvcm1hdCksXHJcbiAgICAgICAgdXRjRGF0ZVRpbWU6IHRoaXMuc2VsZWN0ZWREYXRlVGltZVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuX0lNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlID0ge1xyXG4gICAgICAgIHllYXI6IHRoaXMuc2VsZWN0ZWREYXRlVGltZS5nZXRGdWxsWWVhcigpLFxyXG4gICAgICAgIG1vbnRoOiB0aGlzLnNlbGVjdGVkRGF0ZVRpbWUuZ2V0TW9udGgoKSxcclxuICAgICAgICBkYXk6IHRoaXMuc2VsZWN0ZWREYXRlVGltZS5nZXREYXRlKCksXHJcbiAgICAgICAgaG91cjogdGhpcy5zZWxlY3RlZERhdGVUaW1lLmdldEhvdXJzKCksXHJcbiAgICAgICAgbWludXRlOiB0aGlzLnNlbGVjdGVkRGF0ZVRpbWUuZ2V0TWludXRlcygpLFxyXG4gICAgICAgIHNlY29uZDogdGhpcy5zZWxlY3RlZERhdGVUaW1lLmdldFNlY29uZHMoKSxcclxuICAgICAgICBtaWxsaXNlY29uZDogdGhpcy5zZWxlY3RlZERhdGVUaW1lLmdldE1pbGxpc2Vjb25kcygpLFxyXG4gICAgICAgIGZvcm1hdFN0cmluZzogTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5LmRhdGVUaW1lVG9TdHJpbmcodGhpcy5zZWxlY3RlZERhdGVUaW1lLCBmb3JtYXQpLFxyXG4gICAgICAgIHV0Y0RhdGVUaW1lOiB0aGlzLnNlbGVjdGVkRGF0ZVRpbWVcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnBlcnNpYW5DaGFyKVxyXG4gICAgICB0aGlzLl9JTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF0ZS5mb3JtYXRTdHJpbmcgPSBNZHNEYXRldGltZVBpY2tlclV0aWxpdHkudG9QZXJzaWFuTnVtYmVyKHRoaXMuX0lNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlLmZvcm1hdFN0cmluZyk7XHJcbiAgICBlbHNlXHJcbiAgICAgIHRoaXMuX0lNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlLmZvcm1hdFN0cmluZyA9IE1kc0RhdGV0aW1lUGlja2VyVXRpbGl0eS50b0VuZ2xpc2hTdHJpbmcodGhpcy5fSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRhdGUuZm9ybWF0U3RyaW5nKTtcclxuICAgIHJldHVybiB0aGlzLl9JTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF0ZTtcclxuICB9XHJcbiAgZ2V0IGdldFNlbGVjdGVkRGF5KCk6IG51bWJlciB7XHJcbiAgICBpZiAodGhpcy5nZXRTZWxlY3RlZERhdGVPYmplY3QgPT0gbnVsbCB8fCB0aGlzLnJhbmdlU2VsZWN0b3IpIHJldHVybiAwO1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0U2VsZWN0ZWREYXRlT2JqZWN0LmRheTtcclxuICB9XHJcblxyXG5cclxuICBwcml2YXRlIF9zZWxlY3RlZFJhbmdlRGF0ZXNPYmplY3Q6IElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJSYW5nZURhdGUgPSBudWxsO1xyXG4gIHByaXZhdGUgZ2V0IGdldFNlbGVjdGVkUmFuZ2VEYXRlc09iamVjdCgpOiBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyUmFuZ2VEYXRlIHtcclxuICAgIGlmICghdGhpcy5yYW5nZVNlbGVjdG9yIHx8IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID09IG51bGwgJiYgdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID09IG51bGwpIHJldHVybiBudWxsO1xyXG4gICAgaWYgKHRoaXMuX3NlbGVjdGVkUmFuZ2VEYXRlc09iamVjdCAhPSBudWxsKSByZXR1cm4gdGhpcy5fc2VsZWN0ZWRSYW5nZURhdGVzT2JqZWN0O1xyXG4gICAgbGV0IGZvcm1hdCA9IHRoaXMuZ2V0RGF0ZVRpbWVGb3JtYXQoKTtcclxuICAgIGxldCBzdGFydERhdGU6IElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlO1xyXG4gICAgbGV0IGVuZERhdGU6IElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlO1xyXG4gICAgaWYgKHRoaXMuaXNQZXJzaWFuKSB7XHJcbiAgICAgIHN0YXJ0RGF0ZSA9IHtcclxuICAgICAgICB5ZWFyOiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9PSBudWxsID8gMCA6IHRoaXMuc2VsZWN0ZWRQZXJzaWFuU3RhcnREYXRlVGltZS55ZWFyLFxyXG4gICAgICAgIG1vbnRoOiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9PSBudWxsID8gMCA6IHRoaXMuc2VsZWN0ZWRQZXJzaWFuU3RhcnREYXRlVGltZS5tb250aCxcclxuICAgICAgICBkYXk6IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID09IG51bGwgPyAwIDogdGhpcy5zZWxlY3RlZFBlcnNpYW5TdGFydERhdGVUaW1lLmRheSxcclxuICAgICAgICBob3VyOiAwLFxyXG4gICAgICAgIG1pbnV0ZTogMCxcclxuICAgICAgICBzZWNvbmQ6IDAsXHJcbiAgICAgICAgbWlsbGlzZWNvbmQ6IDAsXHJcbiAgICAgICAgZm9ybWF0U3RyaW5nOiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9PSBudWxsID8gJycgOiB0aGlzLnNlbGVjdGVkUGVyc2lhblN0YXJ0RGF0ZVRpbWUudG9TdHJpbmcoZm9ybWF0KSxcclxuICAgICAgICB1dGNEYXRlVGltZTogdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWVcclxuICAgICAgfTtcclxuICAgICAgZW5kRGF0ZSA9IHtcclxuICAgICAgICB5ZWFyOiB0aGlzLnNlbGVjdGVkUGVyc2lhbkVuZERhdGVUaW1lID09IG51bGwgPyAwIDogdGhpcy5zZWxlY3RlZFBlcnNpYW5FbmREYXRlVGltZS55ZWFyLFxyXG4gICAgICAgIG1vbnRoOiB0aGlzLnNlbGVjdGVkUGVyc2lhbkVuZERhdGVUaW1lID09IG51bGwgPyAwIDogdGhpcy5zZWxlY3RlZFBlcnNpYW5FbmREYXRlVGltZS5tb250aCxcclxuICAgICAgICBkYXk6IHRoaXMuc2VsZWN0ZWRQZXJzaWFuRW5kRGF0ZVRpbWUgPT0gbnVsbCA/IDAgOiB0aGlzLnNlbGVjdGVkUGVyc2lhbkVuZERhdGVUaW1lLmRheSxcclxuICAgICAgICBob3VyOiAwLFxyXG4gICAgICAgIG1pbnV0ZTogMCxcclxuICAgICAgICBzZWNvbmQ6IDAsXHJcbiAgICAgICAgbWlsbGlzZWNvbmQ6IDAsXHJcbiAgICAgICAgZm9ybWF0U3RyaW5nOiB0aGlzLnNlbGVjdGVkUGVyc2lhbkVuZERhdGVUaW1lID09IG51bGwgPyAnJyA6IHRoaXMuc2VsZWN0ZWRQZXJzaWFuRW5kRGF0ZVRpbWUudG9TdHJpbmcoZm9ybWF0KSxcclxuICAgICAgICB1dGNEYXRlVGltZTogdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHN0YXJ0RGF0ZSA9IHtcclxuICAgICAgICB5ZWFyOiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9PSBudWxsID8gMCA6IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lLmdldEZ1bGxZZWFyKCksXHJcbiAgICAgICAgbW9udGg6IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID09IG51bGwgPyAwIDogdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUuZ2V0TW9udGgoKSxcclxuICAgICAgICBkYXk6IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID09IG51bGwgPyAwIDogdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUuZ2V0RGF0ZSgpLFxyXG4gICAgICAgIGhvdXI6IDAsXHJcbiAgICAgICAgbWludXRlOiAwLFxyXG4gICAgICAgIHNlY29uZDogMCxcclxuICAgICAgICBtaWxsaXNlY29uZDogMCxcclxuICAgICAgICBmb3JtYXRTdHJpbmc6IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID09IG51bGwgPyAnJyA6IE1kc0RhdGV0aW1lUGlja2VyVXRpbGl0eS5kYXRlVGltZVRvU3RyaW5nKHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lLCBmb3JtYXQpLFxyXG4gICAgICAgIHV0Y0RhdGVUaW1lOiB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSA9PSBudWxsID8gbnVsbCA6IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lXHJcbiAgICAgIH07XHJcbiAgICAgIGVuZERhdGUgPSB7XHJcbiAgICAgICAgeWVhcjogdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID09IG51bGwgPyAwIDogdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lLmdldEZ1bGxZZWFyKCksXHJcbiAgICAgICAgbW9udGg6IHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZSA9PSBudWxsID8gMCA6IHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZS5nZXRNb250aCgpLFxyXG4gICAgICAgIGRheTogdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID09IG51bGwgPyAwIDogdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lLmdldERhdGUoKSxcclxuICAgICAgICBob3VyOiAwLFxyXG4gICAgICAgIG1pbnV0ZTogMCxcclxuICAgICAgICBzZWNvbmQ6IDAsXHJcbiAgICAgICAgbWlsbGlzZWNvbmQ6IDAsXHJcbiAgICAgICAgZm9ybWF0U3RyaW5nOiB0aGlzLnNlbGVjdGVkRW5kRGF0ZVRpbWUgPT0gbnVsbCA/ICcnIDogTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5LmRhdGVUaW1lVG9TdHJpbmcodGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lLCBmb3JtYXQpLFxyXG4gICAgICAgIHV0Y0RhdGVUaW1lOiB0aGlzLnNlbGVjdGVkRW5kRGF0ZVRpbWUgPT0gbnVsbCA/IG51bGwgOiB0aGlzLnNlbGVjdGVkRW5kRGF0ZVRpbWVcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5fc2VsZWN0ZWRSYW5nZURhdGVzT2JqZWN0ID0ge1xyXG4gICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZSxcclxuICAgICAgZW5kRGF0ZTogZW5kRGF0ZVxyXG4gICAgfTtcclxuICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZFJhbmdlRGF0ZXNPYmplY3Q7XHJcbiAgfVxyXG5cclxuICBnZXQgaXNSZWplY3RCdXR0b25EaXNhYmxlKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID09IG51bGwgJiYgdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID09IG51bGw7XHJcbiAgfVxyXG4gIGdldCBpc0NvbmZpcm1CdXR0b25EaXNhYmxlKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID09IG51bGwgfHwgdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID09IG51bGw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZVllYXJzTGlzdCgpOiB2b2lkIHtcclxuICAgIHRoaXMueWVhcnNUb1NlbGVjdCA9IFtdO1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRZZWFyID0gdGhpcy55ZWFyO1xyXG4gICAgZm9yIChsZXQgaSA9IHNlbGVjdGVkWWVhciAtIDM3OyBpIDw9IHNlbGVjdGVkWWVhciArIDM3OyBpKyspIHtcclxuICAgICAgaWYgKHRoaXMucGVyc2lhbkNoYXIpXHJcbiAgICAgICAgdGhpcy55ZWFyc1RvU2VsZWN0LnB1c2goTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5LnRvUGVyc2lhbk51bWJlcihpLnRvU3RyaW5nKCkpKTtcclxuICAgICAgZWxzZVxyXG4gICAgICAgIHRoaXMueWVhcnNUb1NlbGVjdC5wdXNoKGkudG9TdHJpbmcoKSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHByaXZhdGUgZ2V0RGF5T2JqZWN0KHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlciwgZGF5OiBudW1iZXIsIGRpc2FibGVkOiBib29sZWFuLCBob2xpRGF5OiBib29sZWFuLCBpc1RvZGF5OiBib29sZWFuKTogSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheSB7XHJcbiAgICBsZXQgaXNXaXRoaW5EYXRlUmFuZ2UgPSBmYWxzZTtcclxuICAgIGxldCBpc1N0YXJ0T3JFbmRPZlJhbmdlID0gZmFsc2U7XHJcbiAgICBpZiAodGhpcy5yYW5nZVNlbGVjdG9yICYmIHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lICE9IG51bGwpIHtcclxuICAgICAgY29uc3QgZGF0ZVRpbWUgPSB0aGlzLmlzUGVyc2lhblxyXG4gICAgICAgID8gUGVyc2lhbkRhdGVUaW1lLmZyb21QZXJzaWFuRGF0ZSh5ZWFyLCBtb250aCwgZGF5KS50b0RhdGUoKVxyXG4gICAgICAgIDogbmV3IERhdGUoeWVhciwgbW9udGgsIGRheSk7XHJcbiAgICAgIGlzV2l0aGluRGF0ZVJhbmdlID0gZGF0ZVRpbWUgPj0gdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWU7XHJcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkRW5kRGF0ZVRpbWUgIT0gbnVsbClcclxuICAgICAgICBpc1dpdGhpbkRhdGVSYW5nZSA9IGlzV2l0aGluRGF0ZVJhbmdlICYmIGRhdGVUaW1lIDw9IHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZTtcclxuICAgICAgaXNTdGFydE9yRW5kT2ZSYW5nZSA9XHJcbiAgICAgICAgKHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lICE9IG51bGwgJiYgZGF0ZVRpbWUuZ2V0VGltZSgpID09IHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lLmdldFRpbWUoKSkgfHxcclxuICAgICAgICAodGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lICE9IG51bGwgJiYgZGF0ZVRpbWUuZ2V0VGltZSgpID09IHRoaXMuc2VsZWN0ZWRFbmREYXRlVGltZS5nZXRUaW1lKCkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgeWVhcjogeWVhcixcclxuICAgICAgbW9udGg6IG1vbnRoLFxyXG4gICAgICBkYXk6IGRheSxcclxuICAgICAgZGF5U3RyaW5nOiB0aGlzLnBlcnNpYW5DaGFyID8gTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5LnRvUGVyc2lhbk51bWJlcihkYXkudG9TdHJpbmcoKSkgOiBkYXkudG9TdHJpbmcoKSxcclxuICAgICAgZGlzYWJsZTogZGlzYWJsZWQsXHJcbiAgICAgIGhvbGlEYXk6IGhvbGlEYXksXHJcbiAgICAgIHRvZGF5OiBpc1RvZGF5LFxyXG4gICAgICBpc1dpdGhpblJhbmdlOiBpc1dpdGhpbkRhdGVSYW5nZSxcclxuICAgICAgaXNTdGFydE9yRW5kT2ZSYW5nZTogaXNTdGFydE9yRW5kT2ZSYW5nZVxyXG4gICAgfVxyXG4gIH1cclxuICBwcml2YXRlIGdldCBpc1JhbmdlU2VsZWN0b3JSZWFkeSgpOiBib29sZWFuIHtcclxuICAgIGlmICghdGhpcy5yYW5nZVNlbGVjdG9yKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAodGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUgPT0gbnVsbCkgcmV0dXJuIGZhbHNlOyAvLyDDmcKHw5nChsOZwojDmMKyIMOYwrHDmcKIw5jCsiDDmMK0w5jCscOZwojDmMK5IMOYwqfDmcKGw5jCqsOYwq7DmMKnw5jCqCDDmcKGw5jCtMOYwq/DmcKHIMOYwqfDmMKzw5jCqlxyXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lICE9IG51bGwgJiYgdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lICE9IG51bGwpIHJldHVybiBmYWxzZTsgLy8gw5jCscOZwobDmMKsIMOYwqrDmMKnw5jCscObwozDmMKuIMOYwqfDmcKGw5jCqsOYwq7DmMKnw5jCqCDDmMK0w5jCr8OZwocgw5jCqMOZwojDmMKvXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlTW9udGhEYXlzKCk6IHZvaWQge1xyXG4gICAgY29uc3QgZGF5czogSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheVtdID0gW107XHJcbiAgICBsZXQgY291bnRlciA9IDAsXHJcbiAgICAgIHllYXIgPSAwLFxyXG4gICAgICBtb250aCA9IDA7XHJcbiAgICBpZiAodGhpcy5pc1BlcnNpYW4pIHtcclxuICAgICAgY29uc3QgcGVyc2lhbkRhdGVUaW1lTm93ID0gUGVyc2lhbkRhdGVUaW1lLm5vdztcclxuICAgICAgY29uc3QgdG9kYXkgPSBwZXJzaWFuRGF0ZVRpbWVOb3cuZGF5O1xyXG4gICAgICBjb25zdCBpc1llYXJBbmRNb250aEluQ3VycmVudE1vbnRoID0gcGVyc2lhbkRhdGVUaW1lTm93LnllYXIgPT0gdGhpcy5wZXJzaWFuRGF0ZVRpbWUueWVhciAmJiBwZXJzaWFuRGF0ZVRpbWVOb3cubW9udGggPT0gdGhpcy5wZXJzaWFuRGF0ZVRpbWUubW9udGg7XHJcbiAgICAgIC8vIMOYwrHDmcKIw5jCssOZwofDmMKnw5vCjCDDmcKFw5jCp8OZwocgw5nCgsOYwqjDmcKEXHJcbiAgICAgIGlmICh0aGlzLnBlcnNpYW5TdGFydERheU9mTW9udGggIT0gUGVyc2lhbkRheU9mV2Vlay5TYXR1cmRheSkge1xyXG4gICAgICAgIGNvbnN0IHByZXZpb3VzUGVyc2lhbk1vbnRoID0gdGhpcy5wZXJzaWFuRGF0ZVRpbWUuYWRkTW9udGhzKC0xKTtcclxuICAgICAgICB5ZWFyID0gcHJldmlvdXNQZXJzaWFuTW9udGgueWVhcjtcclxuICAgICAgICBtb250aCA9IHByZXZpb3VzUGVyc2lhbk1vbnRoLm1vbnRoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBwcmV2aW91c1BlcnNpYW5Nb250aC5nZXRNb250aERheXMgLSB0aGlzLnBlcnNpYW5TdGFydERheU9mTW9udGggKyAxOyBpIDw9IHByZXZpb3VzUGVyc2lhbk1vbnRoLmdldE1vbnRoRGF5czsgaSsrKSB7XHJcbiAgICAgICAgICBjb3VudGVyKys7XHJcbiAgICAgICAgICBkYXlzLnB1c2godGhpcy5nZXREYXlPYmplY3QoeWVhciwgbW9udGgsIGksIHRydWUsIGZhbHNlLCBmYWxzZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvLyDDmMKxw5nCiMOYwrLDmcKHw5jCp8Obwowgw5nChcOYwqfDmcKHIMOYwqzDmMKnw5jCscObwoxcclxuICAgICAgeWVhciA9IHRoaXMucGVyc2lhbkRhdGVUaW1lLnllYXI7XHJcbiAgICAgIG1vbnRoID0gdGhpcy5wZXJzaWFuRGF0ZVRpbWUubW9udGg7XHJcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHRoaXMucGVyc2lhbkRhdGVUaW1lLmdldE1vbnRoRGF5czsgaSsrKSB7XHJcbiAgICAgICAgY291bnRlcisrO1xyXG4gICAgICAgIGRheXMucHVzaCh0aGlzLmdldERheU9iamVjdCh5ZWFyLCBtb250aCwgaSwgZmFsc2UsIGZhbHNlLCBpc1llYXJBbmRNb250aEluQ3VycmVudE1vbnRoICYmIGkgPT0gdG9kYXkpKTtcclxuICAgICAgfVxyXG4gICAgICAvLyDDmMKxw5nCiMOYwrLDmcKHw5jCp8Obwowgw5nChcOYwqfDmcKHIMOYwqjDmMK5w5jCr1xyXG4gICAgICBjb25zdCBuZXh0TW9udGhQZXJzaWFuRGF0ZVRpbWUgPSB0aGlzLnBlcnNpYW5EYXRlVGltZS5hZGRNb250aHMoMSk7XHJcbiAgICAgIHllYXIgPSBuZXh0TW9udGhQZXJzaWFuRGF0ZVRpbWUueWVhcjtcclxuICAgICAgbW9udGggPSBuZXh0TW9udGhQZXJzaWFuRGF0ZVRpbWUubW9udGg7XHJcbiAgICAgIGZvciAobGV0IGkgPSAxOyBjb3VudGVyIDw9ICg2ICogNykgLSAxOyBpKyspIHtcclxuICAgICAgICBjb3VudGVyKys7XHJcbiAgICAgICAgZGF5cy5wdXNoKHRoaXMuZ2V0RGF5T2JqZWN0KHllYXIsIG1vbnRoLCBpLCB0cnVlLCBmYWxzZSwgZmFsc2UpKTtcclxuICAgICAgfVxyXG4gICAgICAvLyDDmMKvw5jCscOYwrPDmMKqIMOawqnDmMKxw5jCr8OZwoYgw5jCscOYwqfDmMKzw5jCqiDDmMKow5nChyDDmsKGw5nCviDDmMKow5nCiMOYwq/DmcKGIMOYwqrDmcKCw5nCiMObwozDmcKFXHJcbiAgICAgIGNvbnN0IHRlbXAgPSBkYXlzLnNsaWNlKDApO1xyXG4gICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCA2OyByb3crKykge1xyXG4gICAgICAgIGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8IDc7IGNvbHVtbisrKSB7XHJcbiAgICAgICAgICBjb25zdCBpbmRleDEgPSByb3cgKiA3ICsgY29sdW1uO1xyXG4gICAgICAgICAgY29uc3QgaW5kZXgyID0gTWF0aC5hYnMoKHJvdyArIDEpICogNyAtIChjb2x1bW4gKyAxKSk7XHJcbiAgICAgICAgICBkYXlzW2luZGV4MV0gPSB0ZW1wW2luZGV4Ml07XHJcbiAgICAgICAgICBpZiAoY29sdW1uID09IDApXHJcbiAgICAgICAgICAgIGRheXNbaW5kZXgxXS5ob2xpRGF5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCBkYXRlVGltZU5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIGNvbnN0IHRvZGF5ID0gZGF0ZVRpbWVOb3cuZ2V0RGF0ZSgpO1xyXG4gICAgICBjb25zdCBpc1llYXJBbmRNb250aEluQ3VycmVudE1vbnRoID0gZGF0ZVRpbWVOb3cuZ2V0TW9udGgoKSA9PSB0aGlzLmRhdGVUaW1lLmdldE1vbnRoKCkgJiYgZGF0ZVRpbWVOb3cuZ2V0RnVsbFllYXIoKSA9PSB0aGlzLmRhdGVUaW1lLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgIC8vIMOYwrHDmcKIw5jCssOZwofDmMKnw5vCjCDDmcKFw5jCp8OZwocgw5nCgsOYwqjDmcKEXHJcbiAgICAgIGlmICh0aGlzLmdyZWdvcmlhblN0YXJ0RGF5T2ZNb250aCAhPSBHcmVnb3JpYW5EYXlPZldlZWsuU2F0dXJkYXkpIHtcclxuICAgICAgICBjb25zdCBkYXRlVGltZUNsb25lID0gbmV3IERhdGUodGhpcy5kYXRlVGltZSk7XHJcbiAgICAgICAgZGF0ZVRpbWVDbG9uZS5zZXRNb250aCh0aGlzLmRhdGVUaW1lLmdldE1vbnRoKCkpO1xyXG4gICAgICAgIHllYXIgPSBkYXRlVGltZUNsb25lLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgbW9udGggPSBkYXRlVGltZUNsb25lLmdldE1vbnRoKCk7XHJcbiAgICAgICAgY29uc3QgcHJldmlvdXNNb250aERheXMgPSBuZXcgRGF0ZShkYXRlVGltZUNsb25lLmdldEZ1bGxZZWFyKCksIGRhdGVUaW1lQ2xvbmUuZ2V0TW9udGgoKSwgMCkuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBwcmV2aW91c01vbnRoRGF5cyAtIHRoaXMuZ3JlZ29yaWFuU3RhcnREYXlPZk1vbnRoICsgMTsgaSA8PSBwcmV2aW91c01vbnRoRGF5czsgaSsrKSB7XHJcbiAgICAgICAgICBjb3VudGVyKys7XHJcbiAgICAgICAgICBkYXlzLnB1c2godGhpcy5nZXREYXlPYmplY3QoeWVhciwgbW9udGggLSAxLCBpLCB0cnVlLCBmYWxzZSwgZmFsc2UpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy8gw5jCscOZwojDmMKyw5nCh8OYwqfDm8KMIMOZwoXDmMKnw5nChyDDmMKsw5jCp8OYwrHDm8KMXHJcbiAgICAgIHllYXIgPSB0aGlzLmRhdGVUaW1lLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgIG1vbnRoID0gdGhpcy5kYXRlVGltZS5nZXRNb250aCgpO1xyXG4gICAgICBjb25zdCBjdXJyZW50TW9udGhEYXlzID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDApLmdldERhdGUoKTtcclxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gY3VycmVudE1vbnRoRGF5czsgaSsrKSB7XHJcbiAgICAgICAgY291bnRlcisrO1xyXG4gICAgICAgIGRheXMucHVzaCh0aGlzLmdldERheU9iamVjdCh5ZWFyLCBtb250aCwgaSwgZmFsc2UsIGZhbHNlLCBpc1llYXJBbmRNb250aEluQ3VycmVudE1vbnRoICYmIGkgPT0gdG9kYXkpKTtcclxuICAgICAgfVxyXG4gICAgICAvLyDDmMKxw5nCiMOYwrLDmcKHw5jCp8Obwowgw5nChcOYwqfDmcKHIMOYwqjDmMK5w5jCr1xyXG4gICAgICBjb25zdCBuZXh0TW9udGhEYXRlVGltZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoICsgMSwgMSk7XHJcbiAgICAgIHllYXIgPSBuZXh0TW9udGhEYXRlVGltZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICBtb250aCA9IG5leHRNb250aERhdGVUaW1lLmdldE1vbnRoKCk7XHJcbiAgICAgIGZvciAobGV0IGkgPSAxOyBjb3VudGVyIDw9ICg2ICogNykgLSAxOyBpKyspIHtcclxuICAgICAgICBjb3VudGVyKys7XHJcbiAgICAgICAgZGF5cy5wdXNoKHRoaXMuZ2V0RGF5T2JqZWN0KHllYXIsIG1vbnRoLCBpLCB0cnVlLCBmYWxzZSwgZmFsc2UpKTtcclxuICAgICAgfVxyXG4gICAgICAvLyDDmMKqw5jCucOYwrfDm8KMw5nChCDDmsKpw5jCscOYwq/DmcKGIMOYwrHDmcKIw5jCssOZwofDmMKnw5vCjCDDmMKsw5nChcOYwrnDmcKHXHJcbiAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IDY7IHJvdysrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgNzsgY29sdW1uKyspIHtcclxuICAgICAgICAgIGNvbnN0IGluZGV4MSA9IHJvdyAqIDcgKyBjb2x1bW47XHJcbiAgICAgICAgICBpZiAoY29sdW1uID09IDApXHJcbiAgICAgICAgICAgIGRheXNbaW5kZXgxXS5ob2xpRGF5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuZGF5c0luTW9udGggPSBkYXlzO1xyXG4gIH1cclxuICBwcml2YXRlIGZpcmVDaGFuZ2VFdmVudCgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGF0ZUNoYW5nZWQuZW1pdCh0aGlzLmdldFNlbGVjdGVkRGF0ZU9iamVjdCk7XHJcbiAgfVxyXG4gIHByaXZhdGUgZmlyZVJhbmdlQ2hhbmdlRXZlbnQoKTogdm9pZCB7XHJcbiAgICB0aGlzLnJhbmdlRGF0ZUNoYW5nZWQuZW1pdCh0aGlzLmdldFNlbGVjdGVkUmFuZ2VEYXRlc09iamVjdCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlc2V0VG9GYWxzZVJhbmdlUGFyYW1ldGVyc0luTW9udGhEYXlzKCkge1xyXG4gICAgZm9yIChsZXQgSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheSBvZiB0aGlzLmRheXNJbk1vbnRoKSB7XHJcbiAgICAgIElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXkuaXNXaXRoaW5SYW5nZSA9IGZhbHNlO1xyXG4gICAgICBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF5LmlzU3RhcnRPckVuZE9mUmFuZ2UgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIMOYwrHDm8KMw5jCs8OYwqogw5rCqcOYwrHDmMKvw5nChiDDmMKqw5nChcOYwqfDmcKFw5vCjCDDmMKnw5jCt8OZwoTDmMKnw5jCucOYwqfDmMKqIMOYwrHDmcKIw5jCssOZwofDmMKnw5vCjCDDmcKFw5jCp8OZwodcclxuICAgKi9cclxuICBwcml2YXRlIHJlc2V0TW9udGhEYXlzV2l0aENvbnRlbnQoKSB7XHJcbiAgICBpZiAodGhpcy5kYXlzSW5Nb250aCA9PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgIGZvciAobGV0IElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXkgb2YgdGhpcy5kYXlzSW5Nb250aCkge1xyXG4gICAgICBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF5LmlzV2l0aGluUmFuZ2UgPSBmYWxzZTtcclxuICAgICAgSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheS5pc1N0YXJ0T3JFbmRPZlJhbmdlID0gZmFsc2U7XHJcbiAgICAgIElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXkuZGF5U3RyaW5nID0gdGhpcy5wZXJzaWFuQ2hhclxyXG4gICAgICAgID8gTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5LnRvUGVyc2lhbk51bWJlcihJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF5LmRheS50b1N0cmluZygpKVxyXG4gICAgICAgIDogSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheS5kYXkudG9TdHJpbmcoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIMOZwoXDmMKuw5nCgcObwowgw5rCqcOYwrHDmMKvw5nChiDDmMKow5nChMOYwqfDmsKpIMOZwofDmMKnw5vCjCDDmMKnw5nChsOYwqrDmMKuw5jCp8OYwqggw5nChcOYwqfDmcKHIMOZwoggw5jCs8OYwqfDmcKEXHJcbiAgICovXHJcbiAgaGlkZVNlbGVjTW9udGhBbmRZZWFyQmxvY2soKTogdm9pZCB7XHJcbiAgICB0aGlzLm1vbnRoT3JZZWFyU2VsZWN0b3JWaXNpYmlsaXR5U3RhdGVOYW1lID0gJ2hpZGRlbic7XHJcbiAgICB0aGlzLm1vbnRoU2VsZWN0b3JWaXNpYmlsaXR5U3RhdGVOYW1lID0gJ2hpZGRlbic7XHJcbiAgICB0aGlzLnllYXJTZWxlY3RvclZpc2liaWxpdHlTdGF0ZU5hbWUgPSAnaGlkZGVuJztcclxuICB9XHJcbiAgcmVzZXRJbmNvbXBsZXRlUmFuZ2VzKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID09IG51bGwgfHwgdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID09IG51bGwpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUgPSB0aGlzLnNlbGVjdGVkRW5kRGF0ZVRpbWUgPSBudWxsO1xyXG4gICAgICB0aGlzLl9zZWxlY3RlZFBlcnNpYW5TdGFydERhdGVUaW1lID0gdGhpcy5fc2VsZWN0ZWRQZXJzaWFuRW5kRGF0ZVRpbWUgPSBudWxsO1xyXG4gICAgICB0aGlzLnJlc2V0VG9GYWxzZVJhbmdlUGFyYW1ldGVyc0luTW9udGhEYXlzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDDmsKpw5nChMObwozDmsKpIMOYwrHDmcKIw5vCjCDDmMKvw5rCqcOZwoXDmcKHIMOZwobDmMKnw5nChSDDmcKFw5jCp8OZwocgw5jCr8OYwrEgw5jCqMOYwqfDmcKEw5jCp8Obwowgw5nCvsObwozDmsKpw5jCsSDDmMKow5jCscOYwqfDm8KMIMOYwqfDmcKGw5jCqsOYwq7DmMKnw5jCqCDDmcKFw5jCp8OZwodcclxuICAgKi9cclxuICBtb250aEJ1dHRvbk9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICB0aGlzLm1vbnRoT3JZZWFyU2VsZWN0b3JWaXNpYmlsaXR5U3RhdGVOYW1lID0gJ3Zpc2libGUnO1xyXG4gICAgdGhpcy5tb250aFNlbGVjdG9yVmlzaWJpbGl0eVN0YXRlTmFtZSA9ICd2aXNpYmxlJztcclxuICB9XHJcbiAgLyoqXHJcbiAgICogw5rCqcOZwoTDm8KMw5rCqSDDmMKxw5nCiMObwowgw5jCr8OawqnDmcKFw5nChyDDmMKzw5jCp8OZwoQgw5jCr8OYwrEgw5jCqMOYwqfDmcKEw5jCp8Obwowgw5nCvsObwozDmsKpw5jCsSDDmMKow5jCscOYwqfDm8KMIMOYwqfDmcKGw5jCqsOYwq7DmMKnw5jCqCDDmMKzw5jCp8OZwoRcclxuICAgKi9cclxuICBzZWxlY3RZZWFyQnV0dG9uT25DbGljaygpOiB2b2lkIHtcclxuICAgIHRoaXMubW9udGhPclllYXJTZWxlY3RvclZpc2liaWxpdHlTdGF0ZU5hbWUgPSAndmlzaWJsZSc7XHJcbiAgICB0aGlzLnllYXJTZWxlY3RvclZpc2liaWxpdHlTdGF0ZU5hbWUgPSAndmlzaWJsZSc7XHJcbiAgfVxyXG4gIG1vbnRoc0Jsb2NrVmlzaWJpbGl0eUFuaW1hdGlvbkRvbmUoKTogdm9pZCB7XHJcbiAgICB0aGlzLnVwZGF0ZU1vbnRoRGF5cygpO1xyXG4gIH1cclxuICB5ZWFyc0Jsb2NrVmlzaWJpbGl0eUFuaW1hdGlvbkRvbmUoKTogdm9pZCB7XHJcbiAgICB0aGlzLnVwZGF0ZVllYXJzTGlzdCgpO1xyXG4gICAgdGhpcy51cGRhdGVNb250aERheXMoKTtcclxuICB9XHJcbiAgbmV4dFllYXJCdXR0b25PbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuaXNQZXJzaWFuKVxyXG4gICAgICB0aGlzLmRhdGVUaW1lID0gdGhpcy5wZXJzaWFuRGF0ZVRpbWUuYWRkWWVhcnMoMSkudG9EYXRlKCk7XHJcbiAgICBlbHNlXHJcbiAgICAgIHRoaXMuZGF0ZVRpbWUgPSBuZXcgRGF0ZSh0aGlzLmRhdGVUaW1lLnNldEZ1bGxZZWFyKHRoaXMuZGF0ZVRpbWUuZ2V0RnVsbFllYXIoKSArIDEpKTtcclxuICAgIHRoaXMudXBkYXRlTW9udGhEYXlzKCk7XHJcbiAgfVxyXG4gIG5leHRNb250aEJ1dHRvbk9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5pc1BlcnNpYW4pXHJcbiAgICAgIHRoaXMuZGF0ZVRpbWUgPSB0aGlzLnBlcnNpYW5EYXRlVGltZS5hZGRNb250aHMoMSkudG9EYXRlKCk7XHJcbiAgICBlbHNlXHJcbiAgICAgIHRoaXMuZGF0ZVRpbWUgPSBuZXcgRGF0ZSh0aGlzLmRhdGVUaW1lLnNldE1vbnRoKHRoaXMuZGF0ZVRpbWUuZ2V0TW9udGgoKSArIDEpKTtcclxuICAgIHRoaXMudXBkYXRlTW9udGhEYXlzKCk7XHJcbiAgfVxyXG4gIHByZXZpb3VzTW9udGhCdXR0b25PbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuaXNQZXJzaWFuKVxyXG4gICAgICB0aGlzLmRhdGVUaW1lID0gdGhpcy5wZXJzaWFuRGF0ZVRpbWUuYWRkTW9udGhzKC0xKS50b0RhdGUoKTtcclxuICAgIGVsc2VcclxuICAgICAgdGhpcy5kYXRlVGltZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZVRpbWUuc2V0TW9udGgodGhpcy5kYXRlVGltZS5nZXRNb250aCgpIC0gMSkpO1xyXG4gICAgdGhpcy51cGRhdGVNb250aERheXMoKTtcclxuICB9XHJcbiAgcHJldmlvdXNZZWFyQnV0dG9uT25DbGljaygpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmlzUGVyc2lhbilcclxuICAgICAgdGhpcy5kYXRlVGltZSA9IHRoaXMucGVyc2lhbkRhdGVUaW1lLmFkZFllYXJzKC0xKS50b0RhdGUoKTtcclxuICAgIGVsc2VcclxuICAgICAgdGhpcy5kYXRlVGltZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZVRpbWUuc2V0RnVsbFllYXIodGhpcy5kYXRlVGltZS5nZXRGdWxsWWVhcigpIC0gMSkpO1xyXG4gICAgdGhpcy51cGRhdGVNb250aERheXMoKTtcclxuICB9XHJcbiAgaG91clVwQnV0dG9uT25DbGljaygpOiB2b2lkIHtcclxuICAgIHRoaXMuZGF0ZVRpbWUgPSBuZXcgRGF0ZSh0aGlzLmRhdGVUaW1lLnNldEhvdXJzKHRoaXMuZGF0ZVRpbWUuZ2V0SG91cnMoKSArIDEpKTtcclxuICB9XHJcbiAgaG91ckRvd25CdXR0b25PbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgdGhpcy5kYXRlVGltZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZVRpbWUuc2V0SG91cnModGhpcy5kYXRlVGltZS5nZXRIb3VycygpIC0gMSkpO1xyXG4gIH1cclxuICBtaW51dGVVcEJ1dHRvbk9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICB0aGlzLmRhdGVUaW1lID0gbmV3IERhdGUodGhpcy5kYXRlVGltZS5zZXRNaW51dGVzKHRoaXMuZGF0ZVRpbWUuZ2V0TWludXRlcygpICsgMSkpO1xyXG4gIH1cclxuICBtaW51dGVEb3duQnV0dG9uT25DbGljaygpOiB2b2lkIHtcclxuICAgIHRoaXMuZGF0ZVRpbWUgPSBuZXcgRGF0ZSh0aGlzLmRhdGVUaW1lLnNldE1pbnV0ZXModGhpcy5kYXRlVGltZS5nZXRNaW51dGVzKCkgLSAxKSk7XHJcbiAgfVxyXG4gIHNlY29uZFVwQnV0dG9uT25DbGljaygpOiB2b2lkIHtcclxuICAgIHRoaXMuZGF0ZVRpbWUgPSBuZXcgRGF0ZSh0aGlzLmRhdGVUaW1lLnNldFNlY29uZHModGhpcy5kYXRlVGltZS5nZXRTZWNvbmRzKCkgKyAxKSk7XHJcbiAgfVxyXG4gIHNlY29uZERvd25CdXR0b25PbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgdGhpcy5kYXRlVGltZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZVRpbWUuc2V0U2Vjb25kcyh0aGlzLmRhdGVUaW1lLmdldFNlY29uZHMoKSAtIDEpKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogw5jCp8OZwobDmMKqw5jCrsOYwqfDmMKoIMOZwoXDmMKnw5nChyDDmMKnw5jCsiDDmMKxw5nCiMObwowgw5nChMObwozDmMKzw5jCqiDDmcKFw5jCp8OZwocgw5nCh8OYwqdcclxuICAgKi9cclxuICBtb250aE9uQ2xpY2soc2VsZWN0ZWRNb250aE5hbWUpOiB2b2lkIHtcclxuICAgIGNvbnN0IG1vbnRoSW5kZXggPSB0aGlzLmlzUGVyc2lhblxyXG4gICAgICA/IFBlcnNpYW5EYXRlVGltZS5nZXRQZXJzaWFuTW9udGhJbmRleChzZWxlY3RlZE1vbnRoTmFtZSlcclxuICAgICAgOiBQZXJzaWFuRGF0ZVRpbWUuZ2V0R3JlZ29yaWFuTW9udGhOYW1lSW5kZXgoc2VsZWN0ZWRNb250aE5hbWUpO1xyXG4gICAgaWYgKHRoaXMuaXNQZXJzaWFuKVxyXG4gICAgICB0aGlzLmRhdGVUaW1lID0gdGhpcy5wZXJzaWFuRGF0ZVRpbWUuc2V0UGVyc2lhbk1vbnRoKG1vbnRoSW5kZXggKyAxKS50b0RhdGUoKTtcclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCBkYXRlVGltZUNsb25lID0gbmV3IERhdGUodGhpcy5kYXRlVGltZSk7XHJcbiAgICAgIGRhdGVUaW1lQ2xvbmUuc2V0TW9udGgobW9udGhJbmRleCk7XHJcbiAgICAgIHRoaXMuZGF0ZVRpbWUgPSBuZXcgRGF0ZShkYXRlVGltZUNsb25lKTtcclxuICAgIH1cclxuICAgIHRoaXMuaGlkZVNlbGVjTW9udGhBbmRZZWFyQmxvY2soKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogw5jCp8OZwobDmMKqw5jCrsOYwqfDmMKoIMOYwrPDmMKnw5nChCDDmMKnw5jCsiDDmMKxw5nCiMObwowgw5nChMObwozDmMKzw5jCqiDDmMKzw5jCp8OZwoQgw5nCh8OYwqdcclxuICAgKi9cclxuICB5ZWFyT25DbGljayhzZWxlY3RlZFllYXIpOiB2b2lkIHtcclxuICAgIGNvbnN0IHllYXIgPSB0aGlzLmlzUGVyc2lhbiA/IE51bWJlcihNZHNEYXRldGltZVBpY2tlclV0aWxpdHkudG9FbmdsaXNoTnVtYmVyKHNlbGVjdGVkWWVhcikpIDogTnVtYmVyKHNlbGVjdGVkWWVhcik7XHJcbiAgICBpZiAodGhpcy5pc1BlcnNpYW4pXHJcbiAgICAgIHRoaXMuZGF0ZVRpbWUgPSB0aGlzLnBlcnNpYW5EYXRlVGltZS5zZXRQZXJzaWFuWWVhcih5ZWFyKS50b0RhdGUoKTtcclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCBkYXRlVGltZUNsb25lID0gbmV3IERhdGUodGhpcy5kYXRlVGltZSk7XHJcbiAgICAgIGRhdGVUaW1lQ2xvbmUuc2V0RnVsbFllYXIoeWVhcik7XHJcbiAgICAgIHRoaXMuZGF0ZVRpbWUgPSBuZXcgRGF0ZShkYXRlVGltZUNsb25lKTtcclxuICAgIH1cclxuICAgIHRoaXMuaGlkZVNlbGVjTW9udGhBbmRZZWFyQmxvY2soKTtcclxuICB9XHJcbiAgdG9kYXlCdXR0b25PbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgY29uc3QgZGF0ZVRpbWVOb3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgaWYgKHRoaXMuZGF0ZVRpbWUuZ2V0RnVsbFllYXIoKSAhPSBkYXRlVGltZU5vdy5nZXRGdWxsWWVhcigpIHx8IHRoaXMuZGF0ZVRpbWUuZ2V0TW9udGgoKSAhPSBkYXRlVGltZU5vdy5nZXRNb250aCgpKSB7XHJcbiAgICAgIHRoaXMuZGF0ZVRpbWUgPSBkYXRlVGltZU5vdztcclxuICAgICAgdGhpcy51cGRhdGVNb250aERheXMoKTtcclxuICAgIH0gZWxzZVxyXG4gICAgICB0aGlzLmRhdGVUaW1lID0gZGF0ZVRpbWVOb3c7XHJcbiAgICB0aGlzLnNlbGVjdGVkRGF0ZVRpbWUgPSBkYXRlVGltZU5vdztcclxuICAgIGlmICghdGhpcy5yYW5nZVNlbGVjdG9yKSB0aGlzLmZpcmVDaGFuZ2VFdmVudCgpO1xyXG4gIH1cclxuICBkYXlCdXR0b25PbkNsaWNrKGRheU9iamVjdDogSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheSk6IHZvaWQge1xyXG4gICAgLy8gw5jCscOZwojDm8KMIMOYwrHDmcKIw5jCssOZwofDmMKnw5vCjCDDmcKFw5jCp8OZwocgw5nCh8OYwqfDm8KMIMOZwoLDmMKow5nChCDDm8KMw5jCpyDDmMKow5jCucOYwq8gw5rCqcOZwoTDm8KMw5rCqSDDmMK0w5jCr8OZwocgw5jCp8OYwrPDmMKqXHJcbiAgICBpZiAoZGF5T2JqZWN0LmRpc2FibGUpIHtcclxuICAgICAgaWYgKHRoaXMuaXNQZXJzaWFuKVxyXG4gICAgICAgIHRoaXMuZGF0ZVRpbWUgPSBQZXJzaWFuRGF0ZVRpbWUuZnJvbVBlcnNpYW5EYXRlKGRheU9iamVjdC55ZWFyLCBkYXlPYmplY3QubW9udGgsIGRheU9iamVjdC5kYXkpLnRvRGF0ZSgpO1xyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBkYXRlVGltZUNsb25lID0gbmV3IERhdGUodGhpcy5kYXRlVGltZSk7XHJcbiAgICAgICAgZGF0ZVRpbWVDbG9uZS5zZXREYXRlKGRheU9iamVjdC5kYXkpO1xyXG4gICAgICAgIGRhdGVUaW1lQ2xvbmUuc2V0TW9udGgoZGF5T2JqZWN0Lm1vbnRoKTtcclxuICAgICAgICBkYXRlVGltZUNsb25lLnNldEZ1bGxZZWFyKGRheU9iamVjdC55ZWFyKTtcclxuICAgICAgICB0aGlzLmRhdGVUaW1lID0gZGF0ZVRpbWVDbG9uZTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnVwZGF0ZU1vbnRoRGF5cygpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gw5nChsOYwqfDmcKEIMOawqnDmMKxw5jCr8OZwoYgw5jCqsOYwqfDmMKxw5vCjMOYwq4gw5nCh8OYwqfDm8KMIMOYwrTDmMKxw5nCiMOYwrkgw5nCiCDDmcK+w5jCp8ObwozDmMKnw5nChiDDmMKow5jCscOYwqfDm8KMIMOYwqfDmcKGw5jCqsOYwq7DmMKnw5jCqCDDmcKFw5jCrMOYwq/DmMKvIMOYwrHDmcKGw5jCrCDDmMKqw5jCp8OYwrHDm8KMw5jCriBcclxuICAgIC8vIMOYwq/DmMKxIMOYwrXDmcKIw5jCscOYwqrDm8KMIMOawqnDmcKHIMOYwrHDmcKGw5jCrCDDmsKvw5jCscOZwoHDmMKqw5nChyDDmMK0w5jCr8OZwocgw5jCqMOZwojDmMKvXHJcbiAgICBpZiAodGhpcy5yYW5nZVNlbGVjdG9yICYmIHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lICE9IG51bGwgJiYgdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lICE9IG51bGwpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUgPSBudWxsO1xyXG4gICAgICB0aGlzLnNlbGVjdGVkRW5kRGF0ZVRpbWUgPSBudWxsO1xyXG4gICAgICB0aGlzLnJlc2V0VG9GYWxzZVJhbmdlUGFyYW1ldGVyc0luTW9udGhEYXlzKCk7XHJcbiAgICB9XHJcbiAgICAvLyBcXFxcXHJcblxyXG4gICAgLy8gw5jCscOZwojDmMKyIMOYwqfDmcKGw5jCqsOYwq7DmMKnw5jCqCDDmMK0w5jCr8OZwodcclxuICAgIHRoaXMuc2VsZWN0ZWREYXRlVGltZSA9IHRoaXMuaXNQZXJzaWFuXHJcbiAgICAgID8gUGVyc2lhbkRhdGVUaW1lLmZyb21QZXJzaWFuRGF0ZVRpbWUoZGF5T2JqZWN0LnllYXIsIGRheU9iamVjdC5tb250aCwgZGF5T2JqZWN0LmRheSwgdGhpcy5ob3VyLCB0aGlzLm1pbnV0ZSwgdGhpcy5zZWNvbmQsIDApLnRvRGF0ZSgpXHJcbiAgICAgIDogbmV3IERhdGUoZGF5T2JqZWN0LnllYXIsIGRheU9iamVjdC5tb250aCwgZGF5T2JqZWN0LmRheSwgdGhpcy5ob3VyLCB0aGlzLm1pbnV0ZSwgdGhpcy5zZWNvbmQpO1xyXG5cclxuICAgIGlmICh0aGlzLnJhbmdlU2VsZWN0b3IpIHtcclxuICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID09IG51bGwgfHwgdGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUgPj0gdGhpcy5zZWxlY3RlZERhdGVUaW1lKSB7XHJcbiAgICAgICAgdGhpcy5yZXNldFRvRmFsc2VSYW5nZVBhcmFtZXRlcnNJbk1vbnRoRGF5cygpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID0gdGhpcy5zZWxlY3RlZERhdGVUaW1lO1xyXG4gICAgICAgIGRheU9iamVjdC5pc1N0YXJ0T3JFbmRPZlJhbmdlID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkRW5kRGF0ZVRpbWUgPSB0aGlzLnNlbGVjdGVkRGF0ZVRpbWU7XHJcbiAgICAgICAgZGF5T2JqZWN0LmlzU3RhcnRPckVuZE9mUmFuZ2UgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5yYW5nZVNlbGVjdG9yICYmIHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lICE9IG51bGwgJiYgdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lICE9IG51bGwpXHJcbiAgICAgIHRoaXMuZmlyZVJhbmdlQ2hhbmdlRXZlbnQoKTtcclxuICAgIGVsc2UgaWYgKCF0aGlzLnJhbmdlU2VsZWN0b3IpXHJcbiAgICAgIHRoaXMuZmlyZUNoYW5nZUV2ZW50KCk7XHJcbiAgfVxyXG4gIGRheUJ1dHRvbk9uSG92ZXIoZGF5T2JqZWN0OiBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF5KTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuaXNSYW5nZVNlbGVjdG9yUmVhZHkpIHJldHVybjtcclxuICAgIC8vIMOYwqrDmMKnw5jCscObwozDmMKuIMOYwrHDmcKIw5jCssObwowgw5rCqcOZwocgw5nChcOZwojDmMKzIMOYwrHDmcKIw5vCjCDDmMKiw5nChiDDmMKnw5jCs8OYwqpcclxuICAgIGxldCBob3ZlckNlbGxEYXRlOiBEYXRlID0gdGhpcy5pc1BlcnNpYW5cclxuICAgICAgPyBQZXJzaWFuRGF0ZVRpbWUuZnJvbVBlcnNpYW5EYXRlKGRheU9iamVjdC55ZWFyLCBkYXlPYmplY3QubW9udGgsIGRheU9iamVjdC5kYXkpLnRvRGF0ZSgpXHJcbiAgICAgIDogbmV3IERhdGUoZGF5T2JqZWN0LnllYXIsIGRheU9iamVjdC5tb250aCwgZGF5T2JqZWN0LmRheSk7XHJcbiAgICBmb3IgKGxldCBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF5IG9mIHRoaXMuZGF5c0luTW9udGgpIHtcclxuICAgICAgbGV0IGN1cnJlbnREYXRlOiBEYXRlID0gdGhpcy5pc1BlcnNpYW5cclxuICAgICAgICA/IFBlcnNpYW5EYXRlVGltZS5mcm9tUGVyc2lhbkRhdGUoSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheS55ZWFyLCBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF5Lm1vbnRoLCBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF5LmRheSkudG9EYXRlKClcclxuICAgICAgICA6IG5ldyBEYXRlKElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXkueWVhciwgSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheS5tb250aCwgSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRheS5kYXkpO1xyXG4gICAgICBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF5LmlzV2l0aGluUmFuZ2UgPSBjdXJyZW50RGF0ZSA+PSB0aGlzLnNlbGVjdGVkU3RhcnREYXRlVGltZSAmJiBjdXJyZW50RGF0ZSA8PSBob3ZlckNlbGxEYXRlO1xyXG4gICAgfVxyXG4gIH1cclxuICByZWplY3RCdXR0b25PbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgdGhpcy5zZWxlY3RlZERhdGVUaW1lID0gbnVsbDtcclxuICAgIHRoaXMuc2VsZWN0ZWRTdGFydERhdGVUaW1lID0gdGhpcy5zZWxlY3RlZEVuZERhdGVUaW1lID0gbnVsbDtcclxuICAgIHRoaXMucmVzZXRUb0ZhbHNlUmFuZ2VQYXJhbWV0ZXJzSW5Nb250aERheXMoKTtcclxuICAgIHRoaXMuZmlyZVJhbmdlQ2hhbmdlRXZlbnQoKTtcclxuICB9XHJcbiAgY29uZmlybUJ1dHRvbk9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5zZWxlY3RlZFN0YXJ0RGF0ZVRpbWUgIT0gbnVsbCAmJiB0aGlzLnNlbGVjdGVkRW5kRGF0ZVRpbWUgIT0gbnVsbClcclxuICAgICAgdGhpcy5maXJlUmFuZ2VDaGFuZ2VFdmVudCgpO1xyXG4gIH1cclxufSIsImltcG9ydCB7IEFmdGVyVmlld0luaXQsIENvbXBvbmVudCwgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBmb3J3YXJkUmVmLCBJbnB1dCwgT25Jbml0LCBPdXRwdXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBDb250cm9sVmFsdWVBY2Nlc3NvciwgRm9ybUNvbnRyb2wsIE5HX1ZBTFVFX0FDQ0VTU09SIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBNZHMgfSBmcm9tICdtZHMucGVyc2lhbi5kYXRldGltZSc7XHJcbmltcG9ydCB7IFRlbXBsYXRlVHlwZUVudW0sIFRleHRCb3hUeXBlRW51bSB9IGZyb20gJy4vY2xhc3Nlcy9lbnVtcyc7XHJcbmltcG9ydCB7IElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlLCBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRXZlbnRNb2RlbCwgSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlclJhbmdlRGF0ZSwgSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRhdGVNb2RlbCB9IGZyb20gJy4vY2xhc3Nlcy9pbnRlcmZhY2VzJztcclxuaW1wb3J0IHsgTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5IH0gZnJvbSAnLi9jbGFzc2VzL21kcy1kYXRldGltZS1waWNrZXIudXRpbGl0eSc7XHJcbmltcG9ydCB7IE1kc0FuZ3VsYXJQZXJzaWFuRGF0ZVRpbWVQaWNrZXJDb3JlQ29tcG9uZW50IH0gZnJvbSAnLi9jb3JlL21kcy1hbmd1bGFyLXBlcnNpYW4tZGF0ZS10aW1lLXBpY2tlci1jb3JlLmNvbXBvbmVudCc7XHJcbmltcG9ydCBQZXJzaWFuRGF0ZVRpbWUgPSBNZHMuUGVyc2lhbkRhdGVUaW1lO1xyXG5cclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnbWRzLWFuZ3VsYXItcGVyc2lhbi1kYXRldGltZXBpY2tlcicsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL21kcy1hbmd1bGFyLXBlcnNpYW4tZGF0ZS10aW1lLXBpY2tlci5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vbWRzLWFuZ3VsYXItcGVyc2lhbi1kYXRlLXRpbWUtcGlja2VyLmNvbXBvbmVudC5jc3MnXSxcclxuICBwcm92aWRlcnM6XHJcbiAgICBbXHJcbiAgICAgIHtcclxuICAgICAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcclxuICAgICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBNZHNBbmd1bGFyUGVyc2lhbkRhdGVUaW1lUGlja2VyQ29tcG9uZW50KSxcclxuICAgICAgICBtdWx0aTogdHJ1ZVxyXG4gICAgICB9XHJcbiAgICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBNZHNBbmd1bGFyUGVyc2lhbkRhdGVUaW1lUGlja2VyQ29tcG9uZW50IGltcGxlbWVudHMgQ29udHJvbFZhbHVlQWNjZXNzb3IsIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZWxlbWVudDogRWxlbWVudFJlZikge1xyXG4gICAgY29uc3QgZG9jID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2h0bWwnKVswXTtcclxuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICBsZXQgdGFyZ2V0RWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgaWYgKHRoaXMuc2hvd0RhdGVQaWNrZXIgJiYgZXZlbnQudGFyZ2V0ICYmXHJcbiAgICAgICAgdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQgIT09IGV2ZW50LnRhcmdldCAmJlxyXG4gICAgICAgICF0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudC5jb250YWlucyhldmVudC50YXJnZXQpICYmXHJcbiAgICAgICAgIXRhcmdldEVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLW1kcy1wZXJzaWFuLWRhdGV0aW1lcGlja2VyJykpIHtcclxuICAgICAgICB0aGlzLnNob3dEYXRlUGlja2VyID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5tZHNEYXRlVGltZVBpY2tlckNvcmUuaGlkZVNlbGVjTW9udGhBbmRZZWFyQmxvY2soKTtcclxuICAgICAgICB0aGlzLm1kc0RhdGVUaW1lUGlja2VyQ29yZS5yZXNldEluY29tcGxldGVSYW5nZXMoKTtcclxuICAgICAgfVxyXG4gICAgfSwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICAvLyB0aGlzLmluaXRpYWxWYWx1ZSA9ICF0aGlzLnBlcnNpYW5DaGFyID8gTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5LnRvRW5nbGlzaFN0cmluZyh0aGlzLmluaXRpYWxWYWx1ZSkgOiBNZHNEYXRldGltZVBpY2tlclV0aWxpdHkudG9QZXJzaWFuTnVtYmVyKHRoaXMuaW5pdGlhbFZhbHVlKTtcclxuICAgIC8vIGlmICh0aGlzLmluaXRpYWxWYWx1ZSAhPSAnJyAmJiB0aGlzLnJhbmdlU2VsZWN0b3IpIHtcclxuICAgIC8vICAgaWYgKHRoaXMuaXNQZXJzaWFuKVxyXG4gICAgLy8gICAgIE1kc0RhdGV0aW1lUGlja2VyVXRpbGl0eS5nZXRQZXJzaWFuRGF0ZVJhbmdlcyh0aGlzLmluaXRpYWxWYWx1ZSk7XHJcbiAgICAvLyAgIGVsc2VcclxuICAgIC8vICAgICBNZHNEYXRldGltZVBpY2tlclV0aWxpdHkuZ2V0RGF0ZVJhbmdlcyh0aGlzLmluaXRpYWxWYWx1ZSk7XHJcbiAgICAvLyB9XHJcbiAgICAvLyB0aGlzLm15Q29udHJvbC5zZXRWYWx1ZSh0aGlzLmluaXRpYWxWYWx1ZSk7XHJcbiAgICBpZiAoIXRoaXMuaXNQZXJzaWFuKSB0aGlzLnBlcnNpYW5DaGFyID0gZmFsc2U7XHJcbiAgfVxyXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcclxuICAgIHRoaXMuYWZ0ZXJWaWV3SW5pdCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBAVmlld0NoaWxkKCdtZHNEYXRlVGltZVBpY2tlckNvcmUnKSBwcml2YXRlIG1kc0RhdGVUaW1lUGlja2VyQ29yZTogTWRzQW5ndWxhclBlcnNpYW5EYXRlVGltZVBpY2tlckNvcmVDb21wb25lbnQ7XHJcblxyXG4gIC8vI3JlZ2lvbiBJbnB1dCBPdXRQdXRcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIMOYwqfDmMKyIMOYwqjDmcKIw5jCqiDDmMKnw5jCs8OYwqrDmMKxw5nCviDDmMKnw5jCs8OYwqrDmcKBw5jCp8OYwq/DmcKHIMOYwrTDmcKIw5jCryDDm8KMw5jCpyDDmcKFw5jCqsOYwrHDm8KMw5jCp8OZwoRcclxuICAgKiBUZW1wbGF0ZVR5cGVFbnVtXHJcbiAgICovXHJcbiAgQElucHV0KCkgdGVtcGxhdGVUeXBlOiBUZW1wbGF0ZVR5cGVFbnVtID0gVGVtcGxhdGVUeXBlRW51bS5ib290c3RyYXA7XHJcblxyXG4gIC8qKlxyXG4gICAqIMOZwobDmcKIw5jCuSDDmcKGw5nChcOYwqfDm8KMw5jCtCDDmMKqw5rCqcOYwrMgw5jCqMOYwqfDmsKpw5jCs1xyXG4gICAqIFRleHRCb3hUeXBlRW51bVxyXG4gICAqL1xyXG4gIEBJbnB1dCgpIHRleHRCb3hUeXBlOiBUZXh0Qm94VHlwZUVudW0gPSBUZXh0Qm94VHlwZUVudW0ud2l0aEJ1dHRvbjtcclxuICAvKipcclxuICAgKiDDmcKFw5nCgsOYwq/DmMKnw5jCsSDDmMKnw5nCiMOZwoTDm8KMw5nCh1xyXG4gICAqL1xyXG4gIEBJbnB1dCgpIGluaXRpYWxWYWx1ZSA9ICcnO1xyXG4gIC8qKlxyXG4gICAqIMOZwobDmcKIw5jCuSDDmcKGw5nChcOYwqfDm8KMw5jCtCDDmMKvw5vCjMOYwqogw5nCvsObwozDmsKpw5jCsSDDmMKow5nChyDDmMK1w5nCiMOYwrHDmMKqIMOYwqfDm8KMw5nChiDDmcKEw5jCp8ObwozDmcKGIMOYwqjDmMKnw5jCtMOYwq8gw5vCjMOYwqcgw5nChsOZwodcclxuICAgKi9cclxuICBASW5wdXQoKSBpbkxpbmUgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIMOYwqLDm8KMw5jCpyDDmMKnw5jCsiDDmsKpw5jCp8OYwrHDmMKnw5rCqcOYwqrDmMKxw5nCh8OYwqfDm8KMIMOZwoHDmMKnw5jCscOYwrPDm8KMIMOYwqfDmMKzw5jCqsOZwoHDmMKnw5jCr8OZwocgw5jCtMOZwojDmMKvXHJcbiAgICogw5nCiMOZwoLDmMKqw5vCjCDDmMKqw5nCgsOZwojDm8KMw5nChSDDmcKFw5vCjMOZwoTDmMKnw5jCr8Obwowgw5jCp8OYwrPDmMKqIMOYwqjDmMKvw5nCiMOZwoYgw5jCqsOYwqfDmMKrw5vCjMOYwrEgw5nChcObwowgw5jCtMOZwojDmMKvXHJcbiAgICovXHJcbiAgQElucHV0KCkgcGVyc2lhbkNoYXIgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIMOYwqLDm8KMw5jCpyDDmMKvw5vCjMOYwqogw5nCvsObwozDmsKpw5jCsSDDmMKow5nChyDDmMK0w5rCqcOZwoQgw5jCp8OZwobDmMKqw5jCrsOYwqfDmMKoIMOYwrHDmcKGw5jCrCDDmMKqw5jCp8OYwrHDm8KMw5jCrsObwowgw5jCqMOYwqfDmMK0w5jCryDDm8KMw5jCpyDDmcKGw5nCh1xyXG4gICAqL1xyXG4gIEBJbnB1dCgpIHJhbmdlU2VsZWN0b3IgPSBmYWxzZTtcclxuICAvKipcclxuICAgKiDDmMKqw5nCgsOZwojDm8KMw5nChSDDmcKFw5vCjMOZwoTDmMKnw5jCr8Obwowgw5jCqMOYwqfDmMK0w5jCryDDm8KMw5jCpyDDmMK0w5nChcOYwrPDm8KMXHJcbiAgICovXHJcbiAgQElucHV0KCkgaXNQZXJzaWFuID0gdHJ1ZTtcclxuICAvKipcclxuICAgKiDDmMKiw5vCjMOYwqcgw5jCqsOYwqfDm8KMw5nChSDDmcK+w5vCjMOawqnDmMKxIMOZwobDmcKFw5jCp8ObwozDmMK0IMOYwq/DmMKnw5jCr8OZwocgw5jCqMOYwrTDmcKIw5jCryDDm8KMw5jCpyDDmcKGw5nCh1xyXG4gICAqIMOYwq/DmMKxIMOZwobDmcKIw5jCuSDDmMKnw5nChsOYwqrDmMKuw5jCp8OYwqggw5jCscOZwobDmMKsIMOYwqrDmMKnw5jCscObwozDmMKuw5vCjCDDmMKow5jCr8OZwojDmcKGIMOYwqrDmMKnw5jCq8ObwozDmMKxIMOYwqfDmMKzw5jCqlxyXG4gICAqL1xyXG4gIEBJbnB1dCgpIHRpbWVQaWNrZXIgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIFBsYWNlSG9sZGVyXHJcbiAgICovXHJcbiAgQElucHV0KCkgcGxhY2VIb2xkZXIgPSAnJztcclxuICAvKipcclxuICAgKiDDmMKiw5vCjMOawqnDmcKIw5nChlxyXG4gICAqL1xyXG4gIEBJbnB1dCgpIGJ1dHRvbkljb24gPSAnw63CoMK9w63Cs8KFJztcclxuICAvKipcclxuICAgICogw5nCgcOYwrHDmcKFw5jCqiDDmcK+w5vCjMOYwrQgw5nCgcOYwrHDmMK2IDEzOTMvMDkvMTQgICAxMzo0OTo0MCBcclxuICAgICogeXl5eTogw5jCs8OYwqfDmcKEIMOawobDmcKHw5jCp8OYwrEgw5jCscOZwoLDmcKFw5vCjCBcclxuICAgICogeXk6IMOYwrPDmMKnw5nChCDDmMKvw5nCiCDDmMKxw5nCgsOZwoXDm8KMIFxyXG4gICAgKiBNTU1NOiDDmcKGw5jCp8OZwoUgw5nCgcOYwqfDmMKxw5jCs8Obwowgw5nChcOYwqfDmcKHIFxyXG4gICAgKiBNTTogw5jCucOYwq/DmMKvIMOYwq/DmcKIIMOYwrHDmcKCw5nChcObwowgw5nChcOYwqfDmcKHIFxyXG4gICAgKiBNOiDDmMK5w5jCr8OYwq8gw5vCjMOawqkgw5jCscOZwoLDmcKFw5vCjCDDmcKFw5jCp8OZwocgXHJcbiAgICAqIGRkZGQ6IMOZwobDmMKnw5nChSDDmcKBw5jCp8OYwrHDmMKzw5vCjCDDmMKxw5nCiMOYwrIgw5nCh8OZwoHDmMKqw5nChyBcclxuICAgICogZGQ6IMOYwrnDmMKvw5jCryDDmMKvw5nCiCDDmMKxw5nCgsOZwoXDm8KMIMOYwrHDmcKIw5jCsiDDmcKFw5jCp8OZwocgXHJcbiAgICAqIGQ6IMOYwrnDmMKvw5jCryDDm8KMw5rCqSDDmMKxw5nCgsOZwoXDm8KMIMOYwrHDmcKIw5jCsiDDmcKFw5jCp8OZwocgXHJcbiAgICAqIEhIOiDDmMKzw5jCp8OYwrnDmMKqIMOYwq/DmcKIIMOYwrHDmcKCw5nChcObwowgw5jCqMOYwqcgw5nCgcOYwrHDmcKFw5jCqiAwMCDDmMKqw5jCpyAyNCBcclxuICAgICogSDogw5jCs8OYwqfDmMK5w5jCqiDDm8KMw5rCqSDDmMKxw5nCgsOZwoXDm8KMIMOYwqjDmMKnIMOZwoHDmMKxw5nChcOYwqogMCDDmMKqw5jCpyAyNCBcclxuICAgICogaGg6IMOYwrPDmMKnw5jCucOYwqogw5jCr8OZwoggw5jCscOZwoLDmcKFw5vCjCDDmMKow5jCpyDDmcKBw5jCscOZwoXDmMKqIDAwIMOYwqrDmMKnIDEyIFxyXG4gICAgKiBoOiDDmMKzw5jCp8OYwrnDmMKqIMObwozDmsKpIMOYwrHDmcKCw5nChcObwowgw5jCqMOYwqcgw5nCgcOYwrHDmcKFw5jCqiAwIMOYwqrDmMKnIDEyIFxyXG4gICAgKiBtbTogw5jCucOYwq/DmMKvIMOYwq/DmcKIIMOYwrHDmcKCw5nChcObwowgw5jCr8OZwoLDm8KMw5nCgsOZwocgXHJcbiAgICAqIG06IMOYwrnDmMKvw5jCryDDm8KMw5rCqSDDmMKxw5nCgsOZwoXDm8KMIMOYwq/DmcKCw5vCjMOZwoLDmcKHIFxyXG4gICAgKiBzczogw5jCq8OYwqfDmcKGw5vCjMOZwocgw5jCr8OZwoggw5jCscOZwoLDmcKFw5vCjCBcclxuICAgICogczogw5jCq8OYwqfDmcKGw5vCjMOZwocgw5vCjMOawqkgw5jCscOZwoLDmcKFw5vCjCBcclxuICAgICogZmZmOiDDmcKFw5vCjMOZwoTDm8KMIMOYwqvDmMKnw5nChsObwozDmcKHIDMgw5jCscOZwoLDmcKFw5vCjCBcclxuICAgICogZmY6IMOZwoXDm8KMw5nChMObwowgw5jCq8OYwqfDmcKGw5vCjMOZwocgMiDDmMKxw5nCgsOZwoXDm8KMIFxyXG4gICAgKiBmOiDDmcKFw5vCjMOZwoTDm8KMIMOYwqvDmMKnw5nChsObwozDmcKHIMObwozDmsKpIMOYwrHDmcKCw5nChcObwowgXHJcbiAgICAqIHR0OiDDmMKoLsOYwrggw5vCjMOYwqcgw5nCgi7DmMK4IFxyXG4gICAgKiB0OiDDmMKtw5jCscOZwoEgw5jCp8OZwojDmcKEIMOYwqfDmMKyIMOYwqguw5jCuCDDm8KMw5jCpyDDmcKCLsOYwrggXHJcbiAgICAqKi9cclxuICBASW5wdXQoKSBmb3JtYXQgPSAnJztcclxuXHJcbiAgLyoqXHJcbiAgICogw5nCiMOZwoLDmMKqw5vCjCDDmMKqw5jCp8OYwrHDm8KMw5jCriDDmMKnw5nChsOYwqrDmMKuw5jCp8OYwqjDm8KMIMOYwrnDmcKIw5jCtiDDmcKFw5vCjCDDmMK0w5nCiMOYwq8gw5jCp8ObwozDmcKGIMOYwqfDmcKIw5nChsOYwqogw5nCgcOYwrHDmMKnw5jCrsOZwojDmMKnw5nChsObwowgw5nChcObwowgw5jCtMOZwojDmMKvXHJcbiAgICovXHJcbiAgQE91dHB1dCgpIGRhdGVDaGFuZ2VkID0gbmV3IEV2ZW50RW1pdHRlcjxJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRGF0ZT4oKTtcclxuICAvKipcclxuICAgKiDDmcKIw5nCgsOYwqrDm8KMIMOYwrHDmcKGw5jCrCDDmMKqw5jCp8OYwrHDm8KMw5jCrsObwowgw5jCp8OZwobDmMKqw5jCrsOYwqfDmMKoIMOYwrTDmMKvw5nChyDDmMK5w5nCiMOYwrYgw5nChcObwowgw5jCtMOZwojDmMKvIMOYwqfDm8KMw5nChiDDmMKnw5nCiMOZwobDmMKqIMOZwoHDmMKxw5jCp8OYwq7DmcKIw5jCp8OZwobDm8KMIMOZwoXDm8KMIMOYwrTDmcKIw5jCr1xyXG4gICAqL1xyXG4gIEBPdXRwdXQoKSByYW5nZURhdGVDaGFuZ2VkID0gbmV3IEV2ZW50RW1pdHRlcjxJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyUmFuZ2VEYXRlPigpO1xyXG4gIC8qKlxyXG4gICAqIMOZwojDmcKCw5jCqsObwowgw5rCqcOZwoTDm8KMw5jCr8Obwowgw5jCscOZwojDm8KMIMOYwqrDmsKpw5jCsyDDmMKow5jCp8OawqnDmMKzIMOYwqfDmcKGw5jCqsOYwq7DmMKnw5jCqCDDmMKqw5jCp8OYwrHDm8KMw5jCriDDmcKBw5jCtMOYwrHDmMKvw5nChyDDmcKFw5vCjCDDmMK0w5nCiMOYwq8gw5jCp8ObwozDmcKGIMOYwqfDmcKIw5nChsOYwqogw5nCgcOYwrHDmMKnw5jCrsOZwojDmMKnw5nChsObwowgw5nChcObwowgw5jCtMOZwojDmMKvXHJcbiAgICovXHJcbiAgQE91dHB1dCgpIHRleHRCb3hLZXlEb3duID0gbmV3IEV2ZW50RW1pdHRlcjxJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRXZlbnRNb2RlbD4oKTtcclxuICAvKipcclxuICAgKiDDmcKIw5nCgsOYwqrDm8KMIMOYwrHDmcKIw5vCjCDDmMKqw5rCqcOYwrMgw5jCqMOYwqfDmsKpw5jCsyDDmMKnw5nChsOYwqrDmMKuw5jCp8OYwqggw5jCqsOYwqfDmMKxw5vCjMOYwq4gw5jCqMOZwoTDmcKIw5jCsSDDmcKFw5vCjCDDmMK0w5nCiMOYwq8gw5jCp8ObwozDmcKGIMOYwqfDmcKIw5nChsOYwqogw5nCgcOYwrHDmMKnw5jCrsOZwojDmMKnw5nChsObwowgw5nChcObwowgw5jCtMOZwojDmMKvXHJcbiAgICovXHJcbiAgQE91dHB1dCgpIHRleHRCb3hCbHVyID0gbmV3IEV2ZW50RW1pdHRlcjxJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRXZlbnRNb2RlbD4oKTtcclxuICAvKipcclxuICAgKiDDmcKIw5nCgsOYwqrDm8KMIMOYwrHDmcKIw5vCjCDDmMKqw5rCqcOYwrMgw5jCqMOYwqfDmsKpw5jCsyDDmMKnw5nChsOYwqrDmMKuw5jCp8OYwqggw5jCqsOYwqfDmMKxw5vCjMOYwq4gw5nCgcOZwojDmsKpw5nCiMOYwrMgw5nChcObwowgw5jCtMOZwojDmMKvIMOYwqfDm8KMw5nChiDDmMKnw5nCiMOZwobDmMKqIMOZwoHDmMKxw5jCp8OYwq7DmcKIw5jCp8OZwobDm8KMIMOZwoXDm8KMIMOYwrTDmcKIw5jCr1xyXG4gICAqL1xyXG4gIEBPdXRwdXQoKSB0ZXh0Qm94Rm9jdXMgPSBuZXcgRXZlbnRFbWl0dGVyPElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJFdmVudE1vZGVsPigpO1xyXG4gIC8qKlxyXG4gICAqIMOZwojDmcKCw5jCqsObwowgw5jCscOZwojDm8KMIMOYwqrDmsKpw5jCsyDDmMKow5jCp8OawqnDmMKzIMOYwqfDmcKGw5jCqsOYwq7DmMKnw5jCqCDDmMKqw5jCp8OYwrHDm8KMw5jCriDDmMKqw5jCusObwozDm8KMw5jCscObwowgw5jCp8ObwozDmMKsw5jCp8OYwq8gw5nChcObwowgw5jCtMOZwojDmMKvIMOYwqfDm8KMw5nChiDDmMKnw5nCiMOZwobDmMKqIMOZwoHDmMKxw5jCp8OYwq7DmcKIw5jCp8OZwobDm8KMIMOZwoXDm8KMIMOYwrTDmcKIw5jCr1xyXG4gICAqL1xyXG4gIEBPdXRwdXQoKSB0ZXh0Qm94Q2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyRXZlbnRNb2RlbD4oKTtcclxuXHJcbiAgLy8jZW5kcmVnaW9uXHJcblxyXG4gIG15Q29udHJvbCA9IG5ldyBGb3JtQ29udHJvbCgpO1xyXG4gIHByaXZhdGUgYWZ0ZXJWaWV3SW5pdCA9IGZhbHNlO1xyXG4gIHByaXZhdGUgaW5DbGVhckZ1bmN0aW9uID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBzaG93aW5nRGF0ZVRpbWVQaWNrZXJMb2NrZWQgPSBmYWxzZTtcclxuICBzaG93RGF0ZVBpY2tlciA9IGZhbHNlO1xyXG5cclxuICBwcml2YXRlIF9zZWxlY3RlZERhdGVUaW1lOiBEYXRlID0gbnVsbDtcclxuICBnZXQgc2VsZWN0ZWREYXRlVGltZSgpOiBEYXRlIHtcclxuICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZERhdGVUaW1lO1xyXG4gIH1cclxuICBzZXQgc2VsZWN0ZWREYXRlVGltZSh2YWx1ZTogRGF0ZSkge1xyXG4gICAgaWYgKCF0aGlzLm1kc0RhdGVUaW1lUGlja2VyQ29yZSkgcmV0dXJuO1xyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5tZHNEYXRlVGltZVBpY2tlckNvcmUuc2V0RGF0ZVRpbWVCeURhdGUoIXZhbHVlID8gbnVsbCA6IG5ldyBEYXRlKHZhbHVlKSk7XHJcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxyXG4gICAgICAgIHRoaXMuX3NlbGVjdGVkRGF0ZVRpbWUgPSBudWxsO1xyXG4gICAgICBlbHNlXHJcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWREYXRlVGltZSA9IG5ldyBEYXRlKHZhbHVlKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfc2VsZWN0ZWREYXRlVGltZVJhbmdlczogRGF0ZVtdID0gbnVsbDtcclxuICBnZXQgc2VsZWN0ZWREYXRlVGltZVJhbmdlcygpOiBEYXRlW10ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkRGF0ZVRpbWVSYW5nZXM7XHJcbiAgfVxyXG4gIHNldCBzZWxlY3RlZERhdGVUaW1lUmFuZ2VzKHZhbHVlczogRGF0ZVtdKSB7XHJcbiAgICBpZiAoIXRoaXMubWRzRGF0ZVRpbWVQaWNrZXJDb3JlKSByZXR1cm47XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAodmFsdWVzID09IG51bGwgfHwgdmFsdWVzLmxlbmd0aCA8IDIpIHJldHVybjtcclxuICAgICAgdGhpcy5tZHNEYXRlVGltZVBpY2tlckNvcmUuc2V0RGF0ZVRpbWVSYW5nZXNCeURhdGUoXHJcbiAgICAgICAgdmFsdWVzWzBdID09IG51bGwgPyBudWxsIDogbmV3IERhdGUodmFsdWVzWzBdKSxcclxuICAgICAgICB2YWx1ZXNbMV0gPT0gbnVsbCA/IG51bGwgOiBuZXcgRGF0ZSh2YWx1ZXNbMV0pKTtcclxuICAgICAgdGhpcy5fc2VsZWN0ZWREYXRlVGltZVJhbmdlcyA9IFt2YWx1ZXNbMF0sIHZhbHVlc1sxXV07XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHRoaXMuY2xlYXIoKTtcclxuICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RXZlbnRPYmplY3QoZXZlbnQ6IGFueSk6IElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJFdmVudE1vZGVsIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGV2ZW50QXJnczogZXZlbnQsXHJcbiAgICAgIHNlbGVjdGVkRGF0ZTogdGhpcy5tZHNEYXRlVGltZVBpY2tlckNvcmUuZ2V0U2VsZWN0ZWREYXRlLFxyXG4gICAgICBzZWxlY3RlZFJhbmdlRGF0ZXM6IHRoaXMubWRzRGF0ZVRpbWVQaWNrZXJDb3JlLmdldFNlbGVjdGVkUmFuZ2VEYXRlc1xyXG4gICAgfTtcclxuICB9XHJcbiAgcHJpdmF0ZSBnZXRTZWxlY3RlZERhdGVPYmplY3QoKTogSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRhdGVNb2RlbCB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzZWxlY3RlZERhdGU6IHRoaXMubWRzRGF0ZVRpbWVQaWNrZXJDb3JlLmdldFNlbGVjdGVkRGF0ZSxcclxuICAgICAgc2VsZWN0ZWRSYW5nZURhdGVzOiB0aGlzLm1kc0RhdGVUaW1lUGlja2VyQ29yZS5nZXRTZWxlY3RlZFJhbmdlRGF0ZXNcclxuICAgIH07XHJcbiAgfVxyXG4gIHNob3dEYXRlUGlja2VyQnV0dG9uQ2xpY2tlZCgpIHtcclxuICAgIHRoaXMuc2hvd0RhdGVQaWNrZXIgPSAhdGhpcy5zaG93RGF0ZVBpY2tlcjtcclxuICAgIGlmICh0aGlzLnNob3dEYXRlUGlja2VyKSB7XHJcbiAgICAgIC8vY29uc3QgcmVjdE9iamVjdCA9IHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAvL3RoaXMudG9wT2Zmc2V0ID0gcmVjdE9iamVjdC50b3A7XHJcbiAgICAgIC8vdGhpcy5sZWZ0T2Zmc2V0ID0gcmVjdE9iamVjdC5sZWZ0O1xyXG4gICAgfVxyXG4gIH1cclxuICBkYXRlQ2hhbmdlZEhhbmRsZXIoZGF0ZTogSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRhdGUpIHtcclxuICAgIGlmICghdGhpcy5hZnRlclZpZXdJbml0KSByZXR1cm47XHJcbiAgICB0aGlzLmRhdGVDaGFuZ2VkLmVtaXQoZGF0ZSk7XHJcbiAgICBpZiAoZGF0ZSAhPSBudWxsKSB7XHJcbiAgICAgIHRoaXMubXlDb250cm9sLnNldFZhbHVlKGRhdGUuZm9ybWF0U3RyaW5nKTtcclxuICAgICAgdGhpcy5zZWxlY3RlZERhdGVUaW1lID0gbmV3IERhdGUoZGF0ZS51dGNEYXRlVGltZSk7XHJcbiAgICAgIGlmICghdGhpcy5zaG93aW5nRGF0ZVRpbWVQaWNrZXJMb2NrZWQpXHJcbiAgICAgICAgdGhpcy5zaG93RGF0ZVBpY2tlciA9IGZhbHNlO1xyXG4gICAgICB0aGlzLnByb3BhZ2F0ZUNoYW5nZSh0aGlzLmdldFNlbGVjdGVkRGF0ZU9iamVjdCgpKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmFuZ2VEYXRlQ2hhbmdlZEhhbmRsZXIocmFuZ2VEYXRlOiBJTWRzQW5ndWxhckRhdGVUaW1lUGlja2VyUmFuZ2VEYXRlKSB7XHJcbiAgICBpZiAoIXRoaXMuYWZ0ZXJWaWV3SW5pdCkgcmV0dXJuO1xyXG4gICAgdGhpcy5teUNvbnRyb2wuc2V0VmFsdWUoJycpO1xyXG4gICAgaWYgKHJhbmdlRGF0ZSA9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMucmFuZ2VEYXRlQ2hhbmdlZC5lbWl0KHJhbmdlRGF0ZSk7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWREYXRlVGltZVJhbmdlcyA9IFtudWxsLCBudWxsXTtcclxuICAgICAgdGhpcy5wcm9wYWdhdGVDaGFuZ2UodGhpcy5nZXRTZWxlY3RlZERhdGVPYmplY3QoKSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChyYW5nZURhdGUuc3RhcnREYXRlLmZvcm1hdFN0cmluZyAhPSAnJyAmJiByYW5nZURhdGUuZW5kRGF0ZS5mb3JtYXRTdHJpbmcgIT0gJycpXHJcbiAgICAgIHRoaXMubXlDb250cm9sLnNldFZhbHVlKGAke3JhbmdlRGF0ZS5zdGFydERhdGUuZm9ybWF0U3RyaW5nfSAtICR7cmFuZ2VEYXRlLmVuZERhdGUuZm9ybWF0U3RyaW5nfWApO1xyXG4gICAgdGhpcy5yYW5nZURhdGVDaGFuZ2VkLmVtaXQocmFuZ2VEYXRlKTtcclxuICAgIGlmIChyYW5nZURhdGUuc3RhcnREYXRlLmZvcm1hdFN0cmluZyAhPSAnJyAmJiByYW5nZURhdGUuZW5kRGF0ZS5mb3JtYXRTdHJpbmcgIT0gJycgJiYgIXRoaXMuc2hvd2luZ0RhdGVUaW1lUGlja2VyTG9ja2VkKVxyXG4gICAgICB0aGlzLnNob3dEYXRlUGlja2VyID0gZmFsc2U7XHJcbiAgICB0aGlzLnNlbGVjdGVkRGF0ZVRpbWVSYW5nZXMgPSBbcmFuZ2VEYXRlLnN0YXJ0RGF0ZS51dGNEYXRlVGltZSwgcmFuZ2VEYXRlLmVuZERhdGUudXRjRGF0ZVRpbWVdO1xyXG4gICAgdGhpcy5wcm9wYWdhdGVDaGFuZ2UodGhpcy5nZXRTZWxlY3RlZERhdGVPYmplY3QoKSk7XHJcbiAgfVxyXG4gIGRhdGVUaW1lVGV4dEJveE9uRm9jdXNIYW5kbGVyKGV2ZW50OiBhbnkpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdodG1sJylbMF0uY2xpY2soKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkRGF0ZVRpbWUgIT0gbnVsbClcclxuICAgICAgICB0aGlzLm1kc0RhdGVUaW1lUGlja2VyQ29yZS5zZXREYXRlVGltZUJ5RGF0ZSh0aGlzLnNlbGVjdGVkRGF0ZVRpbWUpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNob3dEYXRlUGlja2VyQnV0dG9uQ2xpY2tlZCgpO1xyXG4gICAgdGhpcy50ZXh0Qm94Rm9jdXMuZW1pdCh0aGlzLmdldEV2ZW50T2JqZWN0KGV2ZW50KSk7XHJcbiAgfVxyXG4gIGRhdGVUaW1lVGV4dEJveE9uQmx1ckhhbmRsZXIoZXZlbnQ6IGFueSk6IHZvaWQge1xyXG4gICAgbGV0IHZhbHVlID0gIXRoaXMubXlDb250cm9sLnZhbHVlID8gJycgOiB0aGlzLm15Q29udHJvbC52YWx1ZS50cmltKCk7XHJcbiAgICBpZiAodGhpcy5wZXJzaWFuQ2hhcilcclxuICAgICAgdmFsdWUgPSBNZHNEYXRldGltZVBpY2tlclV0aWxpdHkudG9QZXJzaWFuTnVtYmVyKHZhbHVlKTtcclxuICAgIGVsc2VcclxuICAgICAgdmFsdWUgPSBNZHNEYXRldGltZVBpY2tlclV0aWxpdHkudG9FbmdsaXNoU3RyaW5nKHZhbHVlKTtcclxuICAgIGxldCB0YXJnZXRFbGVtZW50ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgaWYgKCF0YXJnZXRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnZGF0YS1tZHMtcGVyc2lhbi1kYXRldGltZXBpY2tlcicpKSB7XHJcbiAgICAgIHRoaXMuc2hvd2luZ0RhdGVUaW1lUGlja2VyTG9ja2VkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5tZHNEYXRlVGltZVBpY2tlckNvcmUuc2V0RGF0ZVRpbWVCeVN0cmluZyh2YWx1ZSk7XHJcbiAgICAgIHRoaXMuc2hvd2luZ0RhdGVUaW1lUGlja2VyTG9ja2VkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB0aGlzLnRleHRCb3hCbHVyLmVtaXQodGhpcy5nZXRFdmVudE9iamVjdChldmVudCkpO1xyXG4gIH1cclxuICBkYXRlVGltZVRleHRCb3hPbktleURvd25IYW5kbGVyKGV2ZW50OiBhbnkpOiB2b2lkIHtcclxuICAgIGlmIChldmVudC5rZXlDb2RlICE9IDEzKSB7XHJcbiAgICAgIHRoaXMudGV4dEJveEtleURvd24uZW1pdCh0aGlzLmdldEV2ZW50T2JqZWN0KGV2ZW50KSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZS50cmltKCk7XHJcbiAgICBpZiAoIXZhbHVlKVxyXG4gICAgICB0aGlzLm1kc0RhdGVUaW1lUGlja2VyQ29yZS5jbGVhckRhdGVUaW1lUGlja2VyKCk7XHJcbiAgICBlbHNlXHJcbiAgICAgIHRoaXMubWRzRGF0ZVRpbWVQaWNrZXJDb3JlLnNldERhdGVUaW1lQnlTdHJpbmcodmFsdWUpO1xyXG4gICAgdGhpcy5zaG93RGF0ZVBpY2tlciA9IGZhbHNlO1xyXG4gICAgdGhpcy50ZXh0Qm94S2V5RG93bi5lbWl0KHRoaXMuZ2V0RXZlbnRPYmplY3QoZXZlbnQpKTtcclxuICB9XHJcblxyXG4gIGNsZWFyKCkge1xyXG4gICAgaWYgKHRoaXMuaW5DbGVhckZ1bmN0aW9uIHx8ICF0aGlzLm1kc0RhdGVUaW1lUGlja2VyQ29yZSkgcmV0dXJuO1xyXG4gICAgdGhpcy5pbkNsZWFyRnVuY3Rpb24gPSB0cnVlO1xyXG4gICAgdGhpcy5teUNvbnRyb2wuc2V0VmFsdWUoJycpO1xyXG4gICAgdGhpcy5zZWxlY3RlZERhdGVUaW1lID0gbnVsbDtcclxuICAgIHRoaXMuc2VsZWN0ZWREYXRlVGltZVJhbmdlcyA9IFtudWxsLCBudWxsXTtcclxuXHJcbiAgICB0aGlzLm1kc0RhdGVUaW1lUGlja2VyQ29yZS5jbGVhckRhdGVUaW1lUGlja2VyKCk7XHJcbiAgICB0aGlzLmluQ2xlYXJGdW5jdGlvbiA9IGZhbHNlO1xyXG4gIH1cclxuICBzZXREYXRlVGltZShkYXRlVGltZTogRGF0ZSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5tZHNEYXRlVGltZVBpY2tlckNvcmUuc2V0RGF0ZVRpbWVCeURhdGUoZGF0ZVRpbWUpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHNldERhdGVUaW1lUmFuZ2VzKHN0YXJ0RGF0ZVRpbWU6IERhdGUsIGVuZERhdGVUaW1lOiBEYXRlKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICB0aGlzLm1kc0RhdGVUaW1lUGlja2VyQ29yZS5zZXREYXRlVGltZVJhbmdlc0J5RGF0ZShzdGFydERhdGVUaW1lLCBlbmREYXRlVGltZSk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHRoaXMuY2xlYXIoKTtcclxuICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgIH1cclxuICB9XHJcbiAgc2hvd0RhdGVUaW1lUGlja2VyKCkge1xyXG4gICAgdGhpcy5zaG93RGF0ZVBpY2tlciA9IHRydWU7XHJcbiAgfVxyXG4gIGhpZGVEYXRlVGltZVBpY2tlcigpIHtcclxuICAgIHRoaXMuc2hvd0RhdGVQaWNrZXIgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vI3JlZ2lvbiBDb250cm9sVmFsdWVBY2Nlc3NvclxyXG5cclxuICBwcml2YXRlIHByb3BhZ2F0ZUNoYW5nZTogYW55ID0gKCkgPT4geyB9O1xyXG4gIHByaXZhdGUgdmFsSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRhdGVGbjogYW55ID0gKCkgPT4geyB9O1xyXG5cclxuICB3cml0ZVZhbHVlKHZhbHVlTW9kZWw6IElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlTW9kZWwpOiB2b2lkIHtcclxuICAgIGlmICghdmFsdWVNb2RlbCB8fCAoIXZhbHVlTW9kZWwuc2VsZWN0ZWREYXRlICYmICF2YWx1ZU1vZGVsLnNlbGVjdGVkUmFuZ2VEYXRlcykpIHtcclxuICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5yYW5nZVNlbGVjdG9yICYmIHZhbHVlTW9kZWwuc2VsZWN0ZWRSYW5nZURhdGVzKVxyXG4gICAgICB0aGlzLnNlbGVjdGVkRGF0ZVRpbWVSYW5nZXMgPSBbdmFsdWVNb2RlbC5zZWxlY3RlZFJhbmdlRGF0ZXMuc3RhcnREYXRlLnV0Y0RhdGVUaW1lLCB2YWx1ZU1vZGVsLnNlbGVjdGVkUmFuZ2VEYXRlcy5lbmREYXRlLnV0Y0RhdGVUaW1lXTtcclxuICAgIGVsc2UgaWYgKHZhbHVlTW9kZWwuc2VsZWN0ZWREYXRlKVxyXG4gICAgICB0aGlzLnNlbGVjdGVkRGF0ZVRpbWUgPSB2YWx1ZU1vZGVsLnNlbGVjdGVkRGF0ZS51dGNEYXRlVGltZTtcclxuICB9XHJcbiAgcmVnaXN0ZXJPbkNoYW5nZShmbjogYW55KTogdm9pZCB7XHJcbiAgICB0aGlzLnByb3BhZ2F0ZUNoYW5nZSA9IGZuO1xyXG4gIH1cclxuICByZWdpc3Rlck9uVG91Y2hlZChmbjogYW55KTogdm9pZCB7XHJcblxyXG4gIH1cclxuICBzZXREaXNhYmxlZFN0YXRlPyhpc0Rpc2FibGVkOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAvL3RoaXMuZGlzYWJsZWQgPSBpc0Rpc2FibGVkXHJcbiAgICBpZiAoaXNEaXNhYmxlZClcclxuICAgICAgdGhpcy5teUNvbnRyb2wuZGlzYWJsZSgpO1xyXG4gICAgZWxzZVxyXG4gICAgICB0aGlzLm15Q29udHJvbC5lbmFibGUoKTtcclxuICB9XHJcblxyXG4gIHZhbElNZHNBbmd1bGFyRGF0ZVRpbWVQaWNrZXJEYXRlKGM6IGFueSkge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsSU1kc0FuZ3VsYXJEYXRlVGltZVBpY2tlckRhdGVGbihjLnZhbHVlKTtcclxuICB9XHJcblxyXG4gIC8vI2VuZHJlZ2lvblxyXG59IiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBEb21TYW5pdGl6ZXIgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcclxuXHJcbkBQaXBlKHtcclxuICBuYW1lOiAnc2FmZUh0bWwnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBTYWZlSHRtbFBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNhbml0aXplZDogRG9tU2FuaXRpemVyKSB7XHJcbiAgfVxyXG4gIHRyYW5zZm9ybSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gJ3RoaXMuc2FuaXRpemVkLmJ5cGFzc1NlY3VyaXR5VHJ1c3RIdG1sKHZhbHVlKSc7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBpcGUsIFBpcGVUcmFuc2Zvcm0gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTWRzRGF0ZXRpbWVQaWNrZXJVdGlsaXR5IH0gZnJvbSAnLi4vY2xhc3Nlcy9tZHMtZGF0ZXRpbWUtcGlja2VyLnV0aWxpdHknO1xyXG5cclxuQFBpcGUoeyBuYW1lOiAncGVyc2lhbk51bWJlcicgfSlcclxuZXhwb3J0IGNsYXNzIFBlcnNpYW5OdW1iZXJQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XHJcbiAgdHJhbnNmb3JtKHZhbHVlOiBzdHJpbmcsIGlzUGVyc2lhbjogYm9vbGVhbik6IHN0cmluZyB7XHJcbiAgICBpZiAoIWlzUGVyc2lhbikgcmV0dXJuIHZhbHVlO1xyXG4gICAgcmV0dXJuIE1kc0RhdGV0aW1lUGlja2VyVXRpbGl0eS50b1BlcnNpYW5OdW1iZXIodmFsdWUpO1xyXG4gIH1cclxufSIsImltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcbmltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEZvcm1zTW9kdWxlLCBSZWFjdGl2ZUZvcm1zTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBNYXRJbnB1dE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcclxuaW1wb3J0IHsgTWF0QnV0dG9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvYnV0dG9uJztcclxuaW1wb3J0IHsgTWF0Rm9ybUZpZWxkTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZm9ybS1maWVsZCc7XHJcbmltcG9ydCB7IE1hdEdyaWRMaXN0TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZ3JpZC1saXN0JztcclxuaW1wb3J0IHsgTWRzQW5ndWxhclBlcnNpYW5EYXRlVGltZVBpY2tlckNvcmVDb21wb25lbnQgfSBmcm9tICcuL2NvcmUvbWRzLWFuZ3VsYXItcGVyc2lhbi1kYXRlLXRpbWUtcGlja2VyLWNvcmUuY29tcG9uZW50JztcclxuaW1wb3J0IHsgTWRzQW5ndWxhclBlcnNpYW5EYXRlVGltZVBpY2tlckNvbXBvbmVudCB9IGZyb20gJy4vbWRzLWFuZ3VsYXItcGVyc2lhbi1kYXRlLXRpbWUtcGlja2VyLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFNhZmVIdG1sUGlwZSB9IGZyb20gJy4vcGlwZXMvc2FmZS1odG1sLnBpcGUnO1xyXG5pbXBvcnQgeyBQZXJzaWFuTnVtYmVyUGlwZSB9IGZyb20gJy4vcGlwZXMvcGVyc2lhbi1udW1iZXIucGlwZSc7XHJcblxyXG5ATmdNb2R1bGUoe1xyXG4gIGltcG9ydHM6IFtcclxuICAgIENvbW1vbk1vZHVsZSxcclxuICAgIE1hdEZvcm1GaWVsZE1vZHVsZSwgTWF0QnV0dG9uTW9kdWxlLCBNYXRJbnB1dE1vZHVsZSxcclxuICAgIE1hdEdyaWRMaXN0TW9kdWxlLCBGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZVxyXG4gIF0sXHJcbiAgZGVjbGFyYXRpb25zOiBbXHJcbiAgICBNZHNBbmd1bGFyUGVyc2lhbkRhdGVUaW1lUGlja2VyQ29yZUNvbXBvbmVudCxcclxuICAgIE1kc0FuZ3VsYXJQZXJzaWFuRGF0ZVRpbWVQaWNrZXJDb21wb25lbnQsIFNhZmVIdG1sUGlwZSwgUGVyc2lhbk51bWJlclBpcGVdLFxyXG4gIGV4cG9ydHM6IFtcclxuICAgIE1kc0FuZ3VsYXJQZXJzaWFuRGF0ZVRpbWVQaWNrZXJDb21wb25lbnRcclxuICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBNZHNBbmd1bGFyUGVyc2lhbkRhdGVUaW1lUGlja2VyTW9kdWxlIHsgfVxyXG4iXSwibmFtZXMiOlsiUGVyc2lhbkRhdGVUaW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztJQUNFLFlBQWE7SUFDYixXQUFZOzs7Ozs7SUFJWixhQUFjO0lBQ2QsZ0JBQWlCOzs7Ozs7Ozs7Ozs7OztBQ1BuQixBQUNBLElBQU8sZUFBZSxHQUFHLEdBQUcsQ0FBQyxlQUFlLENBQUM7QUFFN0M7Ozs7O0lBQ0UsT0FBTyxlQUFlLENBQUMsS0FBYTtRQUNsQyxJQUFJLEtBQUssSUFBSSxFQUFFLElBQUksS0FBSyxJQUFJLElBQUk7WUFBRSxPQUFPLEVBQUUsQ0FBQztRQUM1QyxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsR0FB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RSxJQUFJLE1BQU0sSUFBSSxJQUFJO1lBQ2hDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFBRSxNQUFNLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUUsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLEVBQUUsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQzs7WUFDL1AsY0FBYyxHQUFHLE1BQU07UUFDM0IsY0FBYyxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDMUYsY0FBYyxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDdEYsY0FBYyxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzdGLGNBQWMsR0FBRyxjQUFjLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2xGLGNBQWMsR0FBRyxjQUFjLENBQUMsT0FB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