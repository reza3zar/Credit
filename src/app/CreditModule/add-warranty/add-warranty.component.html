<!-- (ngSubmit)="onSubmit()" -->
<form [formGroup]="creditForm" class="simple-form"  (ngSubmit)="onSubmit()">
       <h3 style="text-align: center;">افزودن ضمانت بانکی</h3>
        <div class="row">
                <div class="col-lg-6 col-sm-12">
                        <h4 style="text-align: right;">{{broker?.name}} {{customer?.name}} </h4>
                    </div>
                    <div class="col-lg-6 col-sm-12">
                            <h4 style="text-align: left;">{{category?.name}} </h4>
                        </div>


        </div>
        <div class="panel panel-info">
            <div class="panel-heading clearfix">
                <i class="icon-calendar"></i>
                <h3 class="panel-title"></h3>
            </div>

            <div class="panel-body">
                <div class="row">
                    <div class="col-lg-6 col-sm-12">


                        <div class="input-group">
                                <span class="input-group-addon" >شماره</span>
                                     <input type="text" formControlName="creditNumber" [(ngModel)]="credit.creditNumber"
                                      required class="form-control"   />


                            </div>
                            <div *ngIf="submitted && ctrl.creditNumber.errors" class="invalid-feedback">
                                    <div *ngIf="submitted && ctrl.creditNumber.errors.required" class="fontColorError">فیلد شماره الزامی است</div>
                             </div>
                    </div>

                    <div class="col-lg-6 col-sm-12">

                            <div class="input-group">
                                    <span class="input-group-addon">مــبـلــغ</span>
                                    <input style="direction: ltr"  type="text" formControlName="value"  [(ngModel)]="credit.value" numbersOnly required  class="form-control" />
                                </div>
                                <div *ngIf="submitted && ctrl.value.errors" class="invalid-feedback">
                                        <div *ngIf="submitted && ctrl.value.errors.required" class="fontColorError">فیلد مبلغ الزامی است</div>
                                 </div>
                        </div>
                    </div>

                <br />
                <div class="row">
                    <div class="col-lg-6 col-sm-12">
                            <div class="input-group">
                                    <span class="input-group-addon" style="font-size: xx-small">ت.صدور</span>
                            <dp-date-picker
                            class="form-control"
                            dir="rtl"
                            formControlName="issueDate"
                            mode="day"
                            [(ngModel)]="credit.isueDateMoment"
                             required
                            placeholder="تاریخ صدور"
                            theme="dp-material"
                        >
                        </dp-date-picker>
        </div>
        <div *ngIf="submitted && ctrl.issueDate.errors" class="invalid-feedback">
                <div *ngIf="submitted && ctrl.issueDate.errors.required" class="fontColorError">فیلد تاریخ صدور الزامی است</div>
         </div>

                    </div>
                    <div class="col-lg-6 col-sm-12">

                            <div class="input-group">
                                    <span class="input-group-addon"  style="font-size: xx-small">ت‌.سر رسید</span>
                                    <dp-date-picker
                                        class="form-control"
                                        dir="rtl"
                                        mode="day"
                                        required="false"
                                        formControlName="dueDate"
                                        [(ngModel)]="credit.dueDateMoment"
                                        placeholder="تاریخ سر رسید"
                                        theme="dp-material"
                                    >
                                    </dp-date-picker>



                    </div>

                    <div *ngIf="submitted && ctrl.dueDate.errors" class="invalid-feedback">
                            <div *ngIf="submitted && ctrl.dueDate.errors.required" class="fontColorError">فیلد تاریخ سررسید الزامی است</div>
                     </div>
                </div>
                </div>
                <br />
                <div class="row">


                    <div class="col-lg-6 col-sm-12">
                            <div class="input-group">
                                    <span class="input-group-addon">بـــــــــانـــــــــک</span>
                                    <app-bank-combo [(ngModel)]="credit.bank"  required      formControlName="bankId"></app-bank-combo>
                                </div>
                                <div *ngIf="submitted && ctrl.bankId.errors" class="invalid-feedback">
                                        <div *ngIf="submitted && ctrl.bankId.errors.required" class="fontColorError">فیلد بانک الزامی است</div>
                                 </div>

                    </div>

                    <div class="col-lg-6 col-sm-12">
                        <div class="input-group">
                                <span class="input-group-addon">کد شعبه</span>
                                <input type="text" [(ngModel)]="credit.branchCode" required  formControlName="branchCode" class="form-control" />
                            </div>
                            <div *ngIf="submitted && ctrl.branchCode.errors" class="invalid-feedback">
                                    <div *ngIf="submitted && ctrl.branchCode.errors.required" class="fontColorError">فیلد کد شعبه الزامی است</div>
                             </div>
                </div>

                </div>
                <br />


                <div class="row">

                    <div class="col-lg-12 col-sm-12">
                            <div class="input-group">
                                    <span class="input-group-addon">نـــام شـــعــبـه</span>
                                    <input type="text" [(ngModel)]="credit.branchName" formControlName="branchName" required class="form-control" />
                                </div>
                                <div *ngIf="submitted && ctrl.branchName.errors" class="invalid-feedback">
                                        <div *ngIf="submitted && ctrl.branchName.errors.required" class="fontColorError">فیلد نام شعبه الزامی است</div>
                                 </div>
                    </div>
                </div>
                <br />


                    <div class="row">
                        <div class="col-lg-12 col-sm-12">
                            <div class="input-group">
                                <span class="input-group-addon">نـــــشـــــانــــی</span>
                                <textarea
                                    class="form-control"
                                    [(ngModel)]="credit.address"
                                    formControlName="address"
                                    aria-label="نشانی"
                                ></textarea>
                            </div>
                        </div>
                    </div>
                    <br />
                <div class="row">
                    <div class="col-lg-12 col-sm-12">
                        <div class="input-group">
                            <span class="input-group-addon">تـــوضیـــحـــات</span>
                            <textarea
                                class="form-control"
                                formControlName="description"
                                [(ngModel)]="credit.description"
                                aria-label="توضیحات"
                            ></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <br />

            <div class="row">
                <div class="col-md-12 col-sm-12 col-xs-12">
                    <div class="col-xs-6 col-md-6">
                        <button
                            (click)="onSubmit()"
                            [ngClass]="{'m-progress':sendDataToServer}"
                            class="btn btn-success btn-block btn-lg">ذخیره</button>
                    </div>
                    <div class="col-xs-6 col-md-6">
                        <a (click)="closeMe()"  class="btn btn-danger btn-block btn-lg">انصراف</a>
                    </div>
                </div>
            </div>
            <br />
            </div>
            </form>


            <div class="example-wrapper">
                    <kendo-dialog
                        title="فرم هشدار"
                        *ngIf="opened"
                        (close)="close('no')"
                        [minWidth]="250"
                        [width]="450"
                    >
                        <p style="margin: 30px; text-align: center;">
                            با شناسه اعتبار وارد شده، اعتبار دیگر در سیستم موجود می باشد ادامه می دهید؟
                        </p>
                        <kendo-dialog-actions>
                            <button kendoButton (click)="close('no')" primary="true">
                                خیر
                            </button>
                            <button kendoButton (click)="close('yes')">بلی</button>
                        </kendo-dialog-actions>
                    </kendo-dialog>
                </div>
